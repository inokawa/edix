import{r as Pe}from"./index-RYns6xqu.js";var me={exports:{}},O={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ie=Pe,Be=Symbol.for("react.element"),He=Symbol.for("react.fragment"),Ge=Object.prototype.hasOwnProperty,Ue=Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,We={key:!0,ref:!0,__self:!0,__source:!0};function be(e,t,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Ge.call(t,s)&&!We.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:Be,type:e,key:r,ref:o,props:i,_owner:Ue.current}}O.Fragment=He;O.jsx=be;O.jsxs=be;me.exports=O;var nt=me.exports;const Fe=500,Ve=e=>{let t=0;const n=[e],s=()=>n[t],i=l=>{n[t]=l},r=l=>{n[++t]=l,n.splice(t+1),t>Fe&&(t--,n.shift())},o=()=>t>0,a=()=>t<n.length-1;return{get:s,set:i,undo:()=>{if(o())return t--,s()},redo:()=>{if(a())return t++,s()},push:r}},V=(e,t)=>e[0]===t[0]&&e[1]===t[1],we=([e,t],[n,s])=>e===n?t>s:e>n,{min:Ee}=Math,ve=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},je=1,Ke=3,qe=2,j=1,K=4,Re="BR",ge="TEMPLATE",Ne=(e,t)=>{if(e.tagName!==Re)return!1;if(t)return!0;let n=!1,s=!1,i=e;for(;i=i.previousSibling;)if(b(i)){n=!0;break}else if(T(i)&&i.tagName!==ge)return!1;let r=e;for(;r=r.nextSibling;)if(b(r)){s=!0;break}else if(T(r)&&r.tagName!==ge)return!1;return n&&s},Ce=e=>e.ownerDocument,b=e=>e.nodeType===Ke,T=e=>e.nodeType===je,ze=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),Xe=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","MAP","SVG","CANVAS","IFRAME"]),Se=e=>!!e&&ze.has(e.tagName),q=e=>e.contentEditable==="false"||Xe.has(e.tagName),z=e=>Ce(e).getSelection(),Oe=(e,t)=>{if(!e.rangeCount)return;const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n},Te=(e,t,n)=>{const s=z(e);s.removeAllRanges(),s.addRange(t),n&&(s.collapseToEnd(),s.extend(t.startContainer,t.startOffset))},X=(e,t)=>{if(t){const n=e.currentNode;let s;for(;(s=e.nextNode())&&n.contains(s););return s}return e.nextNode()},G=(e,t,[n,s],i)=>{const r=we(n,s),o=r?s:n,a=r?n:s;if(o[0]===0&&o[1]===0&&V(o,a)&&!t.hasChildNodes()){const d=e.createRange();return d.setStart(t,0),d.setEnd(t,0),Te(t,d),!0}const c=Le(e,t,o,i);if(!c)return!1;const f=Le(e,t,a,i);if(!f)return!1;const l=e.createRange();{const[d,g]=c;T(d)?g<1?l.setStartBefore(d):l.setStartAfter(d):l.setStart(d,Ee(g,d.data.length))}{const[d,g]=f;T(d)?g<1?l.setEndBefore(d):l.setEndAfter(d):l.setEnd(d,Ee(g,d.data.length))}return Te(t,l,r),!0},Le=(e,t,[n,s],i)=>{let r=0,o,a=!1;const c=i||t.childElementCount===0?t:t.children[n],f=e.createTreeWalker(c,K|j);for(;o=X(f,a);)if(a=!1,b(o)){const l=o.data.length;if(r+l>=s)return[o,s-r];r+=l}else if(T(o)){if(o.tagName===Re){if(r+1>=s)return[o,0];r++}else if(q(o)){if(a=!0,r+1>=s)return[o,s-r];r++}}},$e=e=>{const t=e.anchorNode.compareDocumentPosition(e.focusNode);return t===0?e.anchorOffset>e.focusOffset:(t&qe)!==0},U=(e,t,n,s,i)=>{let r=n,o;if(i||t.childElementCount===0)r=t,o=0;else{for(;r.parentNode!==t;)r=r.parentNode;o=Array.prototype.indexOf.call(t.children,r)}let a=0,c,f=!1;const l=T(n);l&&(n=n.childNodes[s]);const d=e.createTreeWalker(r,K|j);for(;c=X(d,f);){if(f=!1,c===n){a+=l?0:s;break}b(c)?a+=c.data.length:T(c)&&(Ne(c)?(o++,a=0):q(c)&&(f=!0,a++))}return[o,a]},F=()=>[[0,0],[0,0]],xe=(e,t,n)=>{const s=z(t),i=Oe(s,t);if(!i)return F();const r=$e(s),{startOffset:o,startContainer:a,endOffset:c,endContainer:f}=i;let l,d;if(t===a&&!n)if(o===0&&c!==0&&t.children.length<=c)l=[0,0],d=U(e,t,t.lastElementChild,t.lastElementChild.textContent.length,n);else return F();else l=U(e,t,a,o,n),d=U(e,t,f,c,n);return[r?d:l,r?l:d]},m=(e,t,n)=>{const s=[],i=e.createTreeWalker(t,K|j),r=d=>{c||(c=[]),f&&(c.push(f),f=""),d&&c.push(d)},o=()=>{r(),c&&s.push(c),c=null};let a,c=null,f="",l=!1;for(;a=X(i,l);)l=!1,b(a)?f+=a.data:T(a)&&(Se(a)&&Se(a.previousElementSibling)||Ne(a,n)?o():q(a)&&(l=!0,r(a)));return o(),s},Ye=e=>{const t=Oe(z(e),e);if(t)return t.cloneContents()},Je=(e,t)=>{let n=!1;const s=[],i=a=>{n&&s.push(...a)},r=new MutationObserver(a=>{i(a),n||t()}),o=()=>{i(r.takeRecords())};return r.observe(e,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(a){!n&&a&&o(),n=a},_flush:()=>(o(),s.splice(0)),_dispose(){s.splice(0),r.disconnect()}}},Qe=e=>{let t;for(;t=e.pop();)if(t.type==="characterData")t.target.nodeValue=t.oldValue;else if(t.type==="childList"){const{target:n,removedNodes:s,addedNodes:i,nextSibling:r}=t;for(let o=s.length-1;o>=0;o--)n.insertBefore(s[o],r);for(let o=i.length-1;o>=0;o--)i[o].parentNode&&n.removeChild(i[o])}},C=e=>typeof e=="string",$=e=>C(e)?e.length:1,ye=e=>e.reduce((t,n)=>t+$(n),0),N=e=>{for(let t=0;t<e.length-1;){const n=e[t],s=e[t+1];C(n)&&s!=null&&C(s)?(e[t]=n+s,e.splice(t+1,1)):t++}return e},W=(e,[t,n])=>{const s=e[t];for(let i=0;i<s.length;i++){const r=s[i],o=$(r);if(o>n){const a=s.slice(0,i),c=s.slice(i+1);return C(r)?(a.push(r.slice(0,n)),c.unshift(r.slice(n))):n===0?c.unshift(r):a.push(r),[a,c]}n-=o}return[s,[]]},De=(e,t,n,s,i)=>{const r=i.length,[o,a]=s;if(r===1)return e[o]=N([...t,...i[0],...n]),[o,a+ye(i[0])];{const c=[],f=i[r-1];e[o]=N([...t,...i[0]]);for(let l=1;l<r-1;l++)c.push([...i[l]]);return e.splice(o+1,0,...c),e.splice(o+r-1,0,N([...f,...n])),[o+r-1,ye(f)]}},ke=(e,[t,n],s)=>{const i=e.map(o=>[...o]);let r;if(V(t,n))r=De(i,...W(i,t),t,s);else{const o=we(t,n),a=o?n:t,c=o?t:n,f=a[0],l=c[0];r=De(i,W(i,a)[0],W(i,c)[1],a,s),f!==l&&i.splice(f+s.length,l-f)}return[i,[r,r]]},Me=(e,t,n)=>ke(e,t,n.split(`
`).map(s=>[s])),Ze=(e,t)=>V(t[0],t[1])?[e,t]:Me(e,t,""),et=(e,[[t,n],[s,i]])=>{const r=[];let o=0,a=0;for(let c=0;c<e.length;c++)for(const f of e[c]){r.push(f);const l=$(f);c<t&&(o+=l),c<s&&(a+=l)}return[[N(r)],[[0,o+n],[0,a+i]]]},_e=e=>e.reduce((t,n,s)=>(s!==0&&(t+=`
`),t+n.reduce((i,r)=>i+(typeof r=="string"?r:r.textContent),"")),""),st=(e,{multiline:t,readonly:n,serializer:s={data:_e},onChange:i})=>{const{contentEditable:r,role:o,ariaMultiLine:a,ariaReadOnly:c}=e,f=e.style.whiteSpace,l=()=>{e.contentEditable=n?"false":"true",e.ariaReadOnly=n?"true":null};l(),e.role="textbox",e.style.whiteSpace="pre-wrap",t&&(e.ariaMultiLine="true");let d=!1,g=!1,S=F(),k=!1,M=!1,w=null,y=!1,R=!1,D=!1;const A=[],L=!t,{data:Y,plain:Ae=_e}=s,h=Ce(e),_=Ve([Y(m(h,e)),S]),x=Je(e,()=>{R&&(G(h,e,S,L),w!=null&&(clearTimeout(w),w=null))}),J=()=>{const u=S;w=setTimeout(()=>{G(h,e,u,L)})},Q=(u,p,v)=>{if(!n){L&&([u,p]=et(u,p));const E=Y(u);_.set([_.get()[0],v]),_.push([E,p]),S=p,i(E)}J()},Z=()=>{S=xe(h,e,L)},P=()=>{k||(k=!0,ve(()=>{k=!1;const u=x._flush();if(x._accept(!1),u.length){const p=xe(h,e,L),v=m(h,e);Qe(u),x._flush();const E=S;g=G(h,e,E,L),Q(v,p,E)}}))},I=(u,...p)=>{A.unshift([u,p]),M||(M=!0,ve(()=>{if(M=!1,A.length){const v=S;let E=S,B=m(h,e),H;for(;H=A.pop();)[B,E]=H[0](B,E,...H[1]);Q(B,E,v)}}))},ee=u=>{if(!y&&(u.metaKey||u.ctrlKey)&&!u.altKey&&u.code==="KeyZ"&&(u.preventDefault(),!n)){const p=u.shiftKey?_.redo():_.undo();p&&(x._accept(!1),S=p[1],i(p[0]),J())}},te=()=>{y||D||P()},ne=u=>{switch(u.inputType){case"historyUndo":{u.preventDefault();return}case"historyRedo":{u.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(L){u.preventDefault();return}}x._accept(!0)},se=()=>{y=!0},re=()=>{y=!1,P()},oe=()=>{if(g){g=!1;return}R&&!y&&!D&&Z()},ie=u=>{const p=Ye(e);if(!p)return;const v=Ae(m(h,p)),E=h.createElement("div");E.appendChild(p),u.setData("text/html",E.innerHTML),u.setData("text/plain",v)},ae=u=>{u.preventDefault(),ie(u.clipboardData)},ce=u=>{u.preventDefault(),n||(ie(u.clipboardData),I(Ze))},le=u=>{u.preventDefault();const p=u.clipboardData,v=p.getData("text/html");if(v)try{I(ke,m(h,new DOMParser().parseFromString(v,"text/html").body,!0));return}catch{}I(Me,p.getData("text/plain"))},ue=()=>{R=!0,Z()},fe=()=>{R=!1},de=()=>{D=!0},pe=()=>{D&&(D=!1,P())};h.addEventListener("selectionchange",oe),e.addEventListener("keydown",ee),e.addEventListener("input",te),e.addEventListener("beforeinput",ne),e.addEventListener("compositionstart",se),e.addEventListener("compositionend",re),e.addEventListener("copy",ae),e.addEventListener("cut",ce),e.addEventListener("paste",le),e.addEventListener("focus",ue),e.addEventListener("blur",fe),e.addEventListener("dragstart",de),e.addEventListener("dragend",pe);const he=()=>{d||(d=!0,e.contentEditable=r,e.role=o,e.ariaMultiLine=a,e.ariaReadOnly=c,e.style.whiteSpace=f,x._dispose(),h.removeEventListener("selectionchange",oe),e.removeEventListener("keydown",ee),e.removeEventListener("input",te),e.removeEventListener("beforeinput",ne),e.removeEventListener("compositionstart",se),e.removeEventListener("compositionend",re),e.removeEventListener("copy",ae),e.removeEventListener("cut",ce),e.removeEventListener("paste",le),e.removeEventListener("focus",ue),e.removeEventListener("blur",fe),e.removeEventListener("dragstart",de),e.removeEventListener("dragend",pe))};return he.readonly=u=>{n=u,l()},he};export{st as e,nt as j};
