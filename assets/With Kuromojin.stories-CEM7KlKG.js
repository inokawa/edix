import{j as er}from"./jsx-runtime-D_zvdyIk.js";import{c as Zr,r as fr}from"./iframe--__0NnYW.js";import{r as ao}from"./index-BrO-d-Un.js";import{c as zn}from"./editor-Dw_XHXbx.js";import{p as oo}from"./plain-DXE80QuQ.js";import"./index-CdXK0qSg.js";var we={},ir={},Ae,sn;function Pn(){if(sn)return Ae;sn=1;function m(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function d(u,n){for(var t="",f=0,l=-1,g=0,h,c=0;c<=u.length;++c){if(c<u.length)h=u.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(l===c-1||g===1))if(l!==c-1&&g===2){if(t.length<2||f!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var y=t.lastIndexOf("/");if(y!==t.length-1){y===-1?(t="",f=0):(t=t.slice(0,y),f=t.length-1-t.lastIndexOf("/")),l=c,g=0;continue}}else if(t.length===2||t.length===1){t="",f=0,l=c,g=0;continue}}n&&(t.length>0?t+="/..":t="..",f=2)}else t.length>0?t+="/"+u.slice(l+1,c):t=u.slice(l+1,c),f=c-l-1;l=c,g=0}else h===46&&g!==-1?++g:g=-1}return t}function a(u,n){var t=n.dir||n.root,f=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+f:t+u+f:f}var i={resolve:function(){for(var n="",t=!1,f,l=arguments.length-1;l>=-1&&!t;l--){var g;l>=0?g=arguments[l]:(f===void 0&&(f=process.cwd()),g=f),m(g),g.length!==0&&(n=g+"/"+n,t=g.charCodeAt(0)===47)}return n=d(n,!t),t?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(m(n),n.length===0)return".";var t=n.charCodeAt(0)===47,f=n.charCodeAt(n.length-1)===47;return n=d(n,!t),n.length===0&&!t&&(n="."),n.length>0&&f&&(n+="/"),t?"/"+n:n},isAbsolute:function(n){return m(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,t=0;t<arguments.length;++t){var f=arguments[t];m(f),f.length>0&&(n===void 0?n=f:n+="/"+f)}return n===void 0?".":i.normalize(n)},relative:function(n,t){if(m(n),m(t),n===t||(n=i.resolve(n),t=i.resolve(t),n===t))return"";for(var f=1;f<n.length&&n.charCodeAt(f)===47;++f);for(var l=n.length,g=l-f,h=1;h<t.length&&t.charCodeAt(h)===47;++h);for(var c=t.length,y=c-h,A=g<y?g:y,x=-1,L=0;L<=A;++L){if(L===A){if(y>A){if(t.charCodeAt(h+L)===47)return t.slice(h+L+1);if(L===0)return t.slice(h+L)}else g>A&&(n.charCodeAt(f+L)===47?x=L:L===0&&(x=0));break}var $=n.charCodeAt(f+L),H=t.charCodeAt(h+L);if($!==H)break;$===47&&(x=L)}var b="";for(L=f+x+1;L<=l;++L)(L===l||n.charCodeAt(L)===47)&&(b.length===0?b+="..":b+="/..");return b.length>0?b+t.slice(h+x):(h+=x,t.charCodeAt(h)===47&&++h,t.slice(h))},_makeLong:function(n){return n},dirname:function(n){if(m(n),n.length===0)return".";for(var t=n.charCodeAt(0),f=t===47,l=-1,g=!0,h=n.length-1;h>=1;--h)if(t=n.charCodeAt(h),t===47){if(!g){l=h;break}}else g=!1;return l===-1?f?"/":".":f&&l===1?"//":n.slice(0,l)},basename:function(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');m(n);var f=0,l=-1,g=!0,h;if(t!==void 0&&t.length>0&&t.length<=n.length){if(t.length===n.length&&t===n)return"";var c=t.length-1,y=-1;for(h=n.length-1;h>=0;--h){var A=n.charCodeAt(h);if(A===47){if(!g){f=h+1;break}}else y===-1&&(g=!1,y=h+1),c>=0&&(A===t.charCodeAt(c)?--c===-1&&(l=h):(c=-1,l=y))}return f===l?l=y:l===-1&&(l=n.length),n.slice(f,l)}else{for(h=n.length-1;h>=0;--h)if(n.charCodeAt(h)===47){if(!g){f=h+1;break}}else l===-1&&(g=!1,l=h+1);return l===-1?"":n.slice(f,l)}},extname:function(n){m(n);for(var t=-1,f=0,l=-1,g=!0,h=0,c=n.length-1;c>=0;--c){var y=n.charCodeAt(c);if(y===47){if(!g){f=c+1;break}continue}l===-1&&(g=!1,l=c+1),y===46?t===-1?t=c:h!==1&&(h=1):t!==-1&&(h=-1)}return t===-1||l===-1||h===0||h===1&&t===l-1&&t===f+1?"":n.slice(t,l)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return a("/",n)},parse:function(n){m(n);var t={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return t;var f=n.charCodeAt(0),l=f===47,g;l?(t.root="/",g=1):g=0;for(var h=-1,c=0,y=-1,A=!0,x=n.length-1,L=0;x>=g;--x){if(f=n.charCodeAt(x),f===47){if(!A){c=x+1;break}continue}y===-1&&(A=!1,y=x+1),f===46?h===-1?h=x:L!==1&&(L=1):h!==-1&&(L=-1)}return h===-1||y===-1||L===0||L===1&&h===y-1&&h===c+1?y!==-1&&(c===0&&l?t.base=t.name=n.slice(1,y):t.base=t.name=n.slice(c,y)):(c===0&&l?(t.name=n.slice(1,h),t.base=n.slice(1,y)):(t.name=n.slice(c,h),t.base=n.slice(c,y)),t.ext=n.slice(h,y)),c>0?t.dir=n.slice(0,c-1):l&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Ae=i,Ae}var Dr={exports:{}},uo=Dr.exports,fn;function so(){return fn||(fn=1,(function(m,d){(function(a,i){i(d)})(uo,function(a){const i=Symbol("newer"),u=Symbol("older");class n{constructor(c,y){typeof c!="number"&&(y=c,c=0),this.size=0,this.limit=c,this.oldest=this.newest=void 0,this._keymap=new Map,y&&(this.assign(y),c<1&&(this.limit=this.size))}_markEntryAsUsed(c){c!==this.newest&&(c[i]&&(c===this.oldest&&(this.oldest=c[i]),c[i][u]=c[u]),c[u]&&(c[u][i]=c[i]),c[i]=void 0,c[u]=this.newest,this.newest&&(this.newest[i]=c),this.newest=c)}assign(c){let y,A=this.limit||Number.MAX_VALUE;this._keymap.clear();let x=c[Symbol.iterator]();for(let L=x.next();!L.done;L=x.next()){let $=new t(L.value[0],L.value[1]);if(this._keymap.set($.key,$),y?(y[i]=$,$[u]=y):this.oldest=$,y=$,A--==0)throw new Error("overflow")}this.newest=y,this.size=this._keymap.size}get(c){var y=this._keymap.get(c);return y?(this._markEntryAsUsed(y),y.value):void 0}set(c,y){var A=this._keymap.get(c);return A?(A.value=y,this._markEntryAsUsed(A),this):(this._keymap.set(c,A=new t(c,y)),this.newest?(this.newest[i]=A,A[u]=this.newest):this.oldest=A,this.newest=A,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var c=this.oldest;if(c)return this.oldest[i]?(this.oldest=this.oldest[i],this.oldest[u]=void 0):(this.oldest=void 0,this.newest=void 0),c[i]=c[u]=void 0,this._keymap.delete(c.key),--this.size,[c.key,c.value]}find(c){let y=this._keymap.get(c);return y?y.value:void 0}has(c){return this._keymap.has(c)}delete(c){var y=this._keymap.get(c);return y?(this._keymap.delete(y.key),y[i]&&y[u]?(y[u][i]=y[i],y[i][u]=y[u]):y[i]?(y[i][u]=void 0,this.oldest=y[i]):y[u]?(y[u][i]=void 0,this.newest=y[u]):this.oldest=this.newest=void 0,this.size--,y.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new l(this.oldest)}values(){return new g(this.oldest)}entries(){return this}[Symbol.iterator](){return new f(this.oldest)}forEach(c,y){typeof y!="object"&&(y=this);let A=this.oldest;for(;A;)c.call(y,A.value,A.key,this),A=A[i]}toJSON(){for(var c=new Array(this.size),y=0,A=this.oldest;A;)c[y++]={key:A.key,value:A.value},A=A[i];return c}toString(){for(var c="",y=this.oldest;y;)c+=String(y.key)+":"+y.value,y=y[i],y&&(c+=" < ");return c}}a.LRUMap=n;function t(h,c){this.key=h,this.value=c,this[i]=void 0,this[u]=void 0}function f(h){this.entry=h}f.prototype[Symbol.iterator]=function(){return this},f.prototype.next=function(){let h=this.entry;return h?(this.entry=h[i],{done:!1,value:[h.key,h.value]}):{done:!0,value:void 0}};function l(h){this.entry=h}l.prototype[Symbol.iterator]=function(){return this},l.prototype.next=function(){let h=this.entry;return h?(this.entry=h[i],{done:!1,value:h.key}):{done:!0,value:void 0}};function g(h){this.entry=h}g.prototype[Symbol.iterator]=function(){return this},g.prototype.next=function(){let h=this.entry;return h?(this.entry=h[i],{done:!1,value:h.value}):{done:!0,value:void 0}}})})(Dr,Dr.exports)),Dr.exports}var re={},cn;function fo(){if(cn)return re;cn=1,Object.defineProperty(re,"__esModule",{value:!0});var m=(function(){function d(){var a=this;this.promise=new Promise(function(i,u){a.resolve=i,a.reject=u})}return d})();return re.default=m,re}var ke,ln;function Un(){if(ln)return ke;ln=1;function m(d,a,i,u,n,t,f,l){this.name=d,this.cost=a,this.start_pos=i,this.length=u,this.left_id=t,this.right_id=f,this.prev=null,this.surface_form=l,n==="BOS"?this.shortest_cost=0:this.shortest_cost=Number.MAX_VALUE,this.type=n}return ke=m,ke}var Ce,hn;function co(){if(hn)return Ce;hn=1;var m=Un();function d(){this.nodes_end_at=[],this.nodes_end_at[0]=[new m(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}return d.prototype.append=function(a){var i=a.start_pos+a.length-1;this.eos_pos<i&&(this.eos_pos=i);var u=this.nodes_end_at[i];u==null&&(u=[]),u.push(a),this.nodes_end_at[i]=u},d.prototype.appendEos=function(){var a=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[a]=[new m(-1,0,this.eos_pos,0,"EOS",0,0,"")]},Ce=d,Ce}var Se,vn;function qn(){if(vn)return Se;vn=1;function m(d){this.str=d,this.index_mapping=[];for(var a=0;a<d.length;a++){var i=d.charAt(a);this.index_mapping.push(a),m.isSurrogatePair(i)&&a++}this.length=this.index_mapping.length}return m.prototype.slice=function(d){if(this.index_mapping.length<=d)return"";var a=this.index_mapping[d];return this.str.slice(a)},m.prototype.charAt=function(d){if(this.str.length<=d)return"";var a=this.index_mapping[d],i=this.index_mapping[d+1];return i==null?this.str.slice(a):this.str.slice(a,i)},m.prototype.charCodeAt=function(d){if(this.index_mapping.length<=d)return NaN;var a=this.index_mapping[d],i=this.str.charCodeAt(a),u;return i>=55296&&i<=56319&&a<this.str.length&&(u=this.str.charCodeAt(a+1),u>=56320&&u<=57343)?(i-55296)*1024+u-56320+65536:i},m.prototype.toString=function(){return this.str},m.isSurrogatePair=function(d){var a=d.charCodeAt(0);return a>=55296&&a<=56319},Se=m,Se}var Te,pn;function lo(){if(pn)return Te;pn=1;var m=Un(),d=co(),a=qn();function i(u){this.trie=u.trie,this.token_info_dictionary=u.token_info_dictionary,this.unknown_dictionary=u.unknown_dictionary}return i.prototype.build=function(u){for(var n=new d,t=new a(u),f,l,g,h,c,y=0;y<t.length;y++){for(var A=t.slice(y),x=this.trie.commonPrefixSearch(A),L=0;L<x.length;L++){l=x[L].v,f=x[L].k;for(var $=this.token_info_dictionary.target_map[l],H=0;H<$.length;H++){var b=parseInt($[H]);g=this.token_info_dictionary.dictionary.getShort(b),h=this.token_info_dictionary.dictionary.getShort(b+2),c=this.token_info_dictionary.dictionary.getShort(b+4),n.append(new m(b,c,y+1,f.length,"KNOWN",g,h,f))}}var F=new a(A),E=new a(F.charAt(0)),D=this.unknown_dictionary.lookup(E.toString());if(x==null||x.length===0||D.is_always_invoke===1){if(f=E,D.is_grouping===1&&1<F.length)for(var T=1;T<F.length;T++){var k=F.charAt(T),j=this.unknown_dictionary.lookup(k);if(D.class_name!==j.class_name)break;f+=k}for(var B=this.unknown_dictionary.target_map[D.class_id],O=0;O<B.length;O++){var R=parseInt(B[O]);g=this.unknown_dictionary.dictionary.getShort(R),h=this.unknown_dictionary.dictionary.getShort(R+2),c=this.unknown_dictionary.dictionary.getShort(R+4),n.append(new m(R,c,y+1,f.length,"UNKNOWN",g,h,f.toString()))}}}return n.appendEos(),n},Te=i,Te}var De,yn;function ho(){if(yn)return De;yn=1;function m(d){this.connection_costs=d}return m.prototype.search=function(d){return d=this.forward(d),this.backward(d)},m.prototype.forward=function(d){var a,i,u;for(a=1;a<=d.eos_pos;a++){var n=d.nodes_end_at[a];if(n!=null)for(i=0;i<n.length;i++){var t=n[i],f=Number.MAX_VALUE,l,g=d.nodes_end_at[t.start_pos-1];if(g!=null){for(u=0;u<g.length;u++){var h=g[u],c;t.left_id==null||h.right_id==null?(console.log("Left or right is null"),c=0):c=this.connection_costs.get(h.right_id,t.left_id);var y=h.shortest_cost+c+t.cost;y<f&&(l=h,f=y)}t.prev=l,t.shortest_cost=f}}}return d},m.prototype.backward=function(d){var a=[],i=d.nodes_end_at[d.nodes_end_at.length-1][0],u=i.prev;if(u==null)return[];for(;u.type!=="BOS";){if(a.push(u),u.prev==null)return[];u=u.prev}return a.reverse()},De=m,De}var je,dn;function vo(){if(dn)return je;dn=1;function m(){}return m.prototype.formatEntry=function(d,a,i,u){var n={};return n.word_id=d,n.word_type=i,n.word_position=a,n.surface_form=u[0],n.pos=u[1],n.pos_detail_1=u[2],n.pos_detail_2=u[3],n.pos_detail_3=u[4],n.conjugated_type=u[5],n.conjugated_form=u[6],n.basic_form=u[7],n.reading=u[8],n.pronunciation=u[9],n},m.prototype.formatUnknownEntry=function(d,a,i,u,n){var t={};return t.word_id=d,t.word_type=i,t.word_position=a,t.surface_form=n,t.pos=u[1],t.pos_detail_1=u[2],t.pos_detail_2=u[3],t.pos_detail_3=u[4],t.conjugated_type=u[5],t.conjugated_form=u[6],t.basic_form=u[7],t},je=m,je}var Be,gn;function po(){if(gn)return Be;gn=1;var m=lo(),d=ho(),a=vo(),i=/、|。/;function u(n){this.token_info_dictionary=n.token_info_dictionary,this.unknown_dictionary=n.unknown_dictionary,this.viterbi_builder=new m(n),this.viterbi_searcher=new d(n.connection_costs),this.formatter=new a}return u.splitByPunctuation=function(n){for(var t=[],f=n;f!=="";){var l=f.search(i);if(l<0){t.push(f);break}t.push(f.substring(0,l+1)),f=f.substring(l+1)}return t},u.prototype.tokenize=function(n){for(var t=u.splitByPunctuation(n),f=[],l=0;l<t.length;l++){var g=t[l];this.tokenizeForSentence(g,f)}return f},u.prototype.tokenizeForSentence=function(n,t){t==null&&(t=[]);var f=this.getLattice(n),l=this.viterbi_searcher.search(f),g=0;t.length>0&&(g=t[t.length-1].word_position);for(var h=0;h<l.length;h++){var c=l[h],y,A,x;c.type==="KNOWN"?(x=this.token_info_dictionary.getFeatures(c.name),x==null?A=[]:A=x.split(","),y=this.formatter.formatEntry(c.name,g+c.start_pos,c.type,A)):c.type==="UNKNOWN"?(x=this.unknown_dictionary.getFeatures(c.name),x==null?A=[]:A=x.split(","),y=this.formatter.formatUnknownEntry(c.name,g+c.start_pos,c.type,A,c.surface_form)):y=this.formatter.formatEntry(c.name,g+c.start_pos,c.type,[]),t.push(y)}return t},u.prototype.getLattice=function(n){return this.viterbi_builder.build(n)},Be=u,Be}var jr={exports:{}},yo=jr.exports,mn;function go(){return mn||(mn=1,(function(m,d){(function(a,i){i(d)})(yo,(function(a){function i(r,e){e=e|0;for(var o=Math.max(r.length-e,0),s=Array(o),v=0;v<o;v++)s[v]=r[e+v];return s}var u=function(r){var e=i(arguments,1);return function(){var o=i(arguments);return r.apply(null,e.concat(o))}},n=function(r){return function(){var e=i(arguments),o=e.pop();r.call(this,e,o)}};function t(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var f=typeof setImmediate=="function"&&setImmediate,l=typeof process=="object"&&typeof process.nextTick=="function";function g(r){setTimeout(r,0)}function h(r){return function(e){var o=i(arguments,1);r(function(){e.apply(null,o)})}}var c;f?c=setImmediate:l?c=process.nextTick:c=g;var y=h(c);function A(r){return n(function(e,o){var s;try{s=r.apply(this,e)}catch(v){return o(v)}t(s)&&typeof s.then=="function"?s.then(function(v){x(o,null,v)},function(v){x(o,v.message?v:new Error(v))}):o(null,s)})}function x(r,e,o){try{r(e,o)}catch(s){y(L,s)}}function L(r){throw r}var $=typeof Symbol=="function";function H(r){return $&&r[Symbol.toStringTag]==="AsyncFunction"}function b(r){return H(r)?A(r):r}function F(r){return function(e){var o=i(arguments,1),s=n(function(v,p){var _=this;return r(e,function(w,C){b(w).apply(_,v.concat(C))},p)});return o.length?s.apply(this,o):s}}var E=typeof Zr=="object"&&Zr&&Zr.Object===Object&&Zr,D=typeof self=="object"&&self&&self.Object===Object&&self,T=E||D||Function("return this")(),k=T.Symbol,j=Object.prototype,B=j.hasOwnProperty,O=j.toString,R=k?k.toStringTag:void 0;function V(r){var e=B.call(r,R),o=r[R];try{r[R]=void 0;var s=!0}catch{}var v=O.call(r);return s&&(e?r[R]=o:delete r[R]),v}var tr=Object.prototype,ee=tr.toString;function Hn(r){return ee.call(r)}var Jn="[object Null]",Xn="[object Undefined]",He=k?k.toStringTag:void 0;function Br(r){return r==null?r===void 0?Xn:Jn:He&&He in Object(r)?V(r):Hn(r)}var Yn="[object AsyncFunction]",Qn="[object Function]",Zn="[object GeneratorFunction]",ri="[object Proxy]";function ei(r){if(!t(r))return!1;var e=Br(r);return e==Qn||e==Zn||e==Yn||e==ri}var ti=9007199254740991;function Je(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ti}function gr(r){return r!=null&&Je(r.length)&&!ei(r)}var te={};function P(){}function ar(r){return function(){if(r!==null){var e=r;r=null,e.apply(this,arguments)}}}var ne=typeof Symbol=="function"&&Symbol.iterator,ni=function(r){return ne&&r[ne]&&r[ne]()};function ii(r,e){for(var o=-1,s=Array(r);++o<r;)s[o]=e(o);return s}function Fr(r){return r!=null&&typeof r=="object"}var ai="[object Arguments]";function Xe(r){return Fr(r)&&Br(r)==ai}var Ye=Object.prototype,oi=Ye.hasOwnProperty,ui=Ye.propertyIsEnumerable,si=Xe((function(){return arguments})())?Xe:function(r){return Fr(r)&&oi.call(r,"callee")&&!ui.call(r,"callee")},X=Array.isArray;function fi(){return!1}var Qe=typeof a=="object"&&a&&!a.nodeType&&a,Ze=Qe&&!0&&m&&!m.nodeType&&m,ci=Ze&&Ze.exports===Qe,rt=ci?T.Buffer:void 0,li=rt?rt.isBuffer:void 0,hi=li||fi,vi=9007199254740991,pi=/^(?:0|[1-9]\d*)$/;function yi(r,e){var o=typeof r;return e=e??vi,!!e&&(o=="number"||o!="symbol"&&pi.test(r))&&r>-1&&r%1==0&&r<e}var di="[object Arguments]",gi="[object Array]",mi="[object Boolean]",_i="[object Date]",bi="[object Error]",wi="[object Function]",Ai="[object Map]",ki="[object Number]",Ci="[object Object]",Si="[object RegExp]",Ti="[object Set]",Di="[object String]",ji="[object WeakMap]",Bi="[object ArrayBuffer]",Fi="[object DataView]",Ei="[object Float32Array]",Ii="[object Float64Array]",Li="[object Int8Array]",Oi="[object Int16Array]",xi="[object Int32Array]",Ri="[object Uint8Array]",zi="[object Uint8ClampedArray]",Pi="[object Uint16Array]",Ui="[object Uint32Array]",U={};U[Ei]=U[Ii]=U[Li]=U[Oi]=U[xi]=U[Ri]=U[zi]=U[Pi]=U[Ui]=!0,U[di]=U[gi]=U[Bi]=U[mi]=U[Fi]=U[_i]=U[bi]=U[wi]=U[Ai]=U[ki]=U[Ci]=U[Si]=U[Ti]=U[Di]=U[ji]=!1;function qi(r){return Fr(r)&&Je(r.length)&&!!U[Br(r)]}function Mi(r){return function(e){return r(e)}}var et=typeof a=="object"&&a&&!a.nodeType&&a,mr=et&&!0&&m&&!m.nodeType&&m,Ni=mr&&mr.exports===et,ie=Ni&&E.process,tt=(function(){try{var r=mr&&mr.require&&mr.require("util").types;return r||ie&&ie.binding&&ie.binding("util")}catch{}})(),nt=tt&&tt.isTypedArray,$i=nt?Mi(nt):qi,Vi=Object.prototype,Gi=Vi.hasOwnProperty;function Ki(r,e){var o=X(r),s=!o&&si(r),v=!o&&!s&&hi(r),p=!o&&!s&&!v&&$i(r),_=o||s||v||p,w=_?ii(r.length,String):[],C=w.length;for(var I in r)Gi.call(r,I)&&!(_&&(I=="length"||v&&(I=="offset"||I=="parent")||p&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||yi(I,C)))&&w.push(I);return w}var Wi=Object.prototype;function Hi(r){var e=r&&r.constructor,o=typeof e=="function"&&e.prototype||Wi;return r===o}function Ji(r,e){return function(o){return r(e(o))}}var Xi=Ji(Object.keys,Object),Yi=Object.prototype,Qi=Yi.hasOwnProperty;function Zi(r){if(!Hi(r))return Xi(r);var e=[];for(var o in Object(r))Qi.call(r,o)&&o!="constructor"&&e.push(o);return e}function ae(r){return gr(r)?Ki(r):Zi(r)}function ra(r){var e=-1,o=r.length;return function(){return++e<o?{value:r[e],key:e}:null}}function ea(r){var e=-1;return function(){var s=r.next();return s.done?null:(e++,{value:s.value,key:e})}}function ta(r){var e=ae(r),o=-1,s=e.length;return function v(){var p=e[++o];return p==="__proto__"?v():o<s?{value:r[p],key:p}:null}}function na(r){if(gr(r))return ra(r);var e=ni(r);return e?ea(e):ta(r)}function Q(r){return function(){if(r===null)throw new Error("Callback was already called.");var e=r;r=null,e.apply(this,arguments)}}function Er(r){return function(e,o,s){if(s=ar(s||P),r<=0||!e)return s(null);var v=na(e),p=!1,_=0,w=!1;function C(S,z){if(_-=1,S)p=!0,s(S);else{if(z===te||p&&_<=0)return p=!0,s(null);w||I()}}function I(){for(w=!0;_<r&&!p;){var S=v();if(S===null){p=!0,_<=0&&s(null);return}_+=1,o(S.value,S.key,Q(C))}w=!1}I()}}function sr(r,e,o,s){Er(e)(r,b(o),s)}function K(r,e){return function(o,s,v){return r(o,e,s,v)}}function ia(r,e,o){o=ar(o||P);var s=0,v=0,p=r.length;p===0&&o(null);function _(w,C){w?o(w):(++v===p||C===te)&&o(null)}for(;s<p;s++)e(r[s],s,Q(_))}var aa=K(sr,1/0),or=function(r,e,o){var s=gr(r)?ia:aa;s(r,b(e),o)};function cr(r){return function(e,o,s){return r(or,e,b(o),s)}}function it(r,e,o,s){s=s||P,e=e||[];var v=[],p=0,_=b(o);r(e,function(w,C,I){var S=p++;_(w,function(z,q){v[S]=q,I(z)})},function(w){s(w,v)})}var Ir=cr(it),at=F(Ir);function lr(r){return function(e,o,s,v){return r(Er(o),e,b(s),v)}}var hr=lr(it),oe=K(hr,1),ot=F(oe);function Lr(r,e){for(var o=-1,s=r==null?0:r.length;++o<s&&e(r[o],o,r)!==!1;);return r}function oa(r){return function(e,o,s){for(var v=-1,p=Object(e),_=s(e),w=_.length;w--;){var C=_[++v];if(o(p[C],C,p)===!1)break}return e}}var ua=oa();function _r(r,e){return r&&ua(r,e,ae)}function sa(r,e,o,s){for(var v=r.length,p=o+-1;++p<v;)if(e(r[p],p,r))return p;return-1}function fa(r){return r!==r}function ca(r,e,o){for(var s=o-1,v=r.length;++s<v;)if(r[s]===e)return s;return-1}function Or(r,e,o){return e===e?ca(r,e,o):sa(r,fa,o)}var ue=function(r,e,o){typeof e=="function"&&(o=e,e=null),o=ar(o||P);var s=ae(r),v=s.length;if(!v)return o(null);e||(e=v);var p={},_=0,w=!1,C=Object.create(null),I=[],S=[],z={};_r(r,function(M,N){if(!X(M)){q(N,[M]),S.push(N);return}var G=M.slice(0,M.length-1),nr=G.length;if(nr===0){q(N,M),S.push(N);return}z[N]=nr,Lr(G,function(dr){if(!r[dr])throw new Error("async.auto task `"+N+"` has a non-existent dependency `"+dr+"` in "+G.join(", "));Z(dr,function(){nr--,nr===0&&q(N,M)})})}),eo(),W();function q(M,N){I.push(function(){rr(M,N)})}function W(){if(I.length===0&&_===0)return o(null,p);for(;I.length&&_<e;){var M=I.shift();M()}}function Z(M,N){var G=C[M];G||(G=C[M]=[]),G.push(N)}function J(M){var N=C[M]||[];Lr(N,function(G){G()}),W()}function rr(M,N){if(!w){var G=Q(function(dr,_e){if(_--,arguments.length>2&&(_e=i(arguments,1)),dr){var be={};_r(p,function(no,io){be[io]=no}),be[M]=_e,w=!0,C=Object.create(null),o(dr,be)}else p[M]=_e,J(M)});_++;var nr=b(N[N.length-1]);N.length>1?nr(p,G):nr(G)}}function eo(){for(var M,N=0;S.length;)M=S.pop(),N++,Lr(to(M),function(G){--z[G]===0&&S.push(G)});if(N!==v)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function to(M){var N=[];return _r(r,function(G,nr){X(G)&&Or(G,M,0)>=0&&N.push(nr)}),N}};function vr(r,e){for(var o=-1,s=r==null?0:r.length,v=Array(s);++o<s;)v[o]=e(r[o],o,r);return v}var la="[object Symbol]";function ha(r){return typeof r=="symbol"||Fr(r)&&Br(r)==la}var ut=k?k.prototype:void 0,st=ut?ut.toString:void 0;function se(r){if(typeof r=="string")return r;if(X(r))return vr(r,se)+"";if(ha(r))return st?st.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function va(r,e,o){var s=-1,v=r.length;e<0&&(e=-e>v?0:v+e),o=o>v?v:o,o<0&&(o+=v),v=e>o?0:o-e>>>0,e>>>=0;for(var p=Array(v);++s<v;)p[s]=r[s+e];return p}function pa(r,e,o){var s=r.length;return o=o===void 0?s:o,!e&&o>=s?r:va(r,e,o)}function ya(r,e){for(var o=r.length;o--&&Or(e,r[o],0)>-1;);return o}function da(r,e){for(var o=-1,s=r.length;++o<s&&Or(e,r[o],0)>-1;);return o}function ga(r){return r.split("")}var ma="\\ud800-\\udfff",_a="\\u0300-\\u036f",ba="\\ufe20-\\ufe2f",wa="\\u20d0-\\u20ff",Aa=_a+ba+wa,ka="\\ufe0e\\ufe0f",Ca="\\u200d",Sa=RegExp("["+Ca+ma+Aa+ka+"]");function Ta(r){return Sa.test(r)}var ft="\\ud800-\\udfff",Da="\\u0300-\\u036f",ja="\\ufe20-\\ufe2f",Ba="\\u20d0-\\u20ff",Fa=Da+ja+Ba,Ea="\\ufe0e\\ufe0f",Ia="["+ft+"]",fe="["+Fa+"]",ce="\\ud83c[\\udffb-\\udfff]",La="(?:"+fe+"|"+ce+")",ct="[^"+ft+"]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",ht="[\\ud800-\\udbff][\\udc00-\\udfff]",Oa="\\u200d",vt=La+"?",pt="["+Ea+"]?",xa="(?:"+Oa+"(?:"+[ct,lt,ht].join("|")+")"+pt+vt+")*",Ra=pt+vt+xa,za="(?:"+[ct+fe+"?",fe,lt,ht,Ia].join("|")+")",Pa=RegExp(ce+"(?="+ce+")|"+za+Ra,"g");function Ua(r){return r.match(Pa)||[]}function yt(r){return Ta(r)?Ua(r):ga(r)}function qa(r){return r==null?"":se(r)}var Ma=/^\s+|\s+$/g;function Na(r,e,o){if(r=qa(r),r&&e===void 0)return r.replace(Ma,"");if(!r||!(e=se(e)))return r;var s=yt(r),v=yt(e),p=da(s,v),_=ya(s,v)+1;return pa(s,p,_).join("")}var $a=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Va=/,/,Ga=/(=.+)?(\s*)$/,Ka=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;function Wa(r){return r=r.toString().replace(Ka,""),r=r.match($a)[2].replace(" ",""),r=r?r.split(Va):[],r=r.map(function(e){return Na(e.replace(Ga,""))}),r}function dt(r,e){var o={};_r(r,function(s,v){var p,_=H(s),w=!_&&s.length===1||_&&s.length===0;if(X(s))p=s.slice(0,-1),s=s[s.length-1],o[v]=p.concat(p.length>0?C:s);else if(w)o[v]=s;else{if(p=Wa(s),s.length===0&&!_&&p.length===0)throw new Error("autoInject task functions require explicit parameters.");_||p.pop(),o[v]=p.concat(C)}function C(I,S){var z=vr(p,function(q){return I[q]});z.push(S),b(s).apply(null,z)}}),ue(o,e)}function Y(){this.head=this.tail=null,this.length=0}function gt(r,e){r.length=1,r.head=r.tail=e}Y.prototype.removeLink=function(r){return r.prev?r.prev.next=r.next:this.head=r.next,r.next?r.next.prev=r.prev:this.tail=r.prev,r.prev=r.next=null,this.length-=1,r},Y.prototype.empty=function(){for(;this.head;)this.shift();return this},Y.prototype.insertAfter=function(r,e){e.prev=r,e.next=r.next,r.next?r.next.prev=e:this.tail=e,r.next=e,this.length+=1},Y.prototype.insertBefore=function(r,e){e.prev=r.prev,e.next=r,r.prev?r.prev.next=e:this.head=e,r.prev=e,this.length+=1},Y.prototype.unshift=function(r){this.head?this.insertBefore(this.head,r):gt(this,r)},Y.prototype.push=function(r){this.tail?this.insertAfter(this.tail,r):gt(this,r)},Y.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Y.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},Y.prototype.toArray=function(){for(var r=Array(this.length),e=this.head,o=0;o<this.length;o++)r[o]=e.data,e=e.next;return r},Y.prototype.remove=function(r){for(var e=this.head;e;){var o=e.next;r(e)&&this.removeLink(e),e=o}return this};function mt(r,e,o){if(e==null)e=1;else if(e===0)throw new Error("Concurrency must not be zero");var s=b(r),v=0,p=[],_=!1;function w(z,q,W){if(W!=null&&typeof W!="function")throw new Error("task callback must be a function");if(S.started=!0,X(z)||(z=[z]),z.length===0&&S.idle())return y(function(){S.drain()});for(var Z=0,J=z.length;Z<J;Z++){var rr={data:z[Z],callback:W||P};q?S._tasks.unshift(rr):S._tasks.push(rr)}_||(_=!0,y(function(){_=!1,S.process()}))}function C(z){return function(q){v-=1;for(var W=0,Z=z.length;W<Z;W++){var J=z[W],rr=Or(p,J,0);rr===0?p.shift():rr>0&&p.splice(rr,1),J.callback.apply(J,arguments),q!=null&&S.error(q,J.data)}v<=S.concurrency-S.buffer&&S.unsaturated(),S.idle()&&S.drain(),S.process()}}var I=!1,S={_tasks:new Y,concurrency:e,payload:o,saturated:P,unsaturated:P,buffer:e/4,empty:P,drain:P,error:P,started:!1,paused:!1,push:function(z,q){w(z,!1,q)},kill:function(){S.drain=P,S._tasks.empty()},unshift:function(z,q){w(z,!0,q)},remove:function(z){S._tasks.remove(z)},process:function(){if(!I){for(I=!0;!S.paused&&v<S.concurrency&&S._tasks.length;){var z=[],q=[],W=S._tasks.length;S.payload&&(W=Math.min(W,S.payload));for(var Z=0;Z<W;Z++){var J=S._tasks.shift();z.push(J),p.push(J),q.push(J.data)}v+=1,S._tasks.length===0&&S.empty(),v===S.concurrency&&S.saturated();var rr=Q(C(z));s(q,rr)}I=!1}},length:function(){return S._tasks.length},running:function(){return v},workersList:function(){return p},idle:function(){return S._tasks.length+v===0},pause:function(){S.paused=!0},resume:function(){S.paused!==!1&&(S.paused=!1,y(S.process))}};return S}function _t(r,e){return mt(r,1,e)}var pr=K(sr,1);function ur(r,e,o,s){s=ar(s||P);var v=b(o);pr(r,function(p,_,w){v(e,p,function(C,I){e=I,w(C)})},function(p){s(p,e)})}function le(){var r=vr(arguments,b);return function(){var e=i(arguments),o=this,s=e[e.length-1];typeof s=="function"?e.pop():s=P,ur(r,e,function(v,p,_){p.apply(o,v.concat(function(w){var C=i(arguments,1);_(w,C)}))},function(v,p){s.apply(o,[v].concat(p))})}}var bt=function(){return le.apply(null,i(arguments).reverse())},Ha=Array.prototype.concat,xr=function(r,e,o,s){s=s||P;var v=b(o);hr(r,e,function(p,_){v(p,function(w){return w?_(w):_(null,i(arguments,1))})},function(p,_){for(var w=[],C=0;C<_.length;C++)_[C]&&(w=Ha.apply(w,_[C]));return s(p,w)})},wt=K(xr,1/0),At=K(xr,1),kt=function(){var r=i(arguments),e=[null].concat(r);return function(){var o=arguments[arguments.length-1];return o.apply(this,e)}};function br(r){return r}function yr(r,e){return function(o,s,v,p){p=p||P;var _=!1,w;o(s,function(C,I,S){v(C,function(z,q){z?S(z):r(q)&&!w?(_=!0,w=e(!0,C),S(null,te)):S()})},function(C){C?p(C):p(null,_?w:e(!1))})}}function Ct(r,e){return e}var Rr=cr(yr(br,Ct)),wr=lr(yr(br,Ct)),zr=K(wr,1);function St(r){return function(e){var o=i(arguments,1);o.push(function(s){var v=i(arguments,1);typeof console=="object"&&(s?console.error&&console.error(s):console[r]&&Lr(v,function(p){console[r](p)}))}),b(e).apply(null,o)}}var Tt=St("dir");function Dt(r,e,o){o=Q(o||P);var s=b(r),v=b(e);function p(w){if(w)return o(w);var C=i(arguments,1);C.push(_),v.apply(this,C)}function _(w,C){if(w)return o(w);if(!C)return o(null);s(p)}_(null,!0)}function he(r,e,o){o=Q(o||P);var s=b(r),v=function(p){if(p)return o(p);var _=i(arguments,1);if(e.apply(this,_))return s(v);o.apply(null,[null].concat(_))};s(v)}function jt(r,e,o){he(r,function(){return!e.apply(this,arguments)},o)}function Bt(r,e,o){o=Q(o||P);var s=b(e),v=b(r);function p(w){if(w)return o(w);v(_)}function _(w,C){if(w)return o(w);if(!C)return o(null);s(p)}v(_)}function Ft(r){return function(e,o,s){return r(e,s)}}function Pr(r,e,o){or(r,Ft(b(e)),o)}function Ar(r,e,o,s){Er(e)(r,Ft(b(o)),s)}var kr=K(Ar,1);function ve(r){return H(r)?r:n(function(e,o){var s=!0;e.push(function(){var v=arguments;s?y(function(){o.apply(null,v)}):o.apply(null,v)}),r.apply(this,e),s=!1})}function Ur(r){return!r}var qr=cr(yr(Ur,Ur)),Cr=lr(yr(Ur,Ur)),Mr=K(Cr,1);function Et(r){return function(e){return e?.[r]}}function Ja(r,e,o,s){var v=new Array(e.length);r(e,function(p,_,w){o(p,function(C,I){v[_]=!!I,w(C)})},function(p){if(p)return s(p);for(var _=[],w=0;w<e.length;w++)v[w]&&_.push(e[w]);s(null,_)})}function Xa(r,e,o,s){var v=[];r(e,function(p,_,w){o(p,function(C,I){C?w(C):(I&&v.push({index:_,value:p}),w())})},function(p){p?s(p):s(null,vr(v.sort(function(_,w){return _.index-w.index}),Et("value")))})}function pe(r,e,o,s){var v=gr(e)?Ja:Xa;v(r,e,b(o),s||P)}var Nr=cr(pe),Sr=lr(pe),$r=K(Sr,1);function It(r,e){var o=Q(e||P),s=b(ve(r));function v(p){if(p)return o(p);s(v)}v()}var Vr=function(r,e,o,s){s=s||P;var v=b(o);hr(r,e,function(p,_){v(p,function(w,C){return w?_(w):_(null,{key:C,val:p})})},function(p,_){for(var w={},C=Object.prototype.hasOwnProperty,I=0;I<_.length;I++)if(_[I]){var S=_[I].key,z=_[I].val;C.call(w,S)?w[S].push(z):w[S]=[z]}return s(p,w)})},Lt=K(Vr,1/0),Ot=K(Vr,1),xt=St("log");function Gr(r,e,o,s){s=ar(s||P);var v={},p=b(o);sr(r,e,function(_,w,C){p(_,w,function(I,S){if(I)return C(I);v[w]=S,C()})},function(_){s(_,v)})}var Rt=K(Gr,1/0),zt=K(Gr,1);function Pt(r,e){return e in r}function Ut(r,e){var o=Object.create(null),s=Object.create(null);e=e||br;var v=b(r),p=n(function(w,C){var I=e.apply(null,w);Pt(o,I)?y(function(){C.apply(null,o[I])}):Pt(s,I)?s[I].push(C):(s[I]=[C],v.apply(null,w.concat(function(){var S=i(arguments);o[I]=S;var z=s[I];delete s[I];for(var q=0,W=z.length;q<W;q++)z[q].apply(null,S)})))});return p.memo=o,p.unmemoized=r,p}var Kr;l?Kr=process.nextTick:f?Kr=setImmediate:Kr=g;var qt=h(Kr);function ye(r,e,o){o=o||P;var s=gr(e)?[]:{};r(e,function(v,p,_){b(v)(function(w,C){arguments.length>2&&(C=i(arguments,1)),s[p]=C,_(w)})},function(v){o(v,s)})}function Mt(r,e){ye(or,r,e)}function Nt(r,e,o){ye(Er(e),r,o)}var de=function(r,e){var o=b(r);return mt(function(s,v){o(s[0],v)},e,1)},$t=function(r,e){var o=de(r,e);return o.push=function(s,v,p){if(p==null&&(p=P),typeof p!="function")throw new Error("task callback must be a function");if(o.started=!0,X(s)||(s=[s]),s.length===0)return y(function(){o.drain()});v=v||0;for(var _=o._tasks.head;_&&v>=_.priority;)_=_.next;for(var w=0,C=s.length;w<C;w++){var I={data:s[w],priority:v,callback:p};_?o._tasks.insertBefore(_,I):o._tasks.push(I)}y(o.process)},delete o.unshift,o};function Vt(r,e){if(e=ar(e||P),!X(r))return e(new TypeError("First argument to race must be an array of functions"));if(!r.length)return e();for(var o=0,s=r.length;o<s;o++)b(r[o])(e)}function Wr(r,e,o,s){var v=i(r).reverse();ur(v,e,o,s)}function Hr(r){var e=b(r);return n(function(s,v){return s.push(function(_,w){if(_)v(null,{error:_});else{var C;arguments.length<=2?C=w:C=i(arguments,1),v(null,{value:C})}}),e.apply(this,s)})}function Gt(r){var e;return X(r)?e=vr(r,Hr):(e={},_r(r,function(o,s){e[s]=Hr.call(this,o)})),e}function Kt(r,e,o,s){pe(r,e,function(v,p){o(v,function(_,w){p(_,!w)})},s)}var Wt=cr(Kt),ge=lr(Kt),Ht=K(ge,1);function Jt(r){return function(){return r}}function Jr(r,e,o){var s=5,v=0,p={times:s,intervalFunc:Jt(v)};function _(S,z){if(typeof z=="object")S.times=+z.times||s,S.intervalFunc=typeof z.interval=="function"?z.interval:Jt(+z.interval||v),S.errorFilter=z.errorFilter;else if(typeof z=="number"||typeof z=="string")S.times=+z||s;else throw new Error("Invalid arguments for async.retry")}if(arguments.length<3&&typeof r=="function"?(o=e||P,e=r):(_(p,r),o=o||P),typeof e!="function")throw new Error("Invalid arguments for async.retry");var w=b(e),C=1;function I(){w(function(S){S&&C++<p.times&&(typeof p.errorFilter!="function"||p.errorFilter(S))?setTimeout(I,p.intervalFunc(C)):o.apply(null,arguments)})}I()}var Xt=function(r,e){e||(e=r,r=null);var o=b(e);return n(function(s,v){function p(_){o.apply(null,s.concat(_))}r?Jr(r,p,v):Jr(p,v)})};function Yt(r,e){ye(pr,r,e)}var Xr=cr(yr(Boolean,br)),Tr=lr(yr(Boolean,br)),Yr=K(Tr,1);function Qt(r,e,o){var s=b(e);Ir(r,function(p,_){s(p,function(w,C){if(w)return _(w);_(null,{value:p,criteria:C})})},function(p,_){if(p)return o(p);o(null,vr(_.sort(v),Et("value")))});function v(p,_){var w=p.criteria,C=_.criteria;return w<C?-1:w>C?1:0}}function Zt(r,e,o){var s=b(r);return n(function(v,p){var _=!1,w;function C(){var I=r.name||"anonymous",S=new Error('Callback function "'+I+'" timed out.');S.code="ETIMEDOUT",o&&(S.info=o),_=!0,p(S)}v.push(function(){_||(p.apply(null,arguments),clearTimeout(w))}),w=setTimeout(C,e),s.apply(null,v)})}var Ya=Math.ceil,Qa=Math.max;function Za(r,e,o,s){for(var v=-1,p=Qa(Ya((e-r)/o),0),_=Array(p);p--;)_[++v]=r,r+=o;return _}function Qr(r,e,o,s){var v=b(o);hr(Za(0,r,1),e,v,s)}var rn=K(Qr,1/0),en=K(Qr,1);function tn(r,e,o,s){arguments.length<=3&&(s=o,o=e,e=X(r)?[]:{}),s=ar(s||P);var v=b(o);or(r,function(p,_,w){v(e,p,_,w)},function(p){s(p,e)})}function nn(r,e){var o=null,s;e=e||P,kr(r,function(v,p){b(v)(function(_,w){arguments.length>2?s=i(arguments,1):s=w,o=_,p(!_)})},function(){e(o,s)})}function an(r){return function(){return(r.unmemoized||r).apply(null,arguments)}}function me(r,e,o){o=Q(o||P);var s=b(e);if(!r())return o(null);var v=function(p){if(p)return o(p);if(r())return s(v);var _=i(arguments,1);o.apply(null,[null].concat(_))};s(v)}function on(r,e,o){me(function(){return!r.apply(this,arguments)},e,o)}var un=function(r,e){if(e=ar(e||P),!X(r))return e(new Error("First argument to waterfall must be an array of functions"));if(!r.length)return e();var o=0;function s(p){var _=b(r[o++]);p.push(Q(v)),_.apply(null,p)}function v(p){if(p||o===r.length)return e.apply(null,arguments);s(i(arguments,1))}s([])},ro={apply:u,applyEach:at,applyEachSeries:ot,asyncify:A,auto:ue,autoInject:dt,cargo:_t,compose:bt,concat:wt,concatLimit:xr,concatSeries:At,constant:kt,detect:Rr,detectLimit:wr,detectSeries:zr,dir:Tt,doDuring:Dt,doUntil:jt,doWhilst:he,during:Bt,each:Pr,eachLimit:Ar,eachOf:or,eachOfLimit:sr,eachOfSeries:pr,eachSeries:kr,ensureAsync:ve,every:qr,everyLimit:Cr,everySeries:Mr,filter:Nr,filterLimit:Sr,filterSeries:$r,forever:It,groupBy:Lt,groupByLimit:Vr,groupBySeries:Ot,log:xt,map:Ir,mapLimit:hr,mapSeries:oe,mapValues:Rt,mapValuesLimit:Gr,mapValuesSeries:zt,memoize:Ut,nextTick:qt,parallel:Mt,parallelLimit:Nt,priorityQueue:$t,queue:de,race:Vt,reduce:ur,reduceRight:Wr,reflect:Hr,reflectAll:Gt,reject:Wt,rejectLimit:ge,rejectSeries:Ht,retry:Jr,retryable:Xt,seq:le,series:Yt,setImmediate:y,some:Xr,someLimit:Tr,someSeries:Yr,sortBy:Qt,timeout:Zt,times:rn,timesLimit:Qr,timesSeries:en,transform:tn,tryEach:nn,unmemoize:an,until:on,waterfall:un,whilst:me,all:qr,allLimit:Cr,allSeries:Mr,any:Xr,anyLimit:Tr,anySeries:Yr,find:Rr,findLimit:wr,findSeries:zr,forEach:Pr,forEachSeries:kr,forEachLimit:Ar,forEachOf:or,forEachOfSeries:pr,forEachOfLimit:sr,inject:ur,foldl:ur,foldr:Wr,select:Nr,selectLimit:Sr,selectSeries:$r,wrapSync:A};a.default=ro,a.apply=u,a.applyEach=at,a.applyEachSeries=ot,a.asyncify=A,a.auto=ue,a.autoInject=dt,a.cargo=_t,a.compose=bt,a.concat=wt,a.concatLimit=xr,a.concatSeries=At,a.constant=kt,a.detect=Rr,a.detectLimit=wr,a.detectSeries=zr,a.dir=Tt,a.doDuring=Dt,a.doUntil=jt,a.doWhilst=he,a.during=Bt,a.each=Pr,a.eachLimit=Ar,a.eachOf=or,a.eachOfLimit=sr,a.eachOfSeries=pr,a.eachSeries=kr,a.ensureAsync=ve,a.every=qr,a.everyLimit=Cr,a.everySeries=Mr,a.filter=Nr,a.filterLimit=Sr,a.filterSeries=$r,a.forever=It,a.groupBy=Lt,a.groupByLimit=Vr,a.groupBySeries=Ot,a.log=xt,a.map=Ir,a.mapLimit=hr,a.mapSeries=oe,a.mapValues=Rt,a.mapValuesLimit=Gr,a.mapValuesSeries=zt,a.memoize=Ut,a.nextTick=qt,a.parallel=Mt,a.parallelLimit=Nt,a.priorityQueue=$t,a.queue=de,a.race=Vt,a.reduce=ur,a.reduceRight=Wr,a.reflect=Hr,a.reflectAll=Gt,a.reject=Wt,a.rejectLimit=ge,a.rejectSeries=Ht,a.retry=Jr,a.retryable=Xt,a.seq=le,a.series=Yt,a.setImmediate=y,a.some=Xr,a.someLimit=Tr,a.someSeries=Yr,a.sortBy=Qt,a.timeout=Zt,a.times=rn,a.timesLimit=Qr,a.timesSeries=en,a.transform=tn,a.tryEach=nn,a.unmemoize=an,a.until=on,a.waterfall=un,a.whilst=me,a.all=qr,a.allLimit=Cr,a.allSeries=Mr,a.any=Xr,a.anyLimit=Tr,a.anySeries=Yr,a.find=Rr,a.findLimit=wr,a.findSeries=zr,a.forEach=Pr,a.forEachSeries=kr,a.forEachLimit=Ar,a.forEachOf=or,a.forEachOfSeries=pr,a.forEachOfLimit=sr,a.inject=ur,a.foldl=ur,a.foldr=Wr,a.select=Nr,a.selectLimit=Sr,a.selectSeries=$r,a.wrapSync=A,Object.defineProperty(a,"__esModule",{value:!0})}))})(jr,jr.exports)),jr.exports}var Fe={exports:{}},_n;function Mn(){return _n||(_n=1,(function(m){(function(){var d="\0",a=0,i=0,u=-1,n=!0,t=!0,f=4,l=4,g=2,h=function(b){b==null&&(b=1024);var F=function(B,O,R){for(var V=O;V<R;V++)B[V]=-V+1;if(0<j.array[j.array.length-1]){for(var tr=j.array.length-2;0<j.array[tr];)tr--;B[O]=-tr}},E=function(B,O,R){for(var V=O;V<R;V++)B[V]=-V-1},D=function(B){var O=B*g,R=A(k.signed,k.bytes,O);F(R,k.array.length,O),R.set(k.array),k.array=null,k.array=R;var V=A(j.signed,j.bytes,O);E(V,j.array.length,O),V.set(j.array),j.array=null,j.array=V},T=i+1,k={signed:n,bytes:f,array:A(n,f,b)},j={signed:t,bytes:l,array:A(t,l,b)};return k.array[i]=1,j.array[i]=i,F(k.array,i+1,k.array.length),E(j.array,i+1,j.array.length),{getBaseBuffer:function(){return k.array},getCheckBuffer:function(){return j.array},loadBaseBuffer:function(B){return k.array=B,this},loadCheckBuffer:function(B){return j.array=B,this},size:function(){return Math.max(k.array.length,j.array.length)},getBase:function(B){return k.array.length-1<B?-B+1:k.array[B]},getCheck:function(B){return j.array.length-1<B?-B-1:j.array[B]},setBase:function(B,O){k.array.length-1<B&&D(B),k.array[B]=O},setCheck:function(B,O){j.array.length-1<B&&D(B),j.array[B]=O},setFirstUnusedNode:function(B){T=B},getFirstUnusedNode:function(){return T},shrink:function(){for(var B=this.size()-1;!(0<=j.array[B]);)B--;k.array=k.array.subarray(0,B+2),j.array=j.array.subarray(0,B+2)},calc:function(){for(var B=0,O=j.array.length,R=0;R<O;R++)j.array[R]<0&&B++;return{all:O,unused:B,efficiency:(O-B)/O}},dump:function(){var B="",O="",R;for(R=0;R<k.array.length;R++)B=B+" "+this.getBase(R);for(R=0;R<j.array.length;R++)O=O+" "+this.getCheck(R);return console.log("base:"+B),console.log("chck:"+O),"base:"+B+" chck:"+O}}};function c(b){this.bc=h(b),this.keys=[]}c.prototype.append=function(b,F){return this.keys.push({k:b,v:F}),this},c.prototype.build=function(b,F){if(b==null&&(b=this.keys),b==null)return new y(this.bc);F==null&&(F=!1);var E=b.map(function(D){return{k:L(D.k+d),v:D.v}});return F?this.keys=E:this.keys=E.sort(function(D,T){for(var k=D.k,j=T.k,B=Math.min(k.length,j.length),O=0;O<B;O++)if(k[O]!==j[O])return k[O]-j[O];return k.length-j.length}),E=null,this._build(i,0,0,this.keys.length),new y(this.bc)},c.prototype._build=function(b,F,E,D){var T=this.getChildrenInfo(F,E,D),k=this.findAllocatableBase(T);this.setBC(b,T,k);for(var j=0;j<T.length;j=j+3){var B=T[j];if(B!==a){var O=T[j+1],R=T[j+2],V=k+B;this._build(V,F+1,O,R)}}},c.prototype.getChildrenInfo=function(b,F,E){var D=this.keys[F].k[b],T=0,k=new Int32Array(E*3);k[T++]=D,k[T++]=F;for(var j=F,B=F;j<F+E;j++){var O=this.keys[j].k[b];D!==O&&(k[T++]=j-B,k[T++]=O,k[T++]=j,D=O,B=j)}return k[T++]=j-B,k=k.subarray(0,T),k},c.prototype.setBC=function(b,F,E){var D=this.bc;D.setBase(b,E);var T;for(T=0;T<F.length;T=T+3){var k=F[T],j=E+k,B=-D.getBase(j),O=-D.getCheck(j);j!==D.getFirstUnusedNode()?D.setCheck(B,-O):D.setFirstUnusedNode(O),D.setBase(O,-B);var R=b;if(D.setCheck(j,R),k===a){var V=F[T+1],tr=this.keys[V].v;tr==null&&(tr=0);var ee=-tr-1;D.setBase(j,ee)}}},c.prototype.findAllocatableBase=function(b){for(var F=this.bc,E,D=F.getFirstUnusedNode();;){if(E=D-b[0],E<0){D=-F.getCheck(D);continue}for(var T=!0,k=0;k<b.length;k=k+3){var j=b[k],B=E+j;if(!this.isUnusedNode(B)){D=-F.getCheck(D),T=!1;break}}if(T)return E}},c.prototype.isUnusedNode=function(b){var F=this.bc,E=F.getCheck(b);return b===i?!1:E<0};function y(b){this.bc=b,this.bc.shrink()}y.prototype.contain=function(b){var F=this.bc;b+=d;for(var E=L(b),D=i,T=u,k=0;k<E.length;k++){var j=E[k];if(T=this.traverse(D,j),T===u)return!1;if(F.getBase(T)<=0)return!0;D=T}return!1},y.prototype.lookup=function(b){b+=d;for(var F=L(b),E=i,D=u,T=0;T<F.length;T++){var k=F[T];if(D=this.traverse(E,k),D===u)return u;E=D}var j=this.bc.getBase(D);return j<=0?-j-1:u},y.prototype.commonPrefixSearch=function(b){for(var F=L(b),E=i,D=u,T=[],k=0;k<F.length;k++){var j=F[k];if(D=this.traverse(E,j),D!==u){E=D;var B=this.traverse(D,a);if(B!==u){var O=this.bc.getBase(B),R={};O<=0&&(R.v=-O-1),R.k=$(x(F,0,k+1)),T.push(R)}continue}else break}return T},y.prototype.traverse=function(b,F){var E=this.bc.getBase(b)+F;return this.bc.getCheck(E)===b?E:u},y.prototype.size=function(){return this.bc.size()},y.prototype.calc=function(){return this.bc.calc()},y.prototype.dump=function(){return this.bc.dump()};var A=function(b,F,E){switch(F){case 1:return new Int8Array(E);case 2:return new Int16Array(E);case 4:return new Int32Array(E);default:throw new RangeError("Invalid newArray parameter element_bytes:"+F)}},x=function(b,F,E){var D=new ArrayBuffer(E),T=new Uint8Array(D,0,E),k=b.subarray(F,E);return T.set(k),T},L=function(b){for(var F=new Uint8Array(new ArrayBuffer(b.length*4)),E=0,D=0;E<b.length;){var T,k=b.charCodeAt(E++);if(k>=55296&&k<=56319){var j=k,B=b.charCodeAt(E++);if(B>=56320&&B<=57343)T=(j-55296)*1024+65536+(B-56320);else return null}else T=k;T<128?F[D++]=T:T<2048?(F[D++]=T>>>6|192,F[D++]=T&63|128):T<65536?(F[D++]=T>>>12|224,F[D++]=T>>6&63|128,F[D++]=T&63|128):T<1<<21&&(F[D++]=T>>>18|240,F[D++]=T>>12&63|128,F[D++]=T>>6&63|128,F[D++]=T&63|128)}return F.subarray(0,D)},$=function(b){for(var F="",E,D,T,k,j,B,O,R=0;R<b.length;)D=b[R++],D<128?E=D:D>>5===6?(T=b[R++],E=(D&31)<<6|T&63):D>>4===14?(T=b[R++],k=b[R++],E=(D&15)<<12|(T&63)<<6|k&63):(T=b[R++],k=b[R++],j=b[R++],E=(D&7)<<18|(T&63)<<12|(k&63)<<6|j&63),E<65536?F+=String.fromCharCode(E):(E-=65536,B=55296|E>>10,O=56320|E&1023,F+=String.fromCharCode(B,O));return F},H={builder:function(b){return new c(b)},load:function(b,F){var E=h(0);return E.loadBaseBuffer(b),E.loadCheckBuffer(F),new y(E)}};m.exports=H})()})(Fe)),Fe.exports}var Ee,bn;function Ke(){if(bn)return Ee;bn=1;var m=function(i){for(var u=new Uint8Array(i.length*4),n=0,t=0;n<i.length;){var f,l=i.charCodeAt(n++);if(l>=55296&&l<=56319){var g=l,h=i.charCodeAt(n++);if(h>=56320&&h<=57343)f=(g-55296)*1024+65536+(h-56320);else return null}else f=l;f<128?u[t++]=f:f<2048?(u[t++]=f>>>6|192,u[t++]=f&63|128):f<65536?(u[t++]=f>>>12|224,u[t++]=f>>6&63|128,u[t++]=f&63|128):f<1<<21&&(u[t++]=f>>>18|240,u[t++]=f>>12&63|128,u[t++]=f>>6&63|128,u[t++]=f&63|128)}return u.subarray(0,t)},d=function(i){for(var u="",n,t,f,l,g,h,c,y=0;y<i.length;)t=i[y++],t<128?n=t:t>>5===6?(f=i[y++],n=(t&31)<<6|f&63):t>>4===14?(f=i[y++],l=i[y++],n=(t&15)<<12|(f&63)<<6|l&63):(f=i[y++],l=i[y++],g=i[y++],n=(t&7)<<18|(f&63)<<12|(l&63)<<6|g&63),n<65536?u+=String.fromCharCode(n):(n-=65536,h=55296|n>>10,c=56320|n&1023,u+=String.fromCharCode(h,c));return u};function a(i){var u;if(i==null)u=1024*1024;else if(typeof i=="number")u=i;else if(i instanceof Uint8Array){this.buffer=i,this.position=0;return}else throw typeof i+" is invalid parameter type for ByteBuffer constructor";this.buffer=new Uint8Array(u),this.position=0}return a.prototype.size=function(){return this.buffer.length},a.prototype.reallocate=function(){var i=new Uint8Array(this.buffer.length*2);i.set(this.buffer),this.buffer=i},a.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},a.prototype.put=function(i){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=i},a.prototype.get=function(i){return i==null&&(i=this.position,this.position+=1),this.buffer.length<i+1?0:this.buffer[i]},a.prototype.putShort=function(i){if(65535<i)throw i+" is over short value";var u=255&i,n=(65280&i)>>8;this.put(u),this.put(n)},a.prototype.getShort=function(i){if(i==null&&(i=this.position,this.position+=2),this.buffer.length<i+2)return 0;var u=this.buffer[i],n=this.buffer[i+1],t=(n<<8)+u;return t&32768&&(t=-(t-1^65535)),t},a.prototype.putInt=function(i){if(4294967295<i)throw i+" is over integer value";var u=255&i,n=(65280&i)>>8,t=(16711680&i)>>16,f=(4278190080&i)>>24;this.put(u),this.put(n),this.put(t),this.put(f)},a.prototype.getInt=function(i){if(i==null&&(i=this.position,this.position+=4),this.buffer.length<i+4)return 0;var u=this.buffer[i],n=this.buffer[i+1],t=this.buffer[i+2],f=this.buffer[i+3];return(f<<24)+(t<<16)+(n<<8)+u},a.prototype.readInt=function(){var i=this.position;return this.position+=4,this.getInt(i)},a.prototype.putString=function(i){for(var u=m(i),n=0;n<u.length;n++)this.put(u[n]);this.put(0)},a.prototype.getString=function(i){var u=[],n;for(i==null&&(i=this.position);!(this.buffer.length<i+1||(n=this.get(i++),n===0));)u.push(n);return this.position=i,d(u)},Ee=a,Ee}var Ie,wn;function We(){if(wn)return Ie;wn=1;var m=Ke();function d(){this.dictionary=new m(10*1024*1024),this.target_map={},this.pos_buffer=new m(10*1024*1024)}return d.prototype.buildDictionary=function(a){for(var i={},u=0;u<a.length;u++){var n=a[u];if(!(n.length<4)){var t=n[0],f=n[1],l=n[2],g=n[3],h=n.slice(4).join(",");(!isFinite(f)||!isFinite(l)||!isFinite(g))&&console.log(n);var c=this.put(f,l,g,t,h);i[c]=t}}return this.dictionary.shrink(),this.pos_buffer.shrink(),i},d.prototype.put=function(a,i,u,n,t){var f=this.dictionary.position,l=this.pos_buffer.position;return this.dictionary.putShort(a),this.dictionary.putShort(i),this.dictionary.putShort(u),this.dictionary.putInt(l),this.pos_buffer.putString(n+","+t),f},d.prototype.addMapping=function(a,i){var u=this.target_map[a];u==null&&(u=[]),u.push(i),this.target_map[a]=u},d.prototype.targetMapToBuffer=function(){var a=new m,i=Object.keys(this.target_map).length;a.putInt(i);for(var u in this.target_map){var n=this.target_map[u],t=n.length;a.putInt(parseInt(u)),a.putInt(t);for(var f=0;f<n.length;f++)a.putInt(n[f])}return a.shrink()},d.prototype.loadDictionary=function(a){return this.dictionary=new m(a),this},d.prototype.loadPosVector=function(a){return this.pos_buffer=new m(a),this},d.prototype.loadTargetMap=function(a){var i=new m(a);for(i.position=0,this.target_map={},i.readInt();!(i.buffer.length<i.position+1);)for(var u=i.readInt(),n=i.readInt(),t=0;t<n;t++){var f=i.readInt();this.addMapping(u,f)}return this},d.prototype.getFeatures=function(a){var i=parseInt(a);if(isNaN(i))return"";var u=this.dictionary.getInt(i+6);return this.pos_buffer.getString(u)},Ie=d,Ie}var Le,An;function Nn(){if(An)return Le;An=1;function m(d,a){this.forward_dimension=d,this.backward_dimension=a,this.buffer=new Int16Array(d*a+2),this.buffer[0]=d,this.buffer[1]=a}return m.prototype.put=function(d,a,i){var u=d*this.backward_dimension+a+2;if(this.buffer.length<u+1)throw"ConnectionCosts buffer overflow";this.buffer[u]=i},m.prototype.get=function(d,a){var i=d*this.backward_dimension+a+2;if(this.buffer.length<i+1)throw"ConnectionCosts buffer overflow";return this.buffer[i]},m.prototype.loadConnectionCosts=function(d){this.forward_dimension=d[0],this.backward_dimension=d[1],this.buffer=d},Le=m,Le}var Oe,kn;function $n(){if(kn)return Oe;kn=1;function m(d,a,i,u,n){this.class_id=d,this.class_name=a,this.is_always_invoke=i,this.is_grouping=u,this.max_length=n}return Oe=m,Oe}var xe,Cn;function Vn(){if(Cn)return xe;Cn=1;var m=Ke(),d=$n();function a(){this.map=[],this.lookup_table={}}return a.load=function(i){for(var u=new a,n=[],t=new m(i);t.position+1<t.size();){var f=n.length,l=t.get(),g=t.get(),h=t.getInt(),c=t.getString();n.push(new d(f,c,l,g,h))}return u.init(n),u},a.prototype.init=function(i){if(i!=null)for(var u=0;u<i.length;u++){var n=i[u];this.map[u]=n,this.lookup_table[n.class_name]=u}},a.prototype.getCharacterClass=function(i){return this.map[i]},a.prototype.lookup=function(i){var u=this.lookup_table[i];return u??null},a.prototype.toBuffer=function(){for(var i=new m,u=0;u<this.map.length;u++){var n=this.map[u];i.put(n.is_always_invoke),i.put(n.is_grouping),i.putInt(n.max_length),i.putString(n.class_name)}return i.shrink(),i.buffer},xe=a,xe}var Re,Sn;function Gn(){if(Sn)return Re;Sn=1;var m=Vn(),d=$n(),a=qn(),i="DEFAULT";function u(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}return u.load=function(n,t,f){var l=new u;return l.character_category_map=n,l.compatible_category_map=t,l.invoke_definition_map=m.load(f),l},u.parseCharCategory=function(n,t){var f=t[1],l=parseInt(t[2]),g=parseInt(t[3]),h=parseInt(t[4]);if(!isFinite(l)||l!==0&&l!==1)return console.log("char.def parse error. INVOKE is 0 or 1 in:"+l),null;if(!isFinite(g)||g!==0&&g!==1)return console.log("char.def parse error. GROUP is 0 or 1 in:"+g),null;if(!isFinite(h)||h<0)return console.log("char.def parse error. LENGTH is 1 to n:"+h),null;var c=l===1,y=g===1;return new d(n,f,c,y,h)},u.parseCategoryMapping=function(n){var t=parseInt(n[1]),f=n[2],l=3<n.length?n.slice(3):[];return(!isFinite(t)||t<0||t>65535)&&console.log("char.def parse error. CODE is invalid:"+t),{start:t,default:f,compatible:l}},u.parseRangeCategoryMapping=function(n){var t=parseInt(n[1]),f=parseInt(n[2]),l=n[3],g=4<n.length?n.slice(4):[];return(!isFinite(t)||t<0||t>65535)&&console.log("char.def parse error. CODE is invalid:"+t),(!isFinite(f)||f<0||f>65535)&&console.log("char.def parse error. CODE is invalid:"+f),{start:t,end:f,default:l,compatible:g}},u.prototype.initCategoryMappings=function(n){var t;if(n!=null)for(var f=0;f<n.length;f++){var l=n[f],g=l.end||l.start;for(t=l.start;t<=g;t++){this.character_category_map[t]=this.invoke_definition_map.lookup(l.default);for(var h=0;h<l.compatible.length;h++){var c=this.compatible_category_map[t],y=l.compatible[h];if(y!=null){var A=this.invoke_definition_map.lookup(y);if(A!=null){var x=1<<A;c=c|x,this.compatible_category_map[t]=c}}}}}var L=this.invoke_definition_map.lookup(i);if(L!=null)for(t=0;t<this.character_category_map.length;t++)this.character_category_map[t]===0&&(this.character_category_map[t]=1<<L)},u.prototype.lookupCompatibleCategory=function(n){var t=[],f=n.charCodeAt(0),l;if(f<this.compatible_category_map.length&&(l=this.compatible_category_map[f]),l==null||l===0)return t;for(var g=0;g<32;g++)if(l<<31-g>>>31===1){var h=this.invoke_definition_map.getCharacterClass(g);if(h==null)continue;t.push(h)}return t},u.prototype.lookup=function(n){var t,f=n.charCodeAt(0);return a.isSurrogatePair(n)?t=this.invoke_definition_map.lookup(i):f<this.character_category_map.length&&(t=this.character_category_map[f]),t==null&&(t=this.invoke_definition_map.lookup(i)),this.invoke_definition_map.getCharacterClass(t)},Re=u,Re}var ze,Tn;function Kn(){if(Tn)return ze;Tn=1;var m=We(),d=Gn(),a=Ke();function i(){this.dictionary=new a(10*1024*1024),this.target_map={},this.pos_buffer=new a(10*1024*1024),this.character_definition=null}return i.prototype=Object.create(m.prototype),i.prototype.characterDefinition=function(u){return this.character_definition=u,this},i.prototype.lookup=function(u){return this.character_definition.lookup(u)},i.prototype.lookupCompatibleCategory=function(u){return this.character_definition.lookupCompatibleCategory(u)},i.prototype.loadUnknownDictionaries=function(u,n,t,f,l,g){this.loadDictionary(u),this.loadPosVector(n),this.loadTargetMap(t),this.character_definition=d.load(f,l,g)},ze=i,ze}var Pe,Dn;function Wn(){if(Dn)return Pe;Dn=1;var m=Mn(),d=We(),a=Nn(),i=Kn();function u(n,t,f,l){n!=null?this.trie=n:this.trie=m.builder(0).build([{k:"",v:1}]),t!=null?this.token_info_dictionary=t:this.token_info_dictionary=new d,f!=null?this.connection_costs=f:this.connection_costs=new a(0,0),l!=null?this.unknown_dictionary=l:this.unknown_dictionary=new i}return u.prototype.loadTrie=function(n,t){return this.trie=m.load(n,t),this},u.prototype.loadTokenInfoDictionaries=function(n,t,f){return this.token_info_dictionary.loadDictionary(n),this.token_info_dictionary.loadPosVector(t),this.token_info_dictionary.loadTargetMap(f),this},u.prototype.loadConnectionCosts=function(n){return this.connection_costs.loadConnectionCosts(n),this},u.prototype.loadUnknownDictionaries=function(n,t,f,l,g,h){return this.unknown_dictionary.loadUnknownDictionaries(n,t,f,l,g,h),this},Pe=u,Pe}var Ue,jn;function mo(){if(jn)return Ue;jn=1;var m=Pn(),d=go(),a=Wn();function i(u){this.dic=new a,this.dic_path=u}return i.prototype.loadArrayBuffer=function(u,n){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},i.prototype.load=function(u){var n=this.dic,t=this.dic_path,f=this.loadArrayBuffer;d.parallel([function(l){d.map(["base.dat.gz","check.dat.gz"],function(g,h){f(m.join(t,g),function(c,y){if(c)return h(c);h(null,y)})},function(g,h){if(g)return l(g);var c=new Int32Array(h[0]),y=new Int32Array(h[1]);n.loadTrie(c,y),l(null)})},function(l){d.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(g,h){f(m.join(t,g),function(c,y){if(c)return h(c);h(null,y)})},function(g,h){if(g)return l(g);var c=new Uint8Array(h[0]),y=new Uint8Array(h[1]),A=new Uint8Array(h[2]);n.loadTokenInfoDictionaries(c,y,A),l(null)})},function(l){f(m.join(t,"cc.dat.gz"),function(g,h){if(g)return l(g);var c=new Int16Array(h);n.loadConnectionCosts(c),l(null)})},function(l){d.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(g,h){f(m.join(t,g),function(c,y){if(c)return h(c);h(null,y)})},function(g,h){if(g)return l(g);var c=new Uint8Array(h[0]),y=new Uint8Array(h[1]),A=new Uint8Array(h[2]),x=new Uint8Array(h[3]),L=new Uint32Array(h[4]),$=new Uint8Array(h[5]);n.loadUnknownDictionaries(c,y,A,x,L,$),l(null)})}],function(l){u(l,n)})},Ue=i,Ue}var qe,Bn;function _o(){if(Bn)return qe;Bn=1;var m=mo();function d(a){m.apply(this,[a])}return d.prototype=Object.create(m.prototype),d.prototype.loadArrayBuffer=function(a,i){var u=new XMLHttpRequest;u.open("GET",a,!0),u.responseType="arraybuffer",u.onload=function(){if(this.status>0&&this.status!==200){i(u.statusText,null);return}var n=this.response;const t=new DecompressionStream("gzip"),l=new Blob([n]).stream().pipeThrough(t);new Response(l).arrayBuffer().then(g=>{i(null,g)})},u.onerror=function(n){i(n,null)},u.send()},qe=d,qe}var Me,Fn;function bo(){if(Fn)return Me;Fn=1;var m=po(),d=_o();function a(i){i.dicPath==null?this.dic_path="dict/":this.dic_path=i.dicPath}return a.prototype.build=function(i){var u=new d(this.dic_path);u.load(function(n,t){i(n,new m(t))})},Me=a,Me}var Ne,En;function wo(){if(En)return Ne;En=1;var m=Nn();function d(){this.lines=0,this.connection_cost=null}return d.prototype.putLine=function(a){if(this.lines===0){var i=a.split(" "),u=i[0],n=i[1];if(u<0||n<0)throw"Parse error of matrix.def";return this.connection_cost=new m(u,n),this.lines++,this}var t=a.split(" ");if(t.length!==3)return this;var f=parseInt(t[0]),l=parseInt(t[1]),g=parseInt(t[2]);if(f<0||l<0||!isFinite(f)||!isFinite(l)||this.connection_cost.forward_dimension<=f||this.connection_cost.backward_dimension<=l)throw"Parse error of matrix.def";return this.connection_cost.put(f,l,g),this.lines++,this},d.prototype.build=function(){return this.connection_cost},Ne=d,Ne}var $e,In;function Ao(){if(In)return $e;In=1;var m=Gn(),d=Vn(),a=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,i=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,u=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function n(){this.char_def=new m,this.char_def.invoke_definition_map=new d,this.character_category_definition=[],this.category_mapping=[]}return n.prototype.putLine=function(t){var f=a.exec(t);if(f!=null){var l=this.character_category_definition.length,g=m.parseCharCategory(l,f);if(g==null)return;this.character_category_definition.push(g);return}var h=i.exec(t);if(h!=null){var c=m.parseCategoryMapping(h);this.category_mapping.push(c)}var y=u.exec(t);if(y!=null){var A=m.parseRangeCategoryMapping(y);this.category_mapping.push(A)}},n.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def},$e=n,$e}var Ve,Ln;function ko(){if(Ln)return Ve;Ln=1;var m=Mn(),d=Wn(),a=We(),i=wo(),u=Ao(),n=Kn();function t(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new i,this.cd_builder=new u}return t.prototype.addTokenInfoDictionary=function(f){var l=f.split(",");return this.tid_entries.push(l),this},t.prototype.putCostMatrixLine=function(f){return this.cc_builder.putLine(f),this},t.prototype.putCharDefLine=function(f){return this.cd_builder.putLine(f),this},t.prototype.putUnkDefLine=function(f){return this.unk_entries.push(f.split(",")),this},t.prototype.build=function(){var f=this.buildTokenInfoDictionary(),l=this.buildUnknownDictionary();return new d(f.trie,f.token_info_dictionary,this.cc_builder.build(),l)},t.prototype.buildTokenInfoDictionary=function(){var f=new a,l=f.buildDictionary(this.tid_entries),g=this.buildDoubleArray();for(var h in l){var c=l[h],y=g.lookup(c);f.addMapping(y,h)}return{trie:g,token_info_dictionary:f}},t.prototype.buildUnknownDictionary=function(){var f=new n,l=f.buildDictionary(this.unk_entries),g=this.cd_builder.build();f.characterDefinition(g);for(var h in l){var c=l[h],y=g.invoke_definition_map.lookup(c);f.addMapping(y,h)}return f},t.prototype.buildDoubleArray=function(){var f=0,l=this.tid_entries.map(function(h){var c=h[0];return{k:c,v:f++}}),g=m.builder(1024*1024);return g.build(l)},Ve=t,Ve}var Ge,On;function Co(){if(On)return Ge;On=1;var m=bo(),d=ko(),a={builder:function(i){return new m(i)},dictionaryBuilder:function(){return new d}};return Ge=a,Ge}var xn;function So(){if(xn)return ir;xn=1;var m={},d=ir&&ir.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.tokenize=ir.getTokenizer=void 0;var a=d(Pn()),i=so(),u=d(fo()),n=d(Co()),t=new u.default,f=function(){if(typeof process<"u"&&typeof m=="object"&&m.KUROMOJIN_DIC_PATH)return m.KUROMOJIN_DIC_PATH;var A=typeof window<"u"?window:void 0;if(typeof A<"u"&&typeof A.kuromojin=="object"&&typeof A.kuromojin.dicPath=="string")return A.kuromojin.dicPath;var x=a.default.dirname(require.resolve("kuromoji"));return a.default.join(x,"..","dict")},l=null,g=!1,h=new i.LRUMap(1e4);function c(A){return A===void 0&&(A={dicPath:f()}),l?Promise.resolve(l):(g||(g=!0,n.default.builder(A).build(function(x,L){if(x)return t.reject(x);l=L,t.resolve(L)})),t.promise)}ir.getTokenizer=c;function y(A,x){return c(x).then(function(L){if(x?.noCacheTokenize)return L.tokenizeForSentence(A);var $=h.get(A);if($)return $;var H=L.tokenizeForSentence(A);return h.set(A,H),H})}return ir.tokenize=y,ir}var Rn;function To(){return Rn||(Rn=1,(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.tokenize=m.getTokenizer=void 0;var d=So();Object.defineProperty(m,"getTokenizer",{enumerable:!0,get:function(){return d.getTokenizer}}),Object.defineProperty(m,"tokenize",{enumerable:!0,get:function(){return d.tokenize}})})(we)),we}var Do=To();const zo={component:zn},jo={width:"400px",height:"400px",background:"white"},Bo=({token:{pos:m,pos_detail_1:d,pos_detail_2:a,pos_detail_3:i,surface_form:u},children:n})=>{const t=fr.useRef(null),[f,l]=fr.useState(null),g=m==="名詞"?"rgba(255, 0, 0, 0.2)":m==="動詞"?"rgba(0, 255, 0, 0.2)":m==="形容詞"?"rgba(0, 0, 255, 0.2)":m==="副詞"?"rgba(255, 0, 255, 0.2)":m==="助詞"?"rgba(0, 255, 255, 0.2)":m==="助動詞"?"rgba(255, 255, 0, 0.2)":void 0;return er.jsxs("span",{ref:t,style:{position:"relative",background:g,outline:"solid 1px lightgray"},onMouseEnter:h=>{if(!t.current)return;const c=t.current.getBoundingClientRect();l({top:c.top-c.height*2,left:c.left,description:`${u}: ${m} | ${d} | ${a} | ${i}`})},onMouseLeave:()=>l(null),children:[n,f&&ao.createPortal(er.jsx("div",{style:{position:"fixed",top:f.top,left:f.left,background:"white",fontSize:16,padding:2,border:"solid 1px gray"},children:f.description}),document.body)]})},Fo=({tokenizer:m})=>{const[d,a]=fr.useState(`すもももももももものうち。

吾輩 （ わがはい ） は猫である。名前はまだ無い。

あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。

山路を登りながら、こう考えた。智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。住みにくさが高じると、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。`),i=fr.useRef(null);return fr.useEffect(()=>{if(i.current)return zn({doc:d,schema:oo({multiline:!0}),onChange:a}).input(i.current)},[]),er.jsx("div",{ref:i,style:jo,children:d.split(`
`).map((u,n)=>er.jsx("div",{children:u?m.tokenize(u).map(t=>er.jsx(Bo,{token:t,children:t.surface_form},t.word_position)):er.jsx("br",{})},n))})},Po={render:()=>{const[m,d]=fr.useState(null);return fr.useEffect(()=>{(async()=>{const a=await Do.getTokenizer({dicPath:"/edix/dict"});d(a)})().catch(a=>{d(a.toString())})},[]),m?typeof m=="string"?er.jsxs("div",{children:["Error: ",m.toString()]}):er.jsx("div",{style:{marginTop:32},children:er.jsx(Fo,{tokenizer:m})}):er.jsx("div",{children:"Loading dictionaries"})}},Uo=["WithKuromojin"];export{Po as WithKuromojin,Uo as __namedExportsOrder,zo as default};
