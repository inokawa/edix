import{r as Pt}from"./index-RYns6xqu.js";var Ot={exports:{}},H={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=Pt,Ht=Symbol.for("react.element"),Ft=Symbol.for("react.fragment"),Kt=Object.prototype.hasOwnProperty,Vt=Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yt={key:!0,ref:!0,__self:!0,__source:!0};function mt(t,e,n){var s,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)Kt.call(e,s)&&!Yt.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Ht,type:t,key:o,ref:a,props:r,_owner:Vt.current}}H.Fragment=Ft;H.jsx=mt;H.jsxs=mt;Ot.exports=H;var pe=Ot.exports;const jt=500,Ut=500,qt=t=>{let e=0,n=0;const s=Date.now,r=[t],o=()=>r[e],a=v=>{r[e]=v},i=v=>{const l=s();n&&l-n<Ut&&e--,n=l,r[++e]=v,r.splice(e+1),e>jt&&(e--,r.shift())},u=()=>e>0,d=()=>e<r.length-1;return{get:o,set:a,undo:()=>{if(u())return e--,o()},redo:()=>{if(d())return e++,o()},push:i}};let I,E,T,q=!1;const Gt=1,Wt=4,$=1,k=2,A=3,Ct=4,Xt=5,$t=1,Jt=3,zt=8,Qt=t=>t.nodeType===Jt,P=t=>t.nodeType===$t,Zt=t=>t.nodeType===zt,yt=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),te=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),G=()=>E,wt=()=>T===$?E.data.length:T===k?1:0,Dt=t=>!!t.nextSibling,ee=t=>{for(;;){if(T===k){const e=E;for(;(E=I.nextNode())&&e.contains(E););}else E=I.nextNode();if(T=null,!E||t&&E===t)break;if(Qt(E))if(E.data===`
`){if(Dt(E))return T=A}else return T=$;else if(P(E)){const e=E.tagName;if(e==="BR"){const n=q;if(q=!0,Dt(E))return T=A;if(!n)return T=Xt}else{if(E.contentEditable==="false"||te.has(e))return T=k;if(yt.has(e)){const n=E.previousElementSibling;if(n&&yt.has(n.tagName))return T=Ct}}}}},J=(t,e,n)=>{try{return I=e.createTreeWalker(n,Wt|Gt),t(ee)}finally{I=E=T=null,q=!1}},Rt=([t,e],[n,s])=>t===n?e===s?0:e<s?1:-1:t<n?1:-1,{min:Tt}=Math,ne=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)},se=2,bt=t=>t.ownerDocument,z=t=>bt(t).getSelection(),Nt=(t,e)=>{if(t.rangeCount){const n=t.getRangeAt(0);if(e.contains(n.commonAncestorContainer))return n}},_t=(t,e,n)=>{const s=z(t);s.removeAllRanges(),s.addRange(e),n&&(s.collapseToEnd(),s.extend(e.startContainer,e.startOffset))},j=(t,e,[n,s],r)=>{const o=Rt(n,s),a=o===0,i=o===-1,u=i?s:n,d=i?n:s;if(u[0]===0&&u[1]===0&&a&&!e.hasChildNodes()){const l=t.createRange();return l.setStart(e,0),l.setEnd(e,0),_t(e,l),!0}const p=Lt(t,e,u,r);if(!p)return!1;const D=a?p:Lt(t,e,d,r);if(!D)return!1;const v=t.createRange();{const[l,_]=p;P(l)?_<1?v.setStartBefore(l):v.setStartAfter(l):v.setStart(l,Tt(_,l.data.length))}{const[l,_]=D;P(l)?_<1?v.setEndBefore(l):v.setEndAfter(l):v.setEnd(l,Tt(_,l.data.length))}return _t(e,v,i),!0},Lt=(t,e,[n,s],r)=>J(o=>{for(;o();){const a=wt();if(s<=a)return[G(),s];s-=a}},t,r||e.childElementCount===0?e:e.children[n]),U=(t,e,n,s,r)=>{let o=n,a;if(r||e.childElementCount===0)o=e,a=0;else{for(;;){const i=o.parentElement;if(i===e)break;o=i}a=Array.prototype.indexOf.call(e.children,o)}return P(n)&&(n=n.childNodes[s],s=0),J(i=>{let u,d=0;for(;u=i(n);)u===A?(a++,d=0):d+=wt();return[a,d+s]},t,o)},W=()=>[[0,0],[0,0]],St=(t,e,n)=>{const s=z(e),r=Nt(s,e);if(!r)return W();const{startOffset:o,startContainer:a,endOffset:i,endContainer:u}=r,d=a===u?s.anchorOffset>s.focusOffset:(s.anchorNode.compareDocumentPosition(s.focusNode)&se)!==0;let p,D;if(e===a&&!n)if(o===0&&i!==0&&e.children.length<=i)p=[0,0],D=U(t,e,e.lastElementChild,e.lastElementChild.textContent.length,n);else return W();else p=U(t,e,a,o,n),D=s.isCollapsed?p:U(t,e,u,i,n);return[d?D:p,d?p:D]},b=(t,e)=>J(n=>{let s,r=null,o="";const a=[],i=d=>{r||(r=[]),o&&(r.push(o),o=""),d&&r.push(d)},u=()=>{i(),r&&a.push(r),r=null};for(;s=n();)s===$?o+=G().data:s===k?i(G()):(s===A||s===Ct)&&u();return u(),a},t,e),re=t=>{const e=Nt(z(t),t);if(e)return e.cloneContents()},oe=(t,e)=>{let n=!1;const s=[],r=i=>{n&&s.push(...i)},o=new MutationObserver(i=>{r(i),n||e()}),a=()=>{r(o.takeRecords())};return o.observe(t,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(i){!n&&i&&a(),n=i},_flush:()=>(a(),s.splice(0)),_dispose(){s.splice(0),o.disconnect()}}},B=t=>typeof t=="string",Q=t=>B(t)?t.length:1,ce=t=>t.reduce((e,n)=>e+Q(n),0),ie=(t,e,n)=>{const s=t[e];B(n)&&B(s)?t[e]=s+n:t.splice(e+1,0,n)},N=(...t)=>{const e=[];for(let n=0;n<t.length;n++){const s=t[n];if(n===0)e.push(...s);else for(const r of s)ie(e,e.length-1,r)}return e},X=(t,[e,n])=>{const s=t[e];for(let r=0;r<s.length;r++){const o=s[r],a=Q(o);if(a>n){const i=s.slice(0,r),u=s.slice(r+1);return B(o)?(i.push(o.slice(0,n)),u.unshift(o.slice(n))):n===0?u.unshift(o):i.push(o),[i,u]}n-=a}return[s,[]]},ae=(t,e,n)=>{const[s,r]=X(t,n),o=e.length,[a]=n;if(o===1)t[a]=N(s,e[0],r);else{const[i,...u]=e,d=u.pop();t.splice(a,1,N(s,i),...u,N(d,r))}},le=(t,e,n)=>{const s=e[0],r=n[0];t.splice(s,r-s+1,N(X(t,e)[0],X(t,n)[1]))},xt=(t,e)=>{t[0]=t[1]=e},ue=(t,[[e,n],[s,r]])=>{let o=0,a=0;for(let i=0;i<t.length;i++)for(const u of t[i]){const d=Q(u);i<e&&(o+=d),i<s&&(a+=d)}return[[N(...t)],[[0,o+n],[0,a+r]]]},Mt=(t,e)=>{const[n,s]=e,r=Rt(n,s);if(r!==0){const o=r===-1,a=o?s:n;le(t,a,o?n:s),xt(e,a)}},It=(t,e,n)=>{Mt(t,e);const s=e[0],r=n.length,[o,a]=s,i=ce(n[r-1]);ae(t,n,s),xt(e,r===1?[o,a+i]:[o+r-1,i])},fe=(t,e,n)=>{It(t,e,n.split(`
`).map(s=>[s]))},he=(t,{schema:{single:e,data:n,plain:s},onChange:r})=>{const{contentEditable:o,role:a,ariaMultiLine:i,ariaReadOnly:u}=t,d=t.style.whiteSpace;t.role="textbox",t.style.whiteSpace="pre-wrap",e||(t.ariaMultiLine="true");let p=!1,D=!1,v=!1,l=W(),_=null,C=!1,x=!1,w=!1;const Z=()=>{t.contentEditable=p?"false":"true",t.ariaReadOnly=p?"true":null};Z();const F=[],g=bt(t),R=qt([n(b(g,t)),l]),O=oe(t,()=>{x&&(j(g,t,l,e),_!=null&&(clearTimeout(_),_=null))}),K=new Set,M=c=>{K.has(c)||(K.add(c),ne(()=>{K.delete(c),c()}))},tt=()=>{const c=l;_=setTimeout(()=>{j(g,t,c,e)})},et=(c,f,y)=>{if(!p){e&&([c,f]=ue(c,f));const h=n(c);R.set([R.get()[0],y]),R.push([h,f]),l=f,r(h)}tt()},nt=()=>{l=St(g,t,e)},V=()=>{const c=O._flush();if(O._accept(!1),c.length){const f=St(g,t,e),y=b(g,t);let h;for(;h=c.pop();)if(h.type==="characterData")h.target.nodeValue=h.oldValue;else if(h.type==="childList"){const{target:m,removedNodes:L,addedNodes:gt,nextSibling:At}=h;for(let S=L.length-1;S>=0;S--)m.insertBefore(L[S],At);for(let S=gt.length-1;S>=0;S--)m.removeChild(gt[S])}O._flush(),v=j(g,t,l,e),et(y,f,l)}},kt=()=>{if(F.length){const c=[...l],f=b(g,t);let y;for(;y=F.pop();)y[0](f,c,...y[1]);et(f,c,l)}},Y=(c,...f)=>{F.unshift([c,f]),M(kt)},st=c=>{if(!C&&(c.metaKey||c.ctrlKey)&&!c.altKey&&c.code==="KeyZ"&&(c.preventDefault(),!p)){const f=c.shiftKey?R.redo():R.undo();f&&(O._accept(!1),l=f[1],r(f[0]),tt())}},rt=()=>{C||w||M(V)},ot=c=>{switch(c.inputType){case"historyUndo":{c.preventDefault();return}case"historyRedo":{c.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(e){c.preventDefault();return}}O._accept(!0)},ct=()=>{C=!0},it=()=>{C=!1,M(V)},at=()=>{if(v){v=!1;return}x&&!C&&!w&&nt()},lt=c=>{const f=re(t);if(!f)return;const y=s(b(g,f)),h=g.createElement("div");h.appendChild(f),c.setData("text/html",h.innerHTML),c.setData("text/plain",y)},ut=c=>{c.preventDefault(),lt(c.clipboardData)},ft=c=>{c.preventDefault(),p||(lt(c.clipboardData),Y(Mt))},dt=c=>{c.preventDefault();const f=c.clipboardData,y=f.getData("text/html");if(y){let h=new DOMParser().parseFromString(y,"text/html").body,m=!1;for(const L of[...h.childNodes])Zt(L)?L.data==="StartFragment"?(m=!0,h=new DocumentFragment):L.data==="EndFragment"&&(m=!1):m&&h.appendChild(L);try{Y(It,b(g,h));return}catch{}}Y(fe,f.getData("text/plain"))},pt=()=>{x=!0,nt()},ht=()=>{x=!1},Et=()=>{w=!0},vt=()=>{w&&(w=!1,M(V))};return g.addEventListener("selectionchange",at),t.addEventListener("keydown",st),t.addEventListener("input",rt),t.addEventListener("beforeinput",ot),t.addEventListener("compositionstart",ct),t.addEventListener("compositionend",it),t.addEventListener("copy",ut),t.addEventListener("cut",ft),t.addEventListener("paste",dt),t.addEventListener("focus",pt),t.addEventListener("blur",ht),t.addEventListener("dragstart",Et),t.addEventListener("dragend",vt),{dispose:()=>{D||(D=!0,t.contentEditable=o,t.role=a,t.ariaMultiLine=i,t.ariaReadOnly=u,t.style.whiteSpace=d,O._dispose(),g.removeEventListener("selectionchange",at),t.removeEventListener("keydown",st),t.removeEventListener("input",rt),t.removeEventListener("beforeinput",ot),t.removeEventListener("compositionstart",ct),t.removeEventListener("compositionend",it),t.removeEventListener("copy",ut),t.removeEventListener("cut",ft),t.removeEventListener("paste",dt),t.removeEventListener("focus",pt),t.removeEventListener("blur",ht),t.removeEventListener("dragstart",Et),t.removeEventListener("dragend",vt))},readonly:c=>{p=c,Z()}}};export{he as e,pe as j};
