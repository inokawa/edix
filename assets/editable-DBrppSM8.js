import{a as st}from"./index-Bk3ZmH4I.js";var Y={exports:{}},w={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xe;function ot(){if(xe)return w;xe=1;var e=st(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(i,c,l){var p,E={},h=null,d=null;l!==void 0&&(h=""+l),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(d=c.ref);for(p in c)r.call(c,p)&&!o.hasOwnProperty(p)&&(E[p]=c[p]);if(i&&i.defaultProps)for(p in c=i.defaultProps,c)E[p]===void 0&&(E[p]=c[p]);return{$$typeof:t,type:i,key:h,ref:d,props:E,_owner:s.current}}return w.Fragment=n,w.jsx=a,w.jsxs=a,w}var Le;function ct(){return Le||(Le=1,Y.exports=ot()),Y.exports}var Pt=ct();const S=1,it=2,U=([e],[t])=>e===t?0:e<t?1:-1,x=(e,t)=>{const n=U(e,t);return n===0?e[1]===t[1]?0:e[1]<t[1]?1:-1:n},K=e=>e.type===S,se=e=>K(e)?e.text.length:1,Fe=(e,t)=>e[t].reduce((n,r)=>n+se(r),0),at=(e,t,n)=>{const r=e[t];K(n)&&K(r)?e[t]={type:S,text:r.text+n.text}:e.splice(t+1,0,n)},H=(...e)=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!t.length)t.push(...r);else for(const s of r)at(t,t.length-1,s)}return t},C=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n],s=se(r);if(s>t){const o=e.slice(0,n),a=e.slice(n+1);if(K(r)){const i=r.text.slice(0,t),c=r.text.slice(t);i&&o.push({type:S,text:i}),c&&a.unshift({type:S,text:c})}else t===0?a.unshift(r):o.push(r);return[o,a]}t-=s}return[e,[]]},be=(e,t,n,r)=>[e[0]+n,e[1]+(U(e,t)===0?r-(n===0?0:t[1]):0)],Ce=(e,t,n)=>x(n,e)===1?[e[0]-n[0]-t[0],e[1]+(U(n,e)===0?t[1]-n[1]:0)]:t,qe=(e,t,n,r)=>{const[s]=n,[o]=r||n,a=C(e[n[0]],n[1]),i=a[0],c=r?C(e[r[0]],r[1])[1]:a[1],l=[...t];l.length?(l[0]=H(i,l[0]),l[l.length-1]=H(l[l.length-1],c)):l.push(H(i,c)),e.splice(s,o-s+1,...l)},ut=(e,t,n)=>U(t,n)===0?[C(C(e[t[0]],n[1])[0],t[1])[1]]:[C(e[t[0]],t[1])[1],...e.slice(t[0]+1,n[0]),C(e[n[0]],n[1])[0]],At=(e,t)=>e.reduce((n,r,s)=>(s!==0&&(n+=`
`),n+r.reduce((o,a)=>o+(a.type===S?a.text:t?t(a):""),"")),""),Ve=(e,t,n,r)=>{const[s,o]=t,a=n.length,i=a-1,c=Fe(n,a-1);qe(e,n,r),x(s,r)!==1&&(t[0]=be(s,r,i,c)),x(o,r)!==1&&(t[1]=be(o,r,i,c))},je=(e,t,n,r)=>{const[s,o]=t;qe(e,[],n,r),x(s,n)!==1&&(t[0]=Ce(s,n,r)),x(o,n)!==1&&(t[1]=Ce(o,n,r))},lt=(e,[[t,n],[r,s]])=>{let o=0,a=0;for(let i=0;i<e.length;i++)for(const c of e[i]){const l=se(c);i<t&&(o+=l),i<r&&(a+=l)}return[[H(...e)],[[0,o+n],[0,a+s]]]},Z=(e,t,[n,r]=t)=>{const s=x(n,r);if(s!==0){const o=s===-1;je(e,t,o?r:n,o?n:r)}},ft=(e,t,n)=>{Z(e,t),Ve(e,t,n,t[0])},Ht=(e,t,n)=>{ft(e,t,n.split(`
`).map(r=>[{type:S,text:r}]))},ke=(e,t,n,r=n)=>{t[0]=n,t[1]=r},Ie=(e,t)=>t[0]===0?[0,0]:[t[0]-1,Fe(e,t[0]-1)],dt=(e,t,n,r)=>{n&&je(e,t,n._isBlock?Ie(e,n._range[0]):n._range[0],n._range[1]),r&&Ve(e,t,r._isBlock?[[],...r._doc]:r._doc,r._isBlock?Ie(e,r._start):r._start)},pt=500,Et=500,ht=e=>{let t=0,n=0;const r=Date.now,s=[e],o=()=>s[t],a=h=>{s[t]=h},i=h=>{const d=r();t!==0&&d-n<Et&&t--,n=d,s[++t]=h,s.splice(t+1),t>pt&&(t--,s.shift())},c=()=>t>0,l=()=>t<s.length-1;return{get:o,set:a,undo:()=>{if(c())return t--,o()},redo:()=>{if(l())return t++,o()},push:i}};let k,v,y,F,ee=!1,te=!1,ne;const _t=1,vt=4,oe=1,q=2,V=3,ce=4,gt=5,Nt=6,yt=1,Tt=3,Dt=8,Ue=e=>e.nodeType===Tt,B=e=>e.nodeType===yt,Rt=e=>e.nodeType===Dt,mt=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),Ot=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),St=e=>mt.has(e.tagName),j=()=>v,Ge=()=>y===oe?v.data.length:y===q?1:0,we=e=>{const t=e.nextSibling;return!!t&&!Rt(t)},xt=()=>{for(;;){if(y===q){const e=v;for(;(v=k.nextNode())&&e.contains(v););}else v=k.nextNode();if(y=null,!v)break;if(F){if(F.contains(v)){if(ee=!0,te)break}else if(ee)break}if(Ue(v))return v.data===`
`?y=we(v)?V:Nt:y=oe;if(B(v)){const e=v.tagName;if(e==="BR")return y=we(v)?V:gt;if(v.contentEditable==="false"||Ot.has(e))return y=q;if(ne(v)){const t=v.previousElementSibling;if(t&&ne(t))return y=ce}}}},G=(e,t,{_document:n,_isBlock:r},s)=>{try{return ne=r,k=n.createTreeWalker(t,vt|_t),s&&(s._startNode&&(k.currentNode=s._startNode,k.previousNode()),s._endNode&&(F=s._endNode),te=s._excludeEnd||!1),e(xt)}finally{k=v=y=F=null,ee=te=!1}},Lt=Math.min,bt=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},We=2,Ct=4,Je=e=>e.ownerDocument,ie=e=>Je(e).getSelection(),Xe=(e,t)=>{if(e.rangeCount){const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n}},Be=(e,t,n)=>{const r=ie(e);r.removeAllRanges(),r.addRange(t),n&&(r.collapseToEnd(),r.extend(t.startContainer,t.startOffset))},Q=(e,t,[n,r],s,o)=>{const a=x(n,r),i=a===0,c=a===-1,l=c?r:n,p=c?n:r;if(l[0]===0&&l[1]===0&&i&&!t.hasChildNodes()){const _=e.createRange();return _.setStart(t,0),_.setEnd(t,0),Be(t,_),!0}const E=Me(t,l,s,o);if(!E)return!1;const h=i?E:Me(t,p,s,o);if(!h)return!1;const d=e.createRange();{const[_,g]=E;B(_)?g<1?d.setStartBefore(_):d.setStartAfter(_):d.setStart(_,g)}{const[_,g]=h;B(_)?g<1?d.setEndBefore(_):d.setEndAfter(_):d.setEnd(_,g)}return Be(t,d,c),!0},Me=(e,[t,n],r,s)=>G(o=>{for(;o();){const a=Ge();if(n<=a)return[j(),n];n-=a}},r||e.childElementCount===0?e:e.children[t],s),$e=(e,t)=>{let n=t;for(;;){const r=n.parentElement;if(r===e)break;n=r}return n},L=(e,t,n,r,s,o)=>{let a,i;if(e===t){if(!e.hasChildNodes())return[0,0];const c=Lt(n,e.childNodes.length-1);return L(e,e.childNodes[c],0,r,s,c!==n)}else{const c=$e(e,t);r._isBlock(c)?(a=c,i=Array.prototype.indexOf.call(e.children,a)):(a=e,i=0)}return!s&&B(t)&&(t=t.childNodes[n],n=0),G(c=>{let l,p=0;for(;l=c();)l===V?(i++,p=0):p+=Ge();return[i,p+n]},a,r,{_endNode:t,_excludeEnd:!o})},ze=()=>[[0,0],[0,0]],re=(e,t)=>e.compareDocumentPosition(t),Ye=(e,t,{startOffset:n,startContainer:r,endOffset:s,endContainer:o},a)=>{const i=L(e,r,n,t),c=r===o&&n===s?i:L(e,o,s,t);return a?[c,i]:[i,c]},Pe=(e,t)=>{const n=ie(e),r=Xe(n,e);return r?Ye(e,t,r,r.startContainer===r.endContainer?n.anchorOffset>n.focusOffset:(re(n.anchorNode,n.focusNode)&We)!==0):ze()},Qe=(e,t)=>e.map(n=>n.reduce((r,s)=>{if(typeof s=="string")r.push({type:S,text:s});else{const o=t(s);o&&r.push({type:it,data:o})}return r},[])),Ze=(e,t,n)=>G(r=>{let s,o=null,a="";const i=[],c=()=>{o||(o=[]),a&&(o.push(a),a="")},l=()=>{c(),o&&i.push(o),o=null};for(;s=r();)s===oe?a+=j().data:s===q?(c(),o.push(j())):(s===V||s===ce)&&l();return l(),i},e,t,n),Ae=(e,t,n)=>{let r,s,o,a;for(const c of t)c.isConnected&&(Ue(c)||B(c))&&((!r||re(r,c)&We)&&(r=c),(!s||re(s,c)&Ct)&&(s=c));if(!r||!s)return;const i=$e(e,r);if(G(c=>{let l;for(;l=c();)l!==ce&&(a=j(),o||(o=a))},e,n,{_startNode:r,_endNode:s}),!(!o||!a))return[o,a,i===r&&n._isBlock(i)]},kt=(e,t,n,r)=>{const s=new Set;for(const E of n)if(E.type==="childList"){for(const h of E.addedNodes)s.add(h);for(const h of E.removedNodes)s.add(h)}else s.add(E.target);const o=Ae(e,s,t),a=o?Ze(e,t,{_startNode:o[0],_endNode:o[1]}):[],i=o&&He(e,t,o[0],o[1]);let c;for(;c=n.pop();)if(c.type==="childList"){const{target:E,removedNodes:h,addedNodes:d,nextSibling:_}=c;for(let g=h.length-1;g>=0;g--)E.insertBefore(h[g],_);for(let g=d.length-1;g>=0;g--)E.removeChild(d[g])}else c.target.nodeValue=c.oldValue;const l=Ae(e,s,t),p=l&&He(e,t,l[0],l[1]);return[p?{_range:p,_isBlock:l[2]}:null,i?{_start:i[0],_isBlock:o[2],_doc:Qe(a,r)}:null]},He=(e,t,n,r)=>[L(e,n,0,t,!0),L(e,r,0,t,!0,!0)],Ke=(e,t,n)=>Qe(Ze(e,t),n),It=(e,t)=>{const n=Xe(ie(e),e);if(n)return[n,Ye(e,t,n)]},wt=(e,t,{clientX:n,clientY:r},s)=>{if(e.caretPositionFromPoint){const o=e.caretPositionFromPoint(n,r);if(o)return L(t,o.offsetNode,o.offset,s)}else if(e.caretRangeFromPoint){const o=e.caretRangeFromPoint(n,r);if(o)return L(t,o.startContainer,o.startOffset,s)}},Bt=(e,t)=>{let n=!1;const r=[],s=i=>{n&&r.push(...i)},o=new MutationObserver(i=>{s(i),n||t()}),a=()=>{s(o.takeRecords())};return o.observe(e,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(i){!n&&i&&a(),n=i},_flush:()=>(a(),r.splice(0)),_dispose(){r.splice(0),o.disconnect()}}},Kt=(e,{schema:{single:t,js:n,void:r,copy:s,paste:o},isBlock:a=St,onChange:i})=>{const{contentEditable:c,role:l,ariaMultiLine:p,ariaReadOnly:E}=e,h=e.style.whiteSpace;e.role="textbox",e.style.whiteSpace="pre-wrap",t||(e.ariaMultiLine="true");let d=!1,_=!1,g=!1,T=ze(),M=null,I=!1,P=!1,A=!1;const R=Je(e),N={_document:R,_isBlock:a},ae=()=>{e.contentEditable=d?"false":"true",e.ariaReadOnly=d?"true":null};ae();const W=[],m=ht([Ke(e,N,r),T]),b=Bt(e,()=>{P&&(Q(R,e,T,t,N),M!=null&&(clearTimeout(M),M=null))}),J=new Set,X=u=>{J.has(u)||(J.add(u),bt(()=>{J.delete(u),u()}))},ue=u=>{T=u,M=setTimeout(()=>{Q(R,e,u,t,N)})},le=()=>{T=Pe(e,N)},fe=()=>{const u=b._flush();if(b._accept(!1),u.length){const f=Pe(e,N),D=kt(e,N,u,r);b._flush(),g=Q(R,e,T,t,N),O(dt,...D),O(ke,...f)}},et=()=>{if(W.length){let u=[...T],f=[...m.get()[0]],D;for(;D=W.pop();)D[0](f,u,...D[1]);if(!d){t&&([f,u]=lt(f,u));const z=m.get()[0],tt=T;(f.length!==z.length||f.some((nt,rt)=>nt!==z[rt]))&&(m.set([z,tt]),m.push([f,u]),i(n(f)))}ue(u)}},O=(u,...f)=>{W.unshift([u,f]),X(et)},de=u=>{if(!I&&(u.metaKey||u.ctrlKey)&&!u.altKey&&u.code==="KeyZ"&&(u.preventDefault(),b._accept(!1),!d)){const f=u.shiftKey?m.redo():m.undo();f&&(i(n(f[0])),ue(f[1]))}},pe=()=>{I||X(fe)},Ee=u=>{switch(u.inputType){case"historyUndo":{u.preventDefault();return}case"historyRedo":{u.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(t){u.preventDefault();return}}b._accept(!0)},he=()=>{I=!0},_e=()=>{I=!1,X(fe)},ve=()=>{P=!0,le()},ge=()=>{P=!1},Ne=()=>{if(g){g=!1;return}P&&!I&&!A&&le()},$=u=>{const f=It(e,N);f&&s(u,ut(m.get()[0],...f[1]),()=>f[0].cloneContents())},ye=u=>{o(u,O,f=>Ke(f,N,r))},Te=u=>{u.preventDefault(),$(u.clipboardData)},De=u=>{u.preventDefault(),d||($(u.clipboardData),O(Z))},Re=u=>{u.preventDefault(),ye(u.clipboardData)},me=u=>{u.preventDefault();const f=u.dataTransfer,D=wt(R,e,u,N);f&&D&&(O(ke,D),A?O(Z,T):e.focus(),ye(f))},Oe=u=>{A=!0,$(u.dataTransfer)},Se=()=>{A=!1};return R.addEventListener("selectionchange",Ne),e.addEventListener("keydown",de),e.addEventListener("input",pe),e.addEventListener("beforeinput",Ee),e.addEventListener("compositionstart",he),e.addEventListener("compositionend",_e),e.addEventListener("focus",ve),e.addEventListener("blur",ge),e.addEventListener("copy",Te),e.addEventListener("cut",De),e.addEventListener("paste",Re),e.addEventListener("drop",me),e.addEventListener("dragstart",Oe),e.addEventListener("dragend",Se),{dispose:()=>{_||(_=!0,e.contentEditable=c,e.role=l,e.ariaMultiLine=p,e.ariaReadOnly=E,e.style.whiteSpace=h,b._dispose(),R.removeEventListener("selectionchange",Ne),e.removeEventListener("keydown",de),e.removeEventListener("input",pe),e.removeEventListener("beforeinput",Ee),e.removeEventListener("compositionstart",he),e.removeEventListener("compositionend",_e),e.removeEventListener("focus",ve),e.removeEventListener("blur",ge),e.removeEventListener("copy",Te),e.removeEventListener("cut",De),e.removeEventListener("paste",Re),e.removeEventListener("drop",me),e.removeEventListener("dragstart",Oe),e.removeEventListener("dragend",Se))},command:O,readonly:u=>{d=u,ae()}}};export{Z as D,Ht as I,S as N,ft as a,At as d,Kt as e,Rt as i,Pt as j};
