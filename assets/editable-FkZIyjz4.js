import{r as Pe}from"./index-RYns6xqu.js";var me={exports:{}},C={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ie=Pe,Be=Symbol.for("react.element"),He=Symbol.for("react.fragment"),Ge=Object.prototype.hasOwnProperty,Ue=Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,We={key:!0,ref:!0,__self:!0,__source:!0};function Re(e,t,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Ge.call(t,s)&&!We.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:Be,type:e,key:r,ref:o,props:i,_owner:Ue.current}}C.Fragment=He;C.jsx=Re;C.jsxs=Re;me.exports=C;var nt=me.exports;const Fe=500,Ve=e=>{let t=0;const n=[e],s=()=>n[t],i=l=>{n[t]=l},r=l=>{n[++t]=l,n.splice(t+1),t>Fe&&(t--,n.shift())},o=()=>t>0,a=()=>t<n.length-1;return{get:s,set:i,undo:()=>{if(o())return t--,s()},redo:()=>{if(a())return t++,s()},push:r}},F=(e,t)=>e[0]===t[0]&&e[1]===t[1],we=([e,t],[n,s])=>e===n?t>s:e>n,{min:Ee}=Math,ve=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},je=1,Ke=3,qe=2,V=1,j=4,be="BR",ge="TEMPLATE",Ne=(e,t)=>{if(e.tagName!==be)return!1;if(t)return!0;let n=!1,s=!1,i=e;for(;i=i.previousSibling;)if(m(i)){n=!0;break}else if(S(i)&&i.tagName!==ge)return!1;let r=e;for(;r=r.nextSibling;)if(m(r)){s=!0;break}else if(S(r)&&r.tagName!==ge)return!1;return n&&s},Ce=e=>e.ownerDocument,m=e=>e.nodeType===Ke,S=e=>e.nodeType===je,ze=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),Xe=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","MAP","SVG","CANVAS","IFRAME"]),Se=e=>!!e&&ze.has(e.tagName),K=e=>e.contentEditable==="false"||Xe.has(e.tagName),q=e=>Ce(e).getSelection(),Oe=(e,t)=>{if(!e.rangeCount)return;const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n},ye=(e,t,n)=>{const s=q(e);s.removeAllRanges(),s.addRange(t),n&&(s.collapseToEnd(),s.extend(t.startContainer,t.startOffset))},z=(e,t)=>{if(t){const n=e.currentNode;let s;for(;(s=e.nextNode())&&n.contains(s););return s}return e.nextNode()},H=(e,t,[n,s],i)=>{const r=we(n,s),o=r?s:n,a=r?n:s;if(o[0]===0&&o[1]===0&&F(o,a)&&!t.hasChildNodes()){const f=e.createRange();return f.setStart(t,0),f.setEnd(t,0),ye(t,f),!0}const c=Te(e,t,o,i);if(!c)return!1;const d=Te(e,t,a,i);if(!d)return!1;const l=e.createRange();{const[f,h]=c;S(f)?h<1?l.setStartBefore(f):l.setStartAfter(f):l.setStart(f,Ee(h,f.data.length))}{const[f,h]=d;S(f)?h<1?l.setEndBefore(f):l.setEndAfter(f):l.setEnd(f,Ee(h,f.data.length))}return ye(t,l,r),!0},Te=(e,t,[n,s],i)=>{let r=0,o,a=!1;const c=i||t.childElementCount===0?t:t.children[n],d=e.createTreeWalker(c,j|V);for(;o=z(d,a);)if(a=!1,m(o)){const l=o.data.length;if(r+l>=s)return[o,s-r];r+=l}else if(S(o)){if(o.tagName===be){if(r+1>=s)return[o,0];r++}else if(K(o)){if(a=!0,r+1>=s)return[o,s-r];r++}}},$e=e=>{const t=e.anchorNode.compareDocumentPosition(e.focusNode);return t===0?e.anchorOffset>e.focusOffset:(t&qe)!==0},G=(e,t,n,s,i)=>{let r=n,o;if(i||t.childElementCount===0)r=t,o=0;else{for(;r.parentNode!==t;)r=r.parentNode;o=Array.prototype.indexOf.call(t.children,r)}let a=0,c,d=!1;const l=S(n);l&&(n=n.childNodes[s]);const f=e.createTreeWalker(r,j|V);for(;c=z(f,d);){if(d=!1,c===n){a+=l?0:s;break}m(c)?a+=c.data.length:S(c)&&(Ne(c)?(o++,a=0):K(c)&&(d=!0,a++))}return[o,a]},W=()=>[[0,0],[0,0]],Le=(e,t,n)=>{const s=q(t),i=Oe(s,t);if(!i)return W();const r=$e(s),{startOffset:o,startContainer:a,endOffset:c,endContainer:d}=i;let l,f;if(t===a&&!n)if(o===0&&c!==0&&t.children.length<=c)l=[0,0],f=G(e,t,t.lastElementChild,t.lastElementChild.textContent.length,n);else return W();else l=G(e,t,a,o,n),f=G(e,t,d,c,n);return[r?f:l,r?l:f]},_=(e,t,n)=>{const s=[],i=e.createTreeWalker(t,j|V),r=f=>{c||(c=[]),d&&(c.push(d),d=""),f&&c.push(f)},o=()=>{r(),c&&s.push(c),c=null};let a,c=null,d="",l=!1;for(;a=z(i,l);)l=!1,m(a)?d+=a.data:S(a)&&(Se(a)&&Se(a.previousElementSibling)||Ne(a,n)?o():K(a)&&(l=!0,r(a)));return o(),s},Ye=e=>{const t=Oe(q(e),e);if(t)return t.cloneContents()},Je=(e,t)=>{let n=!1;const s=[],i=a=>{n&&s.push(...a)},r=new MutationObserver(a=>{i(a),n||t()}),o=()=>{i(r.takeRecords())};return r.observe(e,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(a){!n&&a&&o(),n=a},_flush:()=>(o(),s.splice(0)),_dispose(){s.splice(0),r.disconnect()}}},Qe=e=>{let t;for(;t=e.pop();)if(t.type==="characterData")t.target.nodeValue=t.oldValue;else if(t.type==="childList"){const{target:n,removedNodes:s,addedNodes:i,nextSibling:r}=t;for(let o=s.length-1;o>=0;o--)n.insertBefore(s[o],r);for(let o=i.length-1;o>=0;o--)i[o].parentNode&&n.removeChild(i[o])}},N=e=>typeof e=="string",X=e=>N(e)?e.length:1,xe=e=>e.reduce((t,n)=>t+X(n),0),b=e=>{for(let t=0;t<e.length-1;){const n=e[t],s=e[t+1];N(n)&&s!=null&&N(s)?(e[t]=n+s,e.splice(t+1,1)):t++}return e},U=(e,[t,n])=>{const s=e[t];for(let i=0;i<s.length;i++){const r=s[i],o=X(r);if(o>n){const a=s.slice(0,i),c=s.slice(i+1);return N(r)?(a.push(r.slice(0,n)),c.unshift(r.slice(n))):n===0?c.unshift(r):a.push(r),[a,c]}n-=o}return[s,[]]},De=(e,t,n,s,i)=>{const r=i.length,[o,a]=s;if(r===1)return e[o]=b([...t,...i[0],...n]),[o,a+xe(i[0])];{const c=[],d=i[r-1];e[o]=b([...t,...i[0]]);for(let l=1;l<r-1;l++)c.push([...i[l]]);return e.splice(o+1,0,...c),e.splice(o+r-1,0,b([...d,...n])),[o+r-1,xe(d)]}},ke=(e,[t,n],s)=>{const i=e.map(o=>[...o]);let r;if(F(t,n))r=De(i,...U(i,t),t,s);else{const o=we(t,n),a=o?n:t,c=o?t:n,d=a[0],l=c[0];r=De(i,U(i,a)[0],U(i,c)[1],a,s),d!==l&&i.splice(d+s.length,l-d)}return[i,[r,r]]},Me=(e,t,n)=>ke(e,t,n.split(`
`).map(s=>[s])),Ze=(e,t)=>F(t[0],t[1])?[e,t]:Me(e,t,""),et=(e,[[t,n],[s,i]])=>{const r=[];let o=0,a=0;for(let c=0;c<e.length;c++)for(const d of e[c]){r.push(d);const l=X(d);c<t&&(o+=l),c<s&&(a+=l)}return[[b(r)],[[0,o+n],[0,a+i]]]},_e=e=>e.reduce((t,n,s)=>(s!==0&&(t+=`
`),t+n.reduce((i,r)=>i+(typeof r=="string"?r:r.textContent),"")),""),st=(e,{multiline:t,readonly:n,serializer:s={data:_e},onChange:i})=>{const{contentEditable:r,role:o,ariaMultiLine:a,ariaReadOnly:c}=e,d=e.style.whiteSpace;e.contentEditable="true",e.role="textbox",e.style.whiteSpace="pre-wrap",t&&(e.ariaMultiLine="true");let l=!1,f=!1,h=W(),O=!1,k=!1,R=null,L=!1,w=!1,x=!1;const M=[],y=!t,{data:$,plain:Ae=_e}=s,Y=()=>{e.ariaReadOnly=n?"true":null};Y();const E=Ce(e),D=Ve([$(_(E,e)),h]),T=Je(e,()=>{w&&(H(E,e,h,y),R!=null&&(clearTimeout(R),R=null))}),J=()=>{const u=h;R=setTimeout(()=>{H(E,e,u,y)})},Q=(u,p,v)=>{if(!n){y&&([u,p]=et(u,p));const g=$(u);D.set([D.get()[0],v]),D.push([g,p]),h=p,i(g)}J()},Z=()=>{h=Le(E,e,y)},A=()=>{O||(O=!0,ve(()=>{O=!1;const u=T._flush();if(T._accept(!1),u.length){const p=Le(E,e,y),v=_(E,e);Qe(u),T._flush();const g=h;f=H(E,e,g,y),Q(v,p,g)}}))},P=(u,...p)=>{M.unshift([u,p]),k||(k=!0,ve(()=>{if(k=!1,M.length){const v=h;let g=h,I=_(E,e),B;for(;B=M.pop();)[I,g]=B[0](I,g,...B[1]);Q(I,g,v)}}))},ee=u=>{if(!L&&(u.metaKey||u.ctrlKey)&&!u.altKey&&u.code==="KeyZ"&&(u.preventDefault(),!n)){const p=u.shiftKey?D.redo():D.undo();p&&(T._accept(!1),h=p[1],i(p[0]),J())}},te=()=>{L||x||A()},ne=u=>{switch(u.inputType){case"historyUndo":{u.preventDefault();return}case"historyRedo":{u.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(y){u.preventDefault();return}}T._accept(!0)},se=()=>{L=!0},re=()=>{L=!1,A()},oe=()=>{if(f){f=!1;return}w&&!L&&!x&&Z()},ie=u=>{const p=Ye(e);if(!p)return;const v=E.createElement("div");v.appendChild(p),u.setData("text/html",v.innerHTML),u.setData("text/plain",Ae(_(E,p)))},ae=u=>{u.preventDefault(),ie(u.clipboardData)},ce=u=>{u.preventDefault(),ie(u.clipboardData),P(Ze)},le=u=>{u.preventDefault();const p=u.clipboardData,v=p.getData("text/html");if(v)try{P(ke,_(E,new DOMParser().parseFromString(v,"text/html").body,!0));return}catch{}P(Me,p.getData("text/plain"))},ue=()=>{w=!0,Z()},fe=()=>{w=!1},de=()=>{x=!0},pe=()=>{x&&(x=!1,A())};E.addEventListener("selectionchange",oe),e.addEventListener("keydown",ee),e.addEventListener("input",te),e.addEventListener("beforeinput",ne),e.addEventListener("compositionstart",se),e.addEventListener("compositionend",re),e.addEventListener("copy",ae),e.addEventListener("cut",ce),e.addEventListener("paste",le),e.addEventListener("focus",ue),e.addEventListener("blur",fe),e.addEventListener("dragstart",de),e.addEventListener("dragend",pe);const he=()=>{l||(l=!0,e.contentEditable=r,e.role=o,e.ariaMultiLine=a,e.ariaReadOnly=c,e.style.whiteSpace=d,T._dispose(),E.removeEventListener("selectionchange",oe),e.removeEventListener("keydown",ee),e.removeEventListener("input",te),e.removeEventListener("beforeinput",ne),e.removeEventListener("compositionstart",se),e.removeEventListener("compositionend",re),e.removeEventListener("copy",ae),e.removeEventListener("cut",ce),e.removeEventListener("paste",le),e.removeEventListener("focus",ue),e.removeEventListener("blur",fe),e.removeEventListener("dragstart",de),e.removeEventListener("dragend",pe))};return he.readonly=u=>{n=u,Y()},he};export{st as e,nt as j};
