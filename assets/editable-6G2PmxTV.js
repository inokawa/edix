import{r as Bt}from"./index-RYns6xqu.js";var mt={exports:{}},F={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=Bt,Ft=Symbol.for("react.element"),Kt=Symbol.for("react.fragment"),Vt=Object.prototype.hasOwnProperty,Yt=Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jt={key:!0,ref:!0,__self:!0,__source:!0};function Ct(t,e,n){var s,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)Vt.call(e,s)&&!jt.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Ft,type:t,key:o,ref:a,props:r,_owner:Yt.current}}F.Fragment=Kt;F.jsx=Ct;F.jsxs=Ct;mt.exports=F;var he=mt.exports;const Ut=500,qt=500,Gt=t=>{let e=0,n=0;const s=Date.now,r=[t],o=()=>r[e],a=v=>{r[e]=v},i=v=>{const u=s();n&&u-n<qt&&e--,n=u,r[++e]=v,r.splice(e+1),e>Ut&&(e--,r.shift())},l=()=>e>0,d=()=>e<r.length-1;return{get:o,set:a,undo:()=>{if(l())return e--,o()},redo:()=>{if(d())return e++,o()},push:i}};let k,h,y,G=!1;const Wt=1,Xt=4,J=1,A=2,P=3,wt=4,$t=5,Jt=1,zt=3,Qt=8,Zt=t=>t.nodeType===zt,B=t=>t.nodeType===Jt,te=t=>t.nodeType===Qt,Tt=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),ee=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),W=()=>h,Rt=()=>y===J?h.data.length:y===A?1:0,_t=t=>!!t.nextSibling,ne=t=>{for(;;){if(y===A){const e=h;for(;(h=k.nextNode())&&e.contains(h););}else h=k.nextNode();if(y=null,!h||t&&h===t)break;if(Zt(h))if(h.data===`
`){if(_t(h))return y=P}else return y=J;else if(B(h)){const e=h.tagName;if(e==="BR"){const n=G;if(G=!0,_t(h))return y=P;if(!n)return y=$t}else{if(h.contentEditable==="false"||ee.has(e))return y=A;if(Tt.has(e)){const n=h.previousElementSibling;if(n&&Tt.has(n.tagName))return y=wt}}}}},z=(t,e,n)=>{try{return k=e.createTreeWalker(n,Xt|Wt),t(ne)}finally{k=h=y=null,G=!1}},bt=([t,e],[n,s])=>t===n?e===s?0:e<s?1:-1:t<n?1:-1,{min:yt}=Math,se=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)},re=2,Nt=t=>t.ownerDocument,Q=t=>Nt(t).getSelection(),xt=(t,e)=>{if(t.rangeCount){const n=t.getRangeAt(0);if(e.contains(n.commonAncestorContainer))return n}},Lt=(t,e,n)=>{const s=Q(t);s.removeAllRanges(),s.addRange(e),n&&(s.collapseToEnd(),s.extend(e.startContainer,e.startOffset))},U=(t,e,[n,s],r)=>{const o=bt(n,s),a=o===0,i=o===-1,l=i?s:n,d=i?n:s;if(l[0]===0&&l[1]===0&&a&&!e.hasChildNodes()){const u=t.createRange();return u.setStart(e,0),u.setEnd(e,0),Lt(e,u),!0}const D=St(t,e,l,r);if(!D)return!1;const _=a?D:St(t,e,d,r);if(!_)return!1;const v=t.createRange();{const[u,E]=D;B(u)?E<1?v.setStartBefore(u):v.setStartAfter(u):v.setStart(u,yt(E,u.data.length))}{const[u,E]=_;B(u)?E<1?v.setEndBefore(u):v.setEndAfter(u):v.setEnd(u,yt(E,u.data.length))}return Lt(e,v,i),!0},St=(t,e,[n,s],r)=>z(o=>{for(;o();){const a=Rt();if(s<=a)return[W(),s];s-=a}},t,r||e.childElementCount===0?e:e.children[n]),q=(t,e,n,s,r)=>{let o=n,a;if(r||e.childElementCount===0)o=e,a=0;else{for(;;){const i=o.parentElement;if(i===e)break;o=i}a=Array.prototype.indexOf.call(e.children,o)}return B(n)&&(n=n.childNodes[s],s=0),z(i=>{let l,d=0;for(;l=i(n);)l===P?(a++,d=0):d+=Rt();return[a,d+s]},t,o)},X=()=>[[0,0],[0,0]],Ot=(t,e,n)=>{const s=Q(e),r=xt(s,e);if(!r)return X();const{startOffset:o,startContainer:a,endOffset:i,endContainer:l}=r,d=a===l?s.anchorOffset>s.focusOffset:(s.anchorNode.compareDocumentPosition(s.focusNode)&re)!==0;let D,_;if(e===a&&!n)if(o===0&&i!==0&&e.children.length<=i)D=[0,0],_=q(t,e,e.lastElementChild,e.lastElementChild.textContent.length,n);else return X();else D=q(t,e,a,o,n),_=s.isCollapsed?D:q(t,e,l,i,n);return[d?_:D,d?D:_]},b=(t,e)=>z(n=>{let s,r=null,o="";const a=[],i=d=>{r||(r=[]),o&&(r.push(o),o=""),d&&r.push(d)},l=()=>{i(),r&&a.push(r),r=null};for(;s=n();)s===J?o+=W().data:s===A?i(W()):(s===P||s===wt)&&l();return l(),a},t,e),oe=t=>{const e=xt(Q(t),t);if(e)return e.cloneContents()},ce=(t,e)=>{let n=!1;const s=[],r=i=>{n&&s.push(...i)},o=new MutationObserver(i=>{r(i),n||e()}),a=()=>{r(o.takeRecords())};return o.observe(t,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(i){!n&&i&&a(),n=i},_flush:()=>(a(),s.splice(0)),_dispose(){s.splice(0),o.disconnect()}}},H=t=>typeof t=="string",Z=t=>H(t)?t.length:1,ie=t=>t.reduce((e,n)=>e+Z(n),0),ae=(t,e,n)=>{const s=t[e];H(n)&&H(s)?t[e]=s+n:t.splice(e+1,0,n)},N=(...t)=>{const e=[];for(let n=0;n<t.length;n++){const s=t[n];if(n===0)e.push(...s);else for(const r of s)ae(e,e.length-1,r)}return e},$=(t,[e,n])=>{const s=t[e];for(let r=0;r<s.length;r++){const o=s[r],a=Z(o);if(a>n){const i=s.slice(0,r),l=s.slice(r+1);return H(o)?(i.push(o.slice(0,n)),l.unshift(o.slice(n))):n===0?l.unshift(o):i.push(o),[i,l]}n-=a}return[s,[]]},le=(t,e,n)=>{const[s,r]=$(t,n),o=e.length,[a]=n;if(o===1)t[a]=N(s,e[0],r);else{const[i,...l]=e,d=l.pop();t.splice(a,1,N(s,i),...l,N(d,r))}},ue=(t,e,n)=>{const s=e[0],r=n[0];t.splice(s,r-s+1,N($(t,e)[0],$(t,n)[1]))},Mt=(t,e)=>{t[0]=t[1]=e},fe=(t,[[e,n],[s,r]])=>{let o=0,a=0;for(let i=0;i<t.length;i++)for(const l of t[i]){const d=Z(l);i<e&&(o+=d),i<s&&(a+=d)}return[[N(...t)],[[0,o+n],[0,a+r]]]},It=(t,e)=>{const[n,s]=e,r=bt(n,s);if(r!==0){const o=r===-1,a=o?s:n;ue(t,a,o?n:s),Mt(e,a)}},kt=(t,e,n)=>{It(t,e);const s=e[0],r=n.length,[o,a]=s,i=ie(n[r-1]);le(t,n,s),Mt(e,r===1?[o,a+i]:[o+r-1,i])},de=(t,e,n)=>{kt(t,e,n.split(`
`).map(s=>[s]))},Ee=(t,{readonly:e,schema:{single:n,data:s,plain:r},onChange:o})=>{const{contentEditable:a,role:i,ariaMultiLine:l,ariaReadOnly:d}=t,D=t.style.whiteSpace,_=()=>{t.contentEditable=e?"false":"true",t.ariaReadOnly=e?"true":null};_(),t.role="textbox",t.style.whiteSpace="pre-wrap",n||(t.ariaMultiLine="true");let v=!1,u=!1,E=X(),x=null,C=!1,M=!1,w=!1;const K=[],g=Nt(t),R=Gt([s(b(g,t)),E]),O=ce(t,()=>{M&&(U(g,t,E,n),x!=null&&(clearTimeout(x),x=null))}),V=new Set,I=c=>{V.has(c)||(V.add(c),se(()=>{V.delete(c),c()}))},tt=()=>{const c=E;x=setTimeout(()=>{U(g,t,c,n)})},et=(c,f,T)=>{if(!e){n&&([c,f]=fe(c,f));const p=s(c);R.set([R.get()[0],T]),R.push([p,f]),E=f,o(p)}tt()},nt=()=>{E=Ot(g,t,n)},Y=()=>{const c=O._flush();if(O._accept(!1),c.length){const f=Ot(g,t,n),T=b(g,t);let p;for(;p=c.pop();)if(p.type==="characterData")p.target.nodeValue=p.oldValue;else if(p.type==="childList"){const{target:m,removedNodes:L,addedNodes:Dt,nextSibling:Pt}=p;for(let S=L.length-1;S>=0;S--)m.insertBefore(L[S],Pt);for(let S=Dt.length-1;S>=0;S--)m.removeChild(Dt[S])}O._flush(),u=U(g,t,E,n),et(T,f,E)}},At=()=>{if(K.length){const c=[...E],f=b(g,t);let T;for(;T=K.pop();)T[0](f,c,...T[1]);et(f,c,E)}},j=(c,...f)=>{K.unshift([c,f]),I(At)},st=c=>{if(!C&&(c.metaKey||c.ctrlKey)&&!c.altKey&&c.code==="KeyZ"&&(c.preventDefault(),!e)){const f=c.shiftKey?R.redo():R.undo();f&&(O._accept(!1),E=f[1],o(f[0]),tt())}},rt=()=>{C||w||I(Y)},ot=c=>{switch(c.inputType){case"historyUndo":{c.preventDefault();return}case"historyRedo":{c.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(n){c.preventDefault();return}}O._accept(!0)},ct=()=>{C=!0},it=()=>{C=!1,I(Y)},at=()=>{if(u){u=!1;return}M&&!C&&!w&&nt()},lt=c=>{const f=oe(t);if(!f)return;const T=r(b(g,f)),p=g.createElement("div");p.appendChild(f),c.setData("text/html",p.innerHTML),c.setData("text/plain",T)},ut=c=>{c.preventDefault(),lt(c.clipboardData)},ft=c=>{c.preventDefault(),e||(lt(c.clipboardData),j(It))},dt=c=>{c.preventDefault();const f=c.clipboardData,T=f.getData("text/html");if(T){let p=new DOMParser().parseFromString(T,"text/html").body,m=!1;for(const L of[...p.childNodes])te(L)?L.data==="StartFragment"?(m=!0,p=new DocumentFragment):L.data==="EndFragment"&&(m=!1):m&&p.appendChild(L);try{j(kt,b(g,p));return}catch{}}j(de,f.getData("text/plain"))},pt=()=>{M=!0,nt()},ht=()=>{M=!1},Et=()=>{w=!0},vt=()=>{w&&(w=!1,I(Y))};g.addEventListener("selectionchange",at),t.addEventListener("keydown",st),t.addEventListener("input",rt),t.addEventListener("beforeinput",ot),t.addEventListener("compositionstart",ct),t.addEventListener("compositionend",it),t.addEventListener("copy",ut),t.addEventListener("cut",ft),t.addEventListener("paste",dt),t.addEventListener("focus",pt),t.addEventListener("blur",ht),t.addEventListener("dragstart",Et),t.addEventListener("dragend",vt);const gt=()=>{v||(v=!0,t.contentEditable=a,t.role=i,t.ariaMultiLine=l,t.ariaReadOnly=d,t.style.whiteSpace=D,O._dispose(),g.removeEventListener("selectionchange",at),t.removeEventListener("keydown",st),t.removeEventListener("input",rt),t.removeEventListener("beforeinput",ot),t.removeEventListener("compositionstart",ct),t.removeEventListener("compositionend",it),t.removeEventListener("copy",ut),t.removeEventListener("cut",ft),t.removeEventListener("paste",dt),t.removeEventListener("focus",pt),t.removeEventListener("blur",ht),t.removeEventListener("dragstart",Et),t.removeEventListener("dragend",vt))};return gt.readonly=c=>{e=c,_()},gt};export{Ee as e,he as j};
