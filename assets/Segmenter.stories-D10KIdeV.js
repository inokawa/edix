import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as t}from"./iframe--__0NnYW.js";import{c as d}from"./editor-Dw_XHXbx.js";import{p as m}from"./plain-DXE80QuQ.js";const S={component:d},h={width:"300px",height:"200px",background:"white"},x=({text:r,segmenter:l})=>{const s=l.segment(r),n=[];for(const{segment:a,index:o,isWordLike:c}of s)n.push(e.jsx("span",{style:{background:c?"palegreen":void 0,outline:"solid 1px green"},children:a},o));return e.jsx("div",{children:r?n:e.jsx("br",{})})},w={render:()=>{const[r,l]=t.useState(`すもももももももものうち。

吾輩 （ わがはい ） は猫である。名前はまだ無い。`),s=t.useRef(null);t.useEffect(()=>{if(s.current)return d({doc:r,schema:m({multiline:!0}),onChange:l}).input(s.current)},[]);const[n,a]=t.useState("ja"),[o,c]=t.useState("word"),u=t.useMemo(()=>Intl?.Segmenter?new Intl.Segmenter(n,{granularity:o}):null,[n,o]);return u?e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("select",{value:n,onChange:i=>a(i.target.value),children:[e.jsx("option",{value:"ja",children:"ja"}),e.jsx("option",{value:"en",children:"en"})]}),e.jsxs("select",{value:o,onChange:i=>c(i.target.value),children:[e.jsx("option",{value:"grapheme",children:"grapheme"}),e.jsx("option",{value:"word",children:"word"}),e.jsx("option",{value:"sentence",children:"sentence"})]})]}),e.jsx("div",{ref:s,style:h,children:r.split(`
`).map((i,p)=>e.jsx(x,{text:i,segmenter:u},p))})]}):e.jsx("div",{children:"Intl.Segmenter is not supported in this browser."})}},E=["Segmenter"];export{w as Segmenter,E as __namedExportsOrder,S as default};
