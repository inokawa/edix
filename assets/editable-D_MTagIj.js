import{r as qt}from"./index-RYns6xqu.js";var Pt={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=qt,Wt=Symbol.for("react.element"),Xt=Symbol.for("react.fragment"),$t=Object.prototype.hasOwnProperty,zt=Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jt={key:!0,ref:!0,__self:!0,__source:!0};function At(t,e,n){var s,r={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(s in e)$t.call(e,s)&&!Jt.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Wt,type:t,key:o,ref:c,props:r,_owner:zt.current}}Y.Fragment=Xt;Y.jsx=At;Y.jsxs=At;Pt.exports=Y;var Ce=Pt.exports;const Qt=500,Zt=500,te=t=>{let e=0,n=0;const s=Date.now,r=[t],o=()=>r[e],c=p=>{r[e]=p},a=p=>{const y=s();e!==0&&y-n<Zt&&e--,n=y,r[++e]=p,r.splice(e+1),e>Qt&&(e--,r.shift())},l=()=>e>0,f=()=>e<r.length-1;return{get:o,set:c,undo:()=>{if(l())return e--,o()},redo:()=>{if(f())return e++,o()},push:a}};let B,E,D,X=!1,$;const ee=1,ne=4,Z=1,H=2,F=3,Bt=4,se=5,re=1,oe=3,ie=8,ce=t=>t.nodeType===oe,V=t=>t.nodeType===re,ae=t=>t.nodeType===ie,fe=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),le=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),ue=t=>fe.has(t.tagName),z=()=>E,Ht=()=>D===Z?E.data.length:D===H?1:0,Rt=t=>{const e=t.nextSibling;return!!e&&!ae(e)},de=t=>{for(;;){if(D===H){const e=E;for(;(E=B.nextNode())&&e.contains(E););}else E=B.nextNode();if(D=null,!E||t&&E===t)break;if(ce(E))if(E.data===`
`){if(Rt(E))return D=F}else return D=Z;else if(V(E)){const e=E.tagName;if(e==="BR"){const n=X;if(X=!0,Rt(E))return D=F;if(!n)return D=se}else{if(E.contentEditable==="false"||le.has(e))return D=H;if($(E)){const n=E.previousElementSibling;if(n&&$(n))return D=Bt}}}}},tt=(t,e,n,s)=>{try{return $=s._isBlock||ue,B=e.createTreeWalker(n,ne|ee),t(de)}finally{B=E=D=null,X=!1}},et=([t],[e])=>t===e?0:t<e?1:-1,S=(t,e)=>{const n=et(t,e);return n===0?t[1]===e[1]?0:t[1]<e[1]?1:-1:n},R=1,pe=2,{min:xt}=Math,Ee=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)},he=2,Ft=t=>t.ownerDocument,nt=t=>Ft(t).getSelection(),Vt=(t,e)=>{if(t.rangeCount){const n=t.getRangeAt(0);if(e.contains(n.commonAncestorContainer))return n}},bt=(t,e,n)=>{const s=nt(t);s.removeAllRanges(),s.addRange(e),n&&(s.collapseToEnd(),s.extend(e.startContainer,e.startOffset))},W=(t,e,[n,s],r,o)=>{const c=S(n,s),a=c===0,l=c===-1,f=l?s:n,v=l?n:s;if(f[0]===0&&f[1]===0&&a&&!e.hasChildNodes()){const d=t.createRange();return d.setStart(e,0),d.setEnd(e,0),bt(e,d),!0}const T=wt(t,e,f,r,o);if(!T)return!1;const p=a?T:wt(t,e,v,r,o);if(!p)return!1;const y=t.createRange();{const[d,h]=T;V(d)?h<1?y.setStartBefore(d):y.setStartAfter(d):y.setStart(d,xt(h,d.data.length))}{const[d,h]=p;V(d)?h<1?y.setEndBefore(d):y.setEndAfter(d):y.setEnd(d,xt(h,d.data.length))}return bt(e,y,l),!0},wt=(t,e,[n,s],r,o)=>tt(c=>{for(;c();){const a=Ht();if(s<=a)return[z(),s];s-=a}},t,r||e.childElementCount===0?e:e.children[n],o),k=(t,e,n,s,r,o)=>{let c=n,a;if(r||e.childElementCount===0)c=e,a=0;else{for(;;){const l=c.parentElement;if(l===e)break;c=l}a=Array.prototype.indexOf.call(e.children,c)}return V(n)&&(n=n.childNodes[s],s=0),tt(l=>{let f,v=0;for(;f=l(n);)f===F?(a++,v=0):v+=Ht();return[a,v+s]},t,c,o)},J=()=>[[0,0],[0,0]],It=(t,e,n,s)=>{const r=nt(e),o=Vt(r,e);if(!o)return J();const{startOffset:c,startContainer:a,endOffset:l,endContainer:f}=o,v=a===f?r.anchorOffset>r.focusOffset:(r.anchorNode.compareDocumentPosition(r.focusNode)&he)!==0;let T,p;if(e===a&&!n)if(c===0&&l!==0&&e.children.length<=l)T=[0,0],p=k(t,e,e.lastElementChild,e.lastElementChild.textContent.length,n,s);else return J();else T=k(t,e,a,c,n,s),p=r.isCollapsed?T:k(t,e,f,l,n,s);return[v?p:T,v?T:p]},I=(t,e,n)=>tt(s=>{let r,o=null,c="";const a=[],l=v=>{o||(o=[]),c&&(o.push({type:R,text:c}),c=""),v&&o.push({type:pe,node:v})},f=()=>{l(),o&&a.push(o),o=null};for(;r=s();)r===Z?c+=z().data:r===H?l(z()):(r===F||r===Bt)&&f();return f(),a},t,e,n),ve=t=>{const e=Vt(nt(t),t);if(e)return e.cloneContents()},ye=(t,e,{clientX:n,clientY:s},r,o)=>{if(t.caretPositionFromPoint){const c=t.caretPositionFromPoint(n,s);if(c)return k(t,e,c.offsetNode,c.offset,r,o)}else if(t.caretRangeFromPoint){const c=t.caretRangeFromPoint(n,s);if(c)return k(t,e,c.startContainer,c.startOffset,r,o)}},ge=(t,e)=>{let n=!1;const s=[],r=a=>{n&&s.push(...a)},o=new MutationObserver(a=>{r(a),n||e()}),c=()=>{r(o.takeRecords())};return o.observe(t,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(a){!n&&a&&c(),n=a},_flush:()=>(c(),s.splice(0)),_dispose(){s.splice(0),o.disconnect()}}},K=t=>t.type===R,st=t=>K(t)?t.text.length:1,Te=(t,e,n)=>{const s=t[e];K(n)&&K(s)?t[e]={type:R,text:s.text+n.text}:t.splice(e+1,0,n)},A=(...t)=>{const e=[];for(let n=0;n<t.length;n++){const s=t[n];if(!e.length)e.push(...s);else for(const r of s)Te(e,e.length-1,r)}return e},kt=(t,e)=>{for(let n=0;n<t.length;n++){const s=t[n],r=st(s);if(r>e){const o=t.slice(0,n),c=t.slice(n+1);return K(s)?(o.push({type:R,text:s.text.slice(0,e)}),c.unshift({type:R,text:s.text.slice(e)})):e===0?c.unshift(s):o.push(s),[o,c]}e-=r}return[t,[]]},mt=(t,e,n,s)=>[t[0]+n,t[1]+(et(t,e)===0?s-(n===0?0:e[1]):0)],Mt=(t,e,n)=>S(n,t)===1?[t[0]-n[0]-e[0],t[1]+(et(n,t)===0?e[1]-n[1]:0)]:e,Kt=(t,e,n,s)=>{const[r]=n,[o]=s||n,c=kt(t[n[0]],n[1]),a=c[0],l=s?kt(t[s[0]],s[1])[1]:c[1],f=[...e];f.length?(f[0]=A(a,f[0]),f[f.length-1]=A(f[f.length-1],l)):f.push(A(a,l)),t.splice(r,o-r+1,...f)},_e=(t,e,n,s)=>{const[r,o]=e,c=n.length,a=c-1,l=n[c-1].reduce((f,v)=>f+st(v),0);Kt(t,n,s),S(r,s)!==1&&(e[0]=mt(r,s,a,l)),S(o,s)!==1&&(e[1]=mt(o,s,a,l))},De=(t,e,n,s)=>{const[r,o]=e;Kt(t,[],n,s),S(r,n)!==1&&(e[0]=Mt(r,n,s)),S(o,n)!==1&&(e[1]=Mt(o,n,s))},Le=(t,[[e,n],[s,r]])=>{let o=0,c=0;for(let a=0;a<t.length;a++)for(const l of t[a]){const f=st(l);a<e&&(o+=f),a<s&&(c+=f)}return[[A(...t)],[[0,o+n],[0,c+r]]]},Q=(t,e,[n,s]=e)=>{const r=S(n,s);if(r!==0){const o=r===-1;De(t,e,o?s:n,o?n:s)}},Yt=(t,e,n)=>{Q(t,e),_e(t,e,n,e[0])},Oe=(t,e,n)=>{Yt(t,e,n.split(`
`).map(s=>[{type:R,text:s}]))},Ne=(t,e,n)=>{e[0]=e[1]=n},Re=(t,{schema:{single:e,data:n,copy:s,paste:r},isBlock:o,onChange:c})=>{const{contentEditable:a,role:l,ariaMultiLine:f,ariaReadOnly:v}=t,T=t.style.whiteSpace;t.role="textbox",t.style.whiteSpace="pre-wrap",e||(t.ariaMultiLine="true");let p=!1,y=!1,d=!1,h=J(),m=null,x=!1,M=!1,P=!1;const _={_isBlock:o},rt=()=>{t.contentEditable=p?"false":"true",t.ariaReadOnly=p?"true":null};rt();const j=[],g=Ft(t),b=te([n(I(g,t,_)),h]),C=ge(t,()=>{M&&(W(g,t,h,e,_),m!=null&&(clearTimeout(m),m=null))}),U=new Set,q=i=>{U.has(i)||(U.add(i),Ee(()=>{U.delete(i),i()}))},ot=()=>{const i=h;m=setTimeout(()=>{W(g,t,i,e,_)})},it=(i,u,L)=>{if(!p){e&&([i,u]=Le(i,u));const O=n(i);b.set([b.get()[0],L]),b.push([O,u]),h=u,c(O)}ot()},ct=()=>{h=It(g,t,e,_)},at=()=>{const i=C._flush();if(C._accept(!1),i.length){const u=It(g,t,e,_),L=I(g,t,_);let O;for(;O=i.pop();)if(O.type==="childList"){const{target:Nt,removedNodes:St,addedNodes:Ct,nextSibling:Ut}=O;for(let N=St.length-1;N>=0;N--)Nt.insertBefore(St[N],Ut);for(let N=Ct.length-1;N>=0;N--)Nt.removeChild(Ct[N])}else O.target.nodeValue=O.oldValue;C._flush(),d=W(g,t,h,e,_),it(L,u,h)}},jt=()=>{if(j.length){const i=[...h],u=I(g,t,_);let L;for(;L=j.pop();)L[0](u,i,...L[1]);it(u,i,h)}},w=(i,...u)=>{j.unshift([i,u]),q(jt)},ft=i=>{if(!x&&(i.metaKey||i.ctrlKey)&&!i.altKey&&i.code==="KeyZ"&&(i.preventDefault(),C._accept(!1),!p)){const u=i.shiftKey?b.redo():b.undo();u&&(h=u[1],c(u[0]),ot())}},lt=()=>{x||q(at)},ut=i=>{switch(i.inputType){case"historyUndo":{i.preventDefault();return}case"historyRedo":{i.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(e){i.preventDefault();return}}C._accept(!0)},dt=()=>{x=!0},pt=()=>{x=!1,q(at)},Et=()=>{M=!0,ct()},ht=()=>{M=!1},vt=()=>{if(d){d=!1;return}M&&!x&&!P&&ct()},G=i=>{const u=ve(t);u&&s(i,I(g,u,_),u)},yt=i=>{const u=r(i);typeof u=="string"?w(Oe,u):w(Yt,I(g,u,_))},gt=i=>{i.preventDefault(),G(i.clipboardData)},Tt=i=>{i.preventDefault(),p||(G(i.clipboardData),w(Q))},_t=i=>{i.preventDefault(),yt(i.clipboardData)},Dt=i=>{i.preventDefault();const u=i.dataTransfer,L=ye(g,t,i,e,_);u&&L&&(w(Ne,L),P?w(Q,h):t.focus(),yt(u))},Lt=i=>{P=!0,G(i.dataTransfer)},Ot=()=>{P=!1};return g.addEventListener("selectionchange",vt),t.addEventListener("keydown",ft),t.addEventListener("input",lt),t.addEventListener("beforeinput",ut),t.addEventListener("compositionstart",dt),t.addEventListener("compositionend",pt),t.addEventListener("focus",Et),t.addEventListener("blur",ht),t.addEventListener("copy",gt),t.addEventListener("cut",Tt),t.addEventListener("paste",_t),t.addEventListener("drop",Dt),t.addEventListener("dragstart",Lt),t.addEventListener("dragend",Ot),{dispose:()=>{y||(y=!0,t.contentEditable=a,t.role=l,t.ariaMultiLine=f,t.ariaReadOnly=v,t.style.whiteSpace=T,C._dispose(),g.removeEventListener("selectionchange",vt),t.removeEventListener("keydown",ft),t.removeEventListener("input",lt),t.removeEventListener("beforeinput",ut),t.removeEventListener("compositionstart",dt),t.removeEventListener("compositionend",pt),t.removeEventListener("focus",Et),t.removeEventListener("blur",ht),t.removeEventListener("copy",gt),t.removeEventListener("cut",Tt),t.removeEventListener("paste",_t),t.removeEventListener("drop",Dt),t.removeEventListener("dragstart",Lt),t.removeEventListener("dragend",Ot))},readonly:i=>{p=i,rt()}}};export{R as N,Re as e,ae as i,Ce as j};
