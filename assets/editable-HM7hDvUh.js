import{r as He}from"./index-RYns6xqu.js";var Re={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=He,Ue=Symbol.for("react.element"),We=Symbol.for("react.fragment"),Fe=Object.prototype.hasOwnProperty,Ve=Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,je={key:!0,ref:!0,__self:!0,__source:!0};function me(e,t,s){var n,o={},r=null,i=null;s!==void 0&&(r=""+s),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Fe.call(t,n)&&!je.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Ue,type:e,key:r,ref:i,props:o,_owner:Ve.current}}I.Fragment=We;I.jsx=me;I.jsxs=me;Re.exports=I;var rt=Re.exports;const Ke=500,qe=e=>{let t=0;const s=[e],n=()=>s[t],o=f=>{s[t]=f},r=f=>{s[++t]=f,s.splice(t+1),t>Ke&&(t--,s.shift())},i=()=>t>0,a=()=>t<s.length-1;return{get:n,set:o,undo:()=>{if(i())return t--,n()},redo:()=>{if(a())return t++,n()},push:r}},K=(e,t)=>e[0]===t[0]&&e[1]===t[1],Ne=([e,t],[s,n])=>e===s?t>n:e>s,{min:Se}=Math,Te=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},ze=1,Xe=3,$e=2,q=1,z=4,Ce="BR",Le="TEMPLATE",Oe=(e,t)=>{if(e.tagName!==Ce)return!1;if(t)return!0;let s=!1,n=!1,o=e;for(;o=o.previousSibling;)if(O(o)){s=!0;break}else if(L(o)&&o.tagName!==Le)return!1;let r=e;for(;r=r.nextSibling;)if(O(r)){n=!0;break}else if(L(r)&&r.tagName!==Le)return!1;return s&&n},ke=e=>e.ownerDocument,O=e=>e.nodeType===Xe,L=e=>e.nodeType===ze,Ye=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),Je=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","MAP","SVG","CANVAS","IFRAME"]),ye=e=>!!e&&Ye.has(e.tagName),X=e=>e.contentEditable==="false"||Je.has(e.tagName),$=e=>ke(e).getSelection(),Ae=(e,t)=>{if(!e.rangeCount)return;const s=e.getRangeAt(0);if(t.contains(s.commonAncestorContainer))return s},xe=(e,t,s)=>{const n=$(e);n.removeAllRanges(),n.addRange(t),s&&(n.collapseToEnd(),n.extend(t.startContainer,t.startOffset))},Y=(e,t)=>{if(t){const s=e.currentNode;let n;for(;(n=e.nextNode())&&s.contains(n););return n}return e.nextNode()},W=(e,t,[s,n],o)=>{const r=Ne(s,n),i=r?n:s,a=r?s:n,l=K(i,a);if(i[0]===0&&i[1]===0&&l&&!t.hasChildNodes()){const p=e.createRange();return p.setStart(t,0),p.setEnd(t,0),xe(t,p),!0}const u=_e(e,t,i,o);if(!u)return!1;const f=l?u:_e(e,t,a,o);if(!f)return!1;const d=e.createRange();{const[p,h]=u;L(p)?h<1?d.setStartBefore(p):d.setStartAfter(p):d.setStart(p,Se(h,p.data.length))}{const[p,h]=f;L(p)?h<1?d.setEndBefore(p):d.setEndAfter(p):d.setEnd(p,Se(h,p.data.length))}return xe(t,d,r),!0},_e=(e,t,[s,n],o)=>{let r=0,i,a=!1;const l=o||t.childElementCount===0?t:t.children[s],u=e.createTreeWalker(l,z|q);for(;i=Y(u,a);)if(a=!1,O(i)){const f=i.data.length;if(r+f>=n)return[i,n-r];r+=f}else if(L(i)){if(i.tagName===Ce){if(r+1>=n)return[i,0];r++}else if(X(i)){if(a=!0,r+1>=n)return[i,n-r];r++}}},Qe=e=>{const t=e.anchorNode.compareDocumentPosition(e.focusNode);return t===0?e.anchorOffset>e.focusOffset:(t&$e)!==0},F=(e,t,s,n,o)=>{let r=0,i,a=!1,l=s,u;if(o||t.childElementCount===0)l=t,u=0;else{for(;l.parentNode!==t;)l=l.parentNode;u=Array.prototype.indexOf.call(t.children,l)}const f=L(s);f&&(s=s.childNodes[n]);const d=e.createTreeWalker(l,z|q);for(;i=Y(d,a);){if(a=!1,i===s){r+=f?0:n;break}O(i)?r+=i.data.length:L(i)&&(Oe(i)?(u++,r=0):X(i)&&(a=!0,r++))}return[u,r]},j=()=>[[0,0],[0,0]],De=(e,t,s)=>{const n=$(t),o=Ae(n,t);if(!o)return j();const r=Qe(n),{startOffset:i,startContainer:a,endOffset:l,endContainer:u}=o;let f,d;if(t===a&&!s)if(i===0&&l!==0&&t.children.length<=l)f=[0,0],d=F(e,t,t.lastElementChild,t.lastElementChild.textContent.length,s);else return j();else f=F(e,t,a,i,s),d=n.isCollapsed?f:F(e,t,u,l,s);return[r?d:f,r?f:d]},C=(e,t,s)=>{let n,o=null,r="",i=!1;const a=[],l=e.createTreeWalker(t,z|q),u=d=>{o||(o=[]),r&&(o.push(r),r=""),d&&o.push(d)},f=()=>{u(),o&&a.push(o),o=null};for(;n=Y(l,i);)i=!1,O(n)?r+=n.data:L(n)&&(ye(n)&&ye(n.previousElementSibling)||Oe(n,s)?f():X(n)&&(i=!0,u(n)));return f(),a},Ze=e=>{const t=Ae($(e),e);if(t)return t.cloneContents()},et=(e,t)=>{let s=!1;const n=[],o=a=>{s&&n.push(...a)},r=new MutationObserver(a=>{o(a),s||t()}),i=()=>{o(r.takeRecords())};return r.observe(e,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(a){!s&&a&&i(),s=a},_flush:()=>(i(),n.splice(0)),_dispose(){n.splice(0),r.disconnect()}}},P=e=>typeof e=="string",J=e=>P(e)?e.length:1,be=e=>e.reduce((t,s)=>t+J(s),0),M=e=>{for(let t=0;t<e.length-1;){const s=e[t],n=e[t+1];P(s)&&n!=null&&P(n)?(e[t]=s+n,e.splice(t+1,1)):t++}return e},V=(e,[t,s])=>{const n=e[t];for(let o=0;o<n.length;o++){const r=n[o],i=J(r);if(i>s){const a=n.slice(0,o),l=n.slice(o+1);return P(r)?(a.push(r.slice(0,s)),l.unshift(r.slice(s))):s===0?l.unshift(r):a.push(r),[a,l]}s-=i}return[n,[]]},Me=(e,t,s)=>{const[n,o]=t;let r,i,a;if(K(n,o))r=n,[i,a]=V(e,r);else{const d=Ne(n,o),p=d?o:n,h=d?n:o,y=p[0],_=h[0];r=p,i=V(e,p)[0],a=V(e,h)[1],y!==_&&e.splice(y+1,_-y)}const l=s.length,[u,f]=r;if(l===1)e[u]=M([...i,...s[0],...a]),t[0]=t[1]=[u,f+be(s[0])];else{const d=[],p=s[l-1];for(let h=1;h<l-1;h++)d.push([...s[h]]);e.splice(u,1,M([...i,...s[0]]),...d,M([...p,...a])),t[0]=t[1]=[u+l-1,be(p)]}},Pe=(e,t,s)=>{Me(e,t,s.split(`
`).map(n=>[n]))},tt=(e,t)=>{K(t[0],t[1])||Pe(e,t,"")},nt=(e,[[t,s],[n,o]])=>{const r=[];let i=0,a=0;for(let l=0;l<e.length;l++)for(const u of e[l]){r.push(u);const f=J(u);l<t&&(i+=f),l<n&&(a+=f)}return[[M(r)],[[0,i+s],[0,a+o]]]},we=e=>e.reduce((t,s,n)=>(n!==0&&(t+=`
`),t+s.reduce((o,r)=>o+(typeof r=="string"?r:r.textContent),"")),""),ot=(e,{multiline:t,readonly:s,serializer:n={data:we},onChange:o})=>{const{contentEditable:r,role:i,ariaMultiLine:a,ariaReadOnly:l}=e,u=e.style.whiteSpace,f=()=>{e.contentEditable=s?"false":"true",e.ariaReadOnly=s?"true":null};f(),e.role="textbox",e.style.whiteSpace="pre-wrap",t&&(e.ariaMultiLine="true");let d=!1,p=!1,h=j(),y=!1,_=!1,k=null,w=!1,A=!1,R=!1;const B=[],x=!t,{data:Q,plain:Ie=we}=n,g=ke(e),m=qe([Q(C(g,e)),h]),D=et(e,()=>{A&&(W(g,e,h,x),k!=null&&(clearTimeout(k),k=null))}),Z=()=>{const c=h;k=setTimeout(()=>{W(g,e,c,x)})},ee=(c,E,S)=>{if(!s){x&&([c,E]=nt(c,E));const v=Q(c);m.set([m.get()[0],S]),m.push([v,E]),h=E,o(v)}Z()},te=()=>{h=De(g,e,x)},H=()=>{y||(y=!0,Te(()=>{y=!1;const c=D._flush();if(D._accept(!1),c.length){const E=De(g,e,x),S=C(g,e);let v;for(;v=c.pop();)if(v.type==="characterData")v.target.nodeValue=v.oldValue;else if(v.type==="childList"){const{target:b,removedNodes:ge,addedNodes:U,nextSibling:Be}=v;for(let T=ge.length-1;T>=0;T--)b.insertBefore(ge[T],Be);for(let T=U.length-1;T>=0;T--)U[T].parentNode&&b.removeChild(U[T])}D._flush();const N=h;p=W(g,e,N,x),ee(S,E,N)}}))},G=(c,...E)=>{B.unshift([c,E]),_||(_=!0,Te(()=>{if(_=!1,B.length){const S=h,v=[...h],N=C(g,e);let b;for(;b=B.pop();)b[0](N,v,...b[1]);ee(N,v,S)}}))},ne=c=>{if(!w&&(c.metaKey||c.ctrlKey)&&!c.altKey&&c.code==="KeyZ"&&(c.preventDefault(),!s)){const E=c.shiftKey?m.redo():m.undo();E&&(D._accept(!1),h=E[1],o(E[0]),Z())}},se=()=>{w||R||H()},re=c=>{switch(c.inputType){case"historyUndo":{c.preventDefault();return}case"historyRedo":{c.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(x){c.preventDefault();return}}D._accept(!0)},oe=()=>{w=!0},ie=()=>{w=!1,H()},ae=()=>{if(p){p=!1;return}A&&!w&&!R&&te()},ce=c=>{const E=Ze(e);if(!E)return;const S=Ie(C(g,E)),v=g.createElement("div");v.appendChild(E),c.setData("text/html",v.innerHTML),c.setData("text/plain",S)},le=c=>{c.preventDefault(),ce(c.clipboardData)},fe=c=>{c.preventDefault(),s||(ce(c.clipboardData),G(tt))},ue=c=>{c.preventDefault();const E=c.clipboardData,S=E.getData("text/html");if(S)try{G(Me,C(g,new DOMParser().parseFromString(S,"text/html").body,!0));return}catch{}G(Pe,E.getData("text/plain"))},de=()=>{A=!0,te()},pe=()=>{A=!1},he=()=>{R=!0},Ee=()=>{R&&(R=!1,H())};g.addEventListener("selectionchange",ae),e.addEventListener("keydown",ne),e.addEventListener("input",se),e.addEventListener("beforeinput",re),e.addEventListener("compositionstart",oe),e.addEventListener("compositionend",ie),e.addEventListener("copy",le),e.addEventListener("cut",fe),e.addEventListener("paste",ue),e.addEventListener("focus",de),e.addEventListener("blur",pe),e.addEventListener("dragstart",he),e.addEventListener("dragend",Ee);const ve=()=>{d||(d=!0,e.contentEditable=r,e.role=i,e.ariaMultiLine=a,e.ariaReadOnly=l,e.style.whiteSpace=u,D._dispose(),g.removeEventListener("selectionchange",ae),e.removeEventListener("keydown",ne),e.removeEventListener("input",se),e.removeEventListener("beforeinput",re),e.removeEventListener("compositionstart",oe),e.removeEventListener("compositionend",ie),e.removeEventListener("copy",le),e.removeEventListener("cut",fe),e.removeEventListener("paste",ue),e.removeEventListener("focus",de),e.removeEventListener("blur",pe),e.removeEventListener("dragstart",he),e.removeEventListener("dragend",Ee))};return ve.readonly=c=>{s=c,f()},ve};export{ot as e,rt as j};
