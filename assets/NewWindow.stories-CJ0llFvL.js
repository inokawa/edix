import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./iframe--__0NnYW.js";import{r as d}from"./index-BrO-d-Un.js";import{c}from"./editor-Dw_XHXbx.js";import{p as u}from"./plain-DXE80QuQ.js";import"./index-CdXK0qSg.js";const E={component:c},l=()=>{const e=s.useRef(null),[t,r]=s.useState("This is new window!");return s.useEffect(()=>{if(e.current)return c({doc:t,schema:u({multiline:!0}),onChange:r}).input(e.current)},[]),o.jsx("div",{ref:e,style:{background:"white"},children:t.split(`
`).map((i,n)=>o.jsx("div",{children:i||o.jsx("br",{})},n))})},p=({children:e,onUnload:t})=>{const[r,i]=s.useState(null);return s.useLayoutEffect(()=>{const n=window.open("","","width=600,height=400,left=200,top=200");if(!n)return;const a=n.document.createElement("div");return n.document.body.appendChild(a),n.addEventListener("unload",t,{once:!0}),i(a),()=>{n?.close()}},[]),r?d.createPortal(e,r):null},v={name:"NewWindow",render:()=>{const[e,t]=s.useState(!1);return o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>{t(r=>!r)},children:[e?"close":"open"," window"]}),e&&o.jsx(p,{onUnload:()=>{t(!1)},children:o.jsx(l,{})})]})}},W=["Default"];export{v as Default,W as __namedExportsOrder,E as default};
