import{r as Pe}from"./index-RYns6xqu.js";var be={exports:{}},M={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=Pe,Be=Symbol.for("react.element"),Ge=Symbol.for("react.fragment"),Ue=Object.prototype.hasOwnProperty,We=He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,je={key:!0,ref:!0,__self:!0,__source:!0};function we(e,t,s){var n,o={},r=null,i=null;s!==void 0&&(r=""+s),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Ue.call(t,n)&&!je.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Be,type:e,key:r,ref:i,props:o,_owner:We.current}}M.Fragment=Ge;M.jsx=we;M.jsxs=we;be.exports=M;var ot=be.exports;const Fe=500,Ve=500,qe=e=>{let t=0,s=0;const n=Date.now,o=[e],r=()=>o[t],i=E=>{o[t]=E},a=E=>{const u=n();s&&u-s<Ve&&t--,s=u,o[++t]=E,o.splice(t+1),t>Fe&&(t--,o.shift())},l=()=>t>0,f=()=>t<o.length-1;return{get:r,set:i,undo:()=>{if(l())return t--,r()},redo:()=>{if(f())return t++,r()},push:a}},xe=([e,t],[s,n])=>e===s?t===n?0:t<n?1:-1:e<s?1:-1,{min:ve}=Math,Ke=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},Xe=1,ze=3,Ye=2,j=1,F=4,Re="BR",ge="TEMPLATE",me=(e,t)=>{if(e.tagName!==Re)return!1;if(t)return!0;let s=!1,n=!1,o=e;for(;o=o.previousSibling;)if(O(o)){s=!0;break}else if(L(o)&&o.tagName!==ge)return!1;let r=e;for(;r=r.nextSibling;)if(O(r)){n=!0;break}else if(L(r)&&r.tagName!==ge)return!1;return s&&n},Oe=e=>e.ownerDocument,O=e=>e.nodeType===ze,L=e=>e.nodeType===Xe,$e=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),Je=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","MAP","SVG","CANVAS","IFRAME"]),Se=e=>!!e&&$e.has(e.tagName),V=e=>e.contentEditable==="false"||Je.has(e.tagName),q=e=>Oe(e).getSelection(),Ce=(e,t)=>{if(!e.rangeCount)return;const s=e.getRangeAt(0);if(t.contains(s.commonAncestorContainer))return s},Te=(e,t,s)=>{const n=q(e);n.removeAllRanges(),n.addRange(t),s&&(n.collapseToEnd(),n.extend(t.startContainer,t.startOffset))},K=(e,t)=>{if(t){const s=e.currentNode;let n;for(;(n=e.nextNode())&&s.contains(n););return n}return e.nextNode()},B=(e,t,[s,n],o)=>{const r=xe(s,n),i=r===0,a=r===-1,l=a?n:s,f=a?s:n;if(l[0]===0&&l[1]===0&&i&&!t.hasChildNodes()){const u=e.createRange();return u.setStart(t,0),u.setEnd(t,0),Te(t,u),!0}const p=Le(e,t,l,o);if(!p)return!1;const h=i?p:Le(e,t,f,o);if(!h)return!1;const E=e.createRange();{const[u,T]=p;L(u)?T<1?E.setStartBefore(u):E.setStartAfter(u):E.setStart(u,ve(T,u.data.length))}{const[u,T]=h;L(u)?T<1?E.setEndBefore(u):E.setEndAfter(u):E.setEnd(u,ve(T,u.data.length))}return Te(t,E,a),!0},Le=(e,t,[s,n],o)=>{let r,i=!1;const a=o||t.childElementCount===0?t:t.children[s],l=e.createTreeWalker(a,F|j);for(;r=K(l,i);)if(i=!1,O(r)){const f=r.data.length;if(n<=f)return[r,n];n-=f}else if(L(r)){if(r.tagName===Re){if(n<=1)return[r,0];n--}else if(V(r)){if(i=!0,n<=1)return[r,n];n--}}},Qe=e=>{const t=e.anchorNode.compareDocumentPosition(e.focusNode);return t===0?e.anchorOffset>e.focusOffset:(t&Ye)!==0},G=(e,t,s,n,o)=>{let r=0,i,a=!1,l=s,f;if(o||t.childElementCount===0)l=t,f=0;else{for(;;){const h=l.parentElement;if(h===t)break;l=h}f=Array.prototype.indexOf.call(t.children,l)}L(s)&&(s=s.childNodes[n],n=0);const p=e.createTreeWalker(l,F|j);for(;(i=K(p,a))&&(a=!1,i!==s);)O(i)?r+=i.data.length:L(i)&&(me(i)?(f++,r=0):V(i)&&(a=!0,r++));return[f,r+n]},U=()=>[[0,0],[0,0]],ye=(e,t,s)=>{const n=q(t),o=Ce(n,t);if(!o)return U();const r=Qe(n),{startOffset:i,startContainer:a,endOffset:l,endContainer:f}=o;let p,h;if(t===a&&!s)if(i===0&&l!==0&&t.children.length<=l)p=[0,0],h=G(e,t,t.lastElementChild,t.lastElementChild.textContent.length,s);else return U();else p=G(e,t,a,i,s),h=n.isCollapsed?p:G(e,t,f,l,s);return[r?h:p,r?p:h]},R=(e,t,s)=>{let n,o=null,r="",i=!1;const a=[],l=e.createTreeWalker(t,F|j),f=h=>{o||(o=[]),r&&(o.push(r),r=""),h&&o.push(h)},p=()=>{f(),o&&a.push(o),o=null};for(;n=K(l,i);)i=!1,O(n)?r+=n.data:L(n)&&(Se(n)&&Se(n.previousElementSibling)||me(n,s)?p():V(n)&&(i=!0,f(n)));return p(),a},Ze=e=>{const t=Ce(q(e),e);if(t)return t.cloneContents()},et=(e,t)=>{let s=!1;const n=[],o=a=>{s&&n.push(...a)},r=new MutationObserver(a=>{o(a),s||t()}),i=()=>{o(r.takeRecords())};return r.observe(e,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(a){!s&&a&&i(),s=a},_flush:()=>(i(),n.splice(0)),_dispose(){n.splice(0),r.disconnect()}}},k=e=>typeof e=="string",X=e=>k(e)?e.length:1,De=e=>e.reduce((t,s)=>t+X(s),0),tt=(e,t,s)=>{const n=e[t];k(s)&&k(n)?e[t]=n+s:e.splice(t+1,0,s)},m=(...e)=>{const t=[];for(let s=0;s<e.length;s++){const n=e[s];if(s===0)t.push(...n);else for(const o of n)tt(t,t.length-1,o)}return t},W=(e,[t,s])=>{const n=e[t];for(let o=0;o<n.length;o++){const r=n[o],i=X(r);if(i>s){const a=n.slice(0,o),l=n.slice(o+1);return k(r)?(a.push(r.slice(0,s)),l.unshift(r.slice(s))):s===0?l.unshift(r):a.push(r),[a,l]}s-=i}return[n,[]]},Ne=(e,t)=>{const[s,n]=t,o=xe(s,n);if(o!==0){const r=o===-1,i=r?n:s,a=r?s:n,l=i[0],f=a[0];e.splice(l,f-l+1,m(W(e,i)[0],W(e,a)[1])),t[0]=t[1]=i}},ke=(e,t,s)=>{Ne(e,t);const n=t[0],[o,r]=W(e,n),i=s.length,[a,l]=n;if(i===1)e[a]=m(o,s[0],r),t[0]=t[1]=[a,l+De(s[0])];else{const[f,...p]=s,h=p.pop();e.splice(a,1,m(o,f),...p,m(h,r)),t[0]=t[1]=[a+i-1,De(h)]}},nt=(e,t,s)=>{ke(e,t,s.split(`
`).map(n=>[n]))},st=(e,[[t,s],[n,o]])=>{let r=0,i=0;for(let a=0;a<e.length;a++)for(const l of e[a]){const f=X(l);a<t&&(r+=f),a<n&&(i+=f)}return[[m(...e)],[[0,r+s],[0,i+o]]]},_e=e=>e.reduce((t,s,n)=>(n!==0&&(t+=`
`),t+s.reduce((o,r)=>o+(typeof r=="string"?r:r.textContent),"")),""),it=(e,{multiline:t,readonly:s,serializer:n={data:_e},onChange:o})=>{const{contentEditable:r,role:i,ariaMultiLine:a,ariaReadOnly:l}=e,f=e.style.whiteSpace,p=()=>{e.contentEditable=s?"false":"true",e.ariaReadOnly=s?"true":null};p(),e.role="textbox",e.style.whiteSpace="pre-wrap",t&&(e.ariaMultiLine="true");let h=!1,E=!1,u=U(),T=null,b=!1,C=!1,w=!1;const A=[],y=!t,{data:z,plain:Me=_e}=n,v=Oe(e),x=qe([z(R(v,e)),u]),_=et(e,()=>{C&&(B(v,e,u,y),T!=null&&(clearTimeout(T),T=null))}),I=new Set,N=c=>{I.has(c)||(I.add(c),Ke(()=>{I.delete(c),c()}))},Y=()=>{const c=u;T=setTimeout(()=>{B(v,e,c,y)})},$=(c,d,g)=>{if(!s){y&&([c,d]=st(c,d));const S=z(c);x.set([x.get()[0],g]),x.push([S,d]),u=d,o(S)}Y()},J=()=>{u=ye(v,e,y)},P=()=>{const c=_._flush();if(_._accept(!1),c.length){const d=ye(v,e,y),g=R(v,e);let S;for(;S=c.pop();)if(S.type==="characterData")S.target.nodeValue=S.oldValue;else if(S.type==="childList"){const{target:pe,removedNodes:he,addedNodes:Ee,nextSibling:Ie}=S;for(let D=he.length-1;D>=0;D--)pe.insertBefore(he[D],Ie);for(let D=Ee.length-1;D>=0;D--)pe.removeChild(Ee[D])}_._flush(),E=B(v,e,u,y),$(g,d,u)}},Ae=()=>{if(A.length){const c=[...u],d=R(v,e);let g;for(;g=A.pop();)g[0](d,c,...g[1]);$(d,c,u)}},H=(c,...d)=>{A.unshift([c,d]),N(Ae)},Q=c=>{if(!b&&(c.metaKey||c.ctrlKey)&&!c.altKey&&c.code==="KeyZ"&&(c.preventDefault(),!s)){const d=c.shiftKey?x.redo():x.undo();d&&(_._accept(!1),u=d[1],o(d[0]),Y())}},Z=()=>{b||w||N(P)},ee=c=>{switch(c.inputType){case"historyUndo":{c.preventDefault();return}case"historyRedo":{c.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(y){c.preventDefault();return}}_._accept(!0)},te=()=>{b=!0},ne=()=>{b=!1,N(P)},se=()=>{if(E){E=!1;return}C&&!b&&!w&&J()},re=c=>{const d=Ze(e);if(!d)return;const g=Me(R(v,d)),S=v.createElement("div");S.appendChild(d),c.setData("text/html",S.innerHTML),c.setData("text/plain",g)},oe=c=>{c.preventDefault(),re(c.clipboardData)},ie=c=>{c.preventDefault(),s||(re(c.clipboardData),H(Ne))},ae=c=>{c.preventDefault();const d=c.clipboardData,g=d.getData("text/html");if(g)try{H(ke,R(v,new DOMParser().parseFromString(g,"text/html").body,!0));return}catch{}H(nt,d.getData("text/plain"))},ce=()=>{C=!0,J()},le=()=>{C=!1},ue=()=>{w=!0},fe=()=>{w&&(w=!1,N(P))};v.addEventListener("selectionchange",se),e.addEventListener("keydown",Q),e.addEventListener("input",Z),e.addEventListener("beforeinput",ee),e.addEventListener("compositionstart",te),e.addEventListener("compositionend",ne),e.addEventListener("copy",oe),e.addEventListener("cut",ie),e.addEventListener("paste",ae),e.addEventListener("focus",ce),e.addEventListener("blur",le),e.addEventListener("dragstart",ue),e.addEventListener("dragend",fe);const de=()=>{h||(h=!0,e.contentEditable=r,e.role=i,e.ariaMultiLine=a,e.ariaReadOnly=l,e.style.whiteSpace=f,_._dispose(),v.removeEventListener("selectionchange",se),e.removeEventListener("keydown",Q),e.removeEventListener("input",Z),e.removeEventListener("beforeinput",ee),e.removeEventListener("compositionstart",te),e.removeEventListener("compositionend",ne),e.removeEventListener("copy",oe),e.removeEventListener("cut",ie),e.removeEventListener("paste",ae),e.removeEventListener("focus",ce),e.removeEventListener("blur",le),e.removeEventListener("dragstart",ue),e.removeEventListener("dragend",fe))};return de.readonly=c=>{s=c,p()},de};export{it as e,ot as j};
