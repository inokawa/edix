import{a as st}from"./index-Bk3ZmH4I.js";var Q={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Se;function ot(){if(Se)return B;Se=1;var e=st(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,i,f){var l,h={},v=null,d=null;f!==void 0&&(v=""+f),i.key!==void 0&&(v=""+i.key),i.ref!==void 0&&(d=i.ref);for(l in i)r.call(i,l)&&!o.hasOwnProperty(l)&&(h[l]=i[l]);if(c&&c.defaultProps)for(l in i=c.defaultProps,i)h[l]===void 0&&(h[l]=i[l]);return{$$typeof:t,type:c,key:v,ref:d,props:h,_owner:s.current}}return B.Fragment=n,B.jsx=a,B.jsxs=a,B}var Le;function it(){return Le||(Le=1,Q.exports=ot()),Q.exports}var Bt=it();const j=([e],[t])=>e===t?0:e<t?1:-1,T=(e,t)=>{const n=j(e,t);return n===0?e[1]===t[1]?0:e[1]<t[1]?1:-1:n},He=(e,t)=>T(e,t)===-1?[t,e]:[e,t],L=1,ct=2,F=e=>e.type===L,se=e=>F(e)?e.text.length:1,Ke=e=>e.reduce((t,n)=>t+se(n),0),K=(...e)=>{const t=[];for(const n of e)if(!t.length)t.push(...n);else for(const r of n){const s=t.length-1,o=t[s];F(r)&&F(o)?t[s]={type:L,text:o.text+r.text}:t.push(r)}return t},b=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n],s=se(r);if(s>t){const o=e.slice(0,n),a=e.slice(n+1);if(F(r)){const c=r.text.slice(0,t),i=r.text.slice(t);c&&o.push({type:L,text:c}),i&&a.unshift({type:L,text:i})}else a.unshift(r);return[o,a]}t-=s}return[e,[]]},Ce=(e,t,n,r)=>[e[0]+n,e[1]+(j(e,t)===0?r-(n===0?0:t[1]):0)],ke=(e,t,n)=>T(n,e)===1?[e[0]+t[0]-n[0],e[1]+(j(n,e)===0?t[1]-n[1]:0)]:t,Fe=(e,t,n,r)=>{const[s]=n,[o]=r||n,a=b(e[n[0]],n[1]),c=a[0],i=r?b(e[r[0]],r[1])[1]:a[1],f=[...t];f.length?(f[0]=K(c,f[0]),f[f.length-1]=K(f[f.length-1],i)):f.push(K(c,i)),e.splice(s,o-s+1,...f)},at=(e,t,n)=>j(t,n)===0?[b(b(e[t[0]],n[1])[0],t[1])[1]]:[b(e[t[0]],t[1])[1],...e.slice(t[0]+1,n[0]),b(e[n[0]],n[1])[0]],Mt=(e,t)=>e.reduce((n,r,s)=>(s!==0&&(n+=`
`),n+r.reduce((o,a)=>o+(a.type===L?a.text:t?t(a):""),"")),""),ut=e=>e.split(`
`).map(t=>[{type:L,text:t}]),Ve=(e,t,n,r)=>{const[s,o]=t,a=n.length,c=a-1,i=Ke(n[a-1]);Fe(e,n,r),T(s,r)!==1&&(t[0]=Ce(s,r,c,i)),T(o,r)!==1&&(t[1]=Ce(o,r,c,i))},qe=(e,t,n,r)=>{const[s,o]=t;Fe(e,[],n,r),T(s,n)!==1&&(t[0]=ke(s,n,r)),T(o,n)!==1&&(t[1]=ke(o,n,r))},ft=(e,[[t,n],[r,s]])=>{let o=0,a=0;for(let c=0;c<e.length;c++)for(const i of e[c]){const f=se(i);c<t&&(o+=f),c<r&&(a+=f)}return[[K(...e)],[[0,o+n],[0,a+s]]]},ee=(e,t,[n,r]=t)=>{T(n,r)!==0&&qe(e,t,...He(n,r))},Ue=(e,t,n)=>{ee(e,t),Ve(e,t,n,t[0])},Pt=(e,t,n)=>{Ue(e,t,ut(n))},Ie=(e,t,n,r=n)=>{t[0]=n,t[1]=r},be=(e,t)=>t[0]===0?[0,0]:[t[0]-1,Ke(e[t[0]-1])],lt=(e,t,n,r)=>{n&&qe(e,t,n._isBlock?be(e,n._range[0]):n._range[0],n._range[1]),r&&Ve(e,t,r._isBlock?[[],...r._doc]:r._doc,r._isBlock?be(e,r._start):r._start)},dt=500,pt=500,Et=e=>{let t=0,n=0;const r=Date.now,s=[e],o=()=>s[t],a=v=>{s[t]=v},c=v=>{const d=r();t!==0&&d-n<pt&&t--,n=d,s[++t]=v,s.splice(t+1),t>dt&&(t--,s.shift())},i=()=>t>0,f=()=>t<s.length-1;return{get:o,set:a,undo:()=>{if(i())return t--,o()},redo:()=>{if(f())return t++,o()},push:c}};let w,E,g,V,te=!1,ne=!1,je;const _t=1,ht=4,oe=1,q=2,U=3,ie=4,vt=5,gt=6,Nt=1,yt=3,Tt=8,Ge=e=>e.nodeType===yt,P=e=>e.nodeType===Nt,Ot=e=>e.nodeType===Tt,Dt=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),M=()=>E,We=()=>g===oe?E.data.length:g===q?1:0,we=e=>{const t=e.nextSibling;return!!t&&!Ot(t)},mt=()=>{for(;;){if(g===q){const e=E;for(;(E=w.nextNode())&&e.contains(E););}else E=w.nextNode();if(g=null,!E)break;if(V){if(V.contains(E)){if(te=!0,ne)break}else if(te)break}if(Ge(E))return E.data===`
`?g=we(E)?U:gt:g=oe;if(P(E)){const e=E.tagName;if(e==="BR")return g=we(E)?U:vt;if(E.contentEditable==="false"||Dt.has(e))return g=q;if(je(E))return g=ie}}},G=(e,t,{_document:n,_isBlock:r},s)=>{try{return je=r,w=n.createTreeWalker(t,ht|_t),s&&(s._startNode&&(w.currentNode=s._startNode,w.previousNode()),s._endNode&&(V=s._endNode),ne=s._excludeEnd||!1),e(mt)}finally{w=E=g=V=null,te=ne=!1}},xt=Math.min,Rt=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},St=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),Lt=e=>St.has(e.tagName),ze=2,Ct=4,Je=e=>e.ownerDocument,ce=e=>Je(e).getSelection(),Xe=(e,t)=>{if(e.rangeCount){const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n}},Be=(e,t,n)=>{const r=ce(e);r.removeAllRanges(),r.addRange(t),n&&(r.collapseToEnd(),r.extend(t.startContainer,t.startOffset))},Z=(e,t,[n,r],s,o)=>{const a=T(n,r),c=a===0,i=a===-1,f=i?r:n,l=i?n:r;if(f[0]===0&&f[1]===0&&c&&!t.hasChildNodes()){const N=e.createRange();return N.setStart(t,0),N.setEnd(t,0),Be(t,N),!0}const h=Me(t,f,s,o);if(!h)return!1;const v=c?h:Me(t,l,s,o);if(!v)return!1;const d=e.createRange(),[D,k]=h,[_,m]=v;return P(D)?k<1?d.setStartBefore(D):d.setStartAfter(D):d.setStart(D,k),P(_)?m<1?d.setEndBefore(_):d.setEndAfter(_):d.setEnd(_,m),Be(t,d,i),!0},Me=(e,[t,n],r,s)=>G(o=>{for(;o();){const a=We();if(n<=a)return[M(),n];n-=a}},r||e.childElementCount===0?e:e.children[t],s),$e=(e,t)=>{let n=t;for(;;){const r=n.parentElement;if(r===e)break;n=r}return n},C=(e,t,n,r,s,o)=>{let a,c;if(e===t){if(!e.hasChildNodes())return[0,0];const i=xt(n,e.childNodes.length-1);return C(e,e.childNodes[i],0,r,s,i!==n)}else{const i=$e(e,t);r._isBlock(i)?(a=i,c=Array.prototype.indexOf.call(e.children,a)):(a=e,c=0)}return!s&&P(t)&&(t=t.childNodes[n],n=0),G(i=>{let f,l=0;for(;f=i();)f===U?(c++,l=0):l+=We();return[c,l+n]},a,r,{_endNode:t,_excludeEnd:!o})},Ye=()=>[[0,0],[0,0]],re=(e,t)=>e.compareDocumentPosition(t),Pe=(e,t)=>{const n=ce(e),r=Xe(n,e);if(!r)return Ye();const{startOffset:s,startContainer:o,endOffset:a,endContainer:c}=r,i=C(e,o,s,t),f=o===c&&s===a?i:C(e,c,a,t);return(n.anchorNode===n.focusNode?n.anchorOffset>n.focusOffset:(re(n.anchorNode,n.focusNode)&ze)!==0)?[f,i]:[i,f]},Qe=(e,t)=>e.map(n=>n.reduce((r,s)=>{if(typeof s=="string")r.push({type:L,text:s});else{const o=t(s);o&&r.push({type:ct,data:o})}return r},[])),Ze=(e,t,n)=>G(r=>{let s,o=null,a="";const c=[],i=()=>{o||(o=[]),a&&(o.push(a),a="")},f=()=>{i(),o&&c.push(o),o=null};for(;s=r();)if(s===oe)a+=M().data;else if(s===q)i(),o.push(M());else if(s===ie){const l=M().previousElementSibling;l&&t._isBlock(l)&&f()}else s===U&&f();return f(),c},e,t,n),Ae=(e,t,n)=>{let r,s,o,a;for(const i of t)i.isConnected&&(Ge(i)||P(i))&&((!r||re(r,i)&ze)&&(r=i),(!s||re(s,i)&Ct)&&(s=i));if(!r||!s)return;const c=$e(e,r);if(G(i=>{let f;for(;f=i();)f!==ie&&(a=M(),o||(o=a))},e,n,{_startNode:r,_endNode:s}),!(!o||!a))return{_range:[C(e,o,0,n,!0),C(e,a,0,n,!0,!0)],_start:o,_end:a,_isBlock:c===r&&n._isBlock(c)}},kt=(e,t,n,r)=>{const s=new Set;for(const f of n)if(f.type==="childList"){for(const l of f.addedNodes)s.add(l);for(const l of f.removedNodes)s.add(l)}else s.add(f.target);const o=Ae(e,s,t),a=o?Ze(e,t,{_startNode:o._start,_endNode:o._end}):[];let c;for(;c=n.pop();)if(c.type==="childList"){const{target:f,removedNodes:l,addedNodes:h,nextSibling:v}=c;for(let d=l.length-1;d>=0;d--)f.insertBefore(l[d],v);for(let d=h.length-1;d>=0;d--)f.removeChild(h[d])}else c.target.nodeValue=c.oldValue;const i=Ae(e,s,t);return[i?{_range:i._range,_isBlock:i._isBlock}:null,o?{_start:o._range[0],_isBlock:o._isBlock,_doc:Qe(a,r)}:null]},It=(e,t,{clientX:n,clientY:r},s)=>{if(e.caretPositionFromPoint){const o=e.caretPositionFromPoint(n,r);if(o)return C(t,o.offsetNode,o.offset,s)}else if(e.caretRangeFromPoint){const o=e.caretRangeFromPoint(n,r);if(o)return C(t,o.startContainer,o.startOffset,s)}},bt=(e,t)=>{let n=!1;const r=[],s=c=>{n&&r.push(...c)},o=new MutationObserver(c=>{s(c),n||t()}),a=()=>{s(o.takeRecords())};return o.observe(e,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(c){!n&&c&&a(),n=c},_flush:()=>(a(),r.splice(0)),_dispose(){r.splice(0),o.disconnect()}}},At=(e,{schema:{single:t,js:n,void:r,copy:s,paste:o},isBlock:a=Lt,onChange:c})=>{const{contentEditable:i,role:f,ariaMultiLine:l,ariaReadOnly:h}=e,v=e.style.whiteSpace;e.role="textbox",e.style.whiteSpace="pre-wrap",t||(e.ariaMultiLine="true");let d=!1,D=!1,k=!1,_=Ye(),m=null,N=!1,A=!1,H=!1;const x=Je(e),y={_document:x,_isBlock:a},ae=()=>{e.contentEditable=d?"false":"true",e.ariaReadOnly=d?"true":null};ae();const ue=(u,p)=>Qe(Ze(u,p),r),W=[],R=Et([ue(e,y),_]),I=bt(e,()=>{A&&(Z(x,e,_,t,y),m!=null&&(clearTimeout(m),m=null))}),z=new Set,J=u=>{z.has(u)||(z.add(u),Rt(()=>{z.delete(u),u()}))},fe=u=>{_=u,m=setTimeout(()=>{Z(x,e,u,t,y)})},X=()=>{_=Pe(e,y)},le=()=>{const u=I._flush();if(I._accept(!1),u.length){const p=Pe(e,y),O=kt(e,y,u,r);I._flush(),k=Z(x,e,_,t,y),S(lt,...O),S(Ie,...p)}},et=()=>{if(W.length){let u=[..._],p=[...R.get()[0]],O;for(;O=W.pop();)O._fn(p,u,...O._args);if(!d){t&&([p,u]=ft(p,u));const Y=R.get()[0],tt=_;(p.length!==Y.length||p.some((nt,rt)=>nt!==Y[rt]))&&(R.set([Y,tt]),R.push([p,u]),c(n(p)))}fe(u)}},S=(u,...p)=>{W.unshift({_fn:u,_args:p}),J(et)},de=u=>{if(!N&&(u.metaKey||u.ctrlKey)&&!u.altKey&&u.code==="KeyZ"&&(u.preventDefault(),I._accept(!1),!d)){const p=u.shiftKey?R.redo():R.undo();p&&(c(n(p[0])),fe(p[1]))}},pe=()=>{N||J(le)},Ee=u=>{switch(u.inputType){case"historyUndo":{u.preventDefault();return}case"historyRedo":{u.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(t){u.preventDefault();return}}I._accept(!0)},_e=()=>{N=!0},he=()=>{N=!1,J(le)},ve=()=>{A=!0,X()},ge=()=>{A=!1},Ne=()=>{if(k){k=!1;return}A&&!N&&!H&&X()},$=u=>{X(),T(..._)!==0&&s(u,at(R.get()[0],...He(..._)),()=>Xe(ce(e),e).cloneContents())},ye=u=>{S(Ue,o(u,p=>ue(p,y)))},Te=u=>{u.preventDefault(),$(u.clipboardData)},Oe=u=>{u.preventDefault(),d||($(u.clipboardData),S(ee))},De=u=>{u.preventDefault(),ye(u.clipboardData)},me=u=>{u.preventDefault();const p=u.dataTransfer,O=It(x,e,u,y);p&&O&&(S(Ie,O),H?S(ee,_):e.focus(),ye(p))},xe=u=>{H=!0,$(u.dataTransfer)},Re=()=>{H=!1};return x.addEventListener("selectionchange",Ne),e.addEventListener("keydown",de),e.addEventListener("input",pe),e.addEventListener("beforeinput",Ee),e.addEventListener("compositionstart",_e),e.addEventListener("compositionend",he),e.addEventListener("focus",ve),e.addEventListener("blur",ge),e.addEventListener("copy",Te),e.addEventListener("cut",Oe),e.addEventListener("paste",De),e.addEventListener("drop",me),e.addEventListener("dragstart",xe),e.addEventListener("dragend",Re),{dispose:()=>{D||(D=!0,e.contentEditable=i,e.role=f,e.ariaMultiLine=l,e.ariaReadOnly=h,e.style.whiteSpace=v,I._dispose(),x.removeEventListener("selectionchange",Ne),e.removeEventListener("keydown",de),e.removeEventListener("input",pe),e.removeEventListener("beforeinput",Ee),e.removeEventListener("compositionstart",_e),e.removeEventListener("compositionend",he),e.removeEventListener("focus",ve),e.removeEventListener("blur",ge),e.removeEventListener("copy",Te),e.removeEventListener("cut",Oe),e.removeEventListener("paste",De),e.removeEventListener("drop",me),e.removeEventListener("dragstart",xe),e.removeEventListener("dragend",Re))},command:S,readonly:u=>{d=u,ae()}}};export{ee as D,Pt as I,L as N,Mt as d,At as e,Ot as i,Bt as j,ut as s};
