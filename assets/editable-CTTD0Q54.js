import{r as He}from"./index-RYns6xqu.js";var we={exports:{}},M={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=He,Ue=Symbol.for("react.element"),We=Symbol.for("react.fragment"),je=Object.prototype.hasOwnProperty,Fe=Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ve={key:!0,ref:!0,__self:!0,__source:!0};function Ne(e,t,n){var s,o={},r=null,i=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)je.call(t,s)&&!Ve.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:Ue,type:e,key:r,ref:i,props:o,_owner:Fe.current}}M.Fragment=We;M.jsx=Ne;M.jsxs=Ne;we.exports=M;var ot=we.exports;const Ke=500,qe=e=>{let t=0;const n=[e],s=()=>n[t],o=f=>{n[t]=f},r=f=>{n[++t]=f,n.splice(t+1),t>Ke&&(t--,n.shift())},i=()=>t>0,a=()=>t<n.length-1;return{get:s,set:o,undo:()=>{if(i())return t--,s()},redo:()=>{if(a())return t++,s()},push:r}},Re=(e,t)=>e[0]===t[0]&&e[1]===t[1],me=([e,t],[n,s])=>e===n?t>s:e>n,{min:ge}=Math,Se=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},Xe=1,ze=3,$e=2,K=1,q=4,Ce="BR",Te="TEMPLATE",Oe=(e,t)=>{if(e.tagName!==Ce)return!1;if(t)return!0;let n=!1,s=!1,o=e;for(;o=o.previousSibling;)if(C(o)){n=!0;break}else if(L(o)&&o.tagName!==Te)return!1;let r=e;for(;r=r.nextSibling;)if(C(r)){s=!0;break}else if(L(r)&&r.tagName!==Te)return!1;return n&&s},ke=e=>e.ownerDocument,C=e=>e.nodeType===ze,L=e=>e.nodeType===Xe,Ye=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),Je=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","MAP","SVG","CANVAS","IFRAME"]),Le=e=>!!e&&Ye.has(e.tagName),X=e=>e.contentEditable==="false"||Je.has(e.tagName),z=e=>ke(e).getSelection(),Ae=(e,t)=>{if(!e.rangeCount)return;const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n},ye=(e,t,n)=>{const s=z(e);s.removeAllRanges(),s.addRange(t),n&&(s.collapseToEnd(),s.extend(t.startContainer,t.startOffset))},$=(e,t)=>{if(t){const n=e.currentNode;let s;for(;(s=e.nextNode())&&n.contains(s););return s}return e.nextNode()},W=(e,t,[n,s],o)=>{const r=me(n,s),i=r?s:n,a=r?n:s,l=Re(i,a);if(i[0]===0&&i[1]===0&&l&&!t.hasChildNodes()){const p=e.createRange();return p.setStart(t,0),p.setEnd(t,0),ye(t,p),!0}const u=_e(e,t,i,o);if(!u)return!1;const f=l?u:_e(e,t,a,o);if(!f)return!1;const d=e.createRange();{const[p,E]=u;L(p)?E<1?d.setStartBefore(p):d.setStartAfter(p):d.setStart(p,ge(E,p.data.length))}{const[p,E]=f;L(p)?E<1?d.setEndBefore(p):d.setEndAfter(p):d.setEnd(p,ge(E,p.data.length))}return ye(t,d,r),!0},_e=(e,t,[n,s],o)=>{let r=0,i,a=!1;const l=o||t.childElementCount===0?t:t.children[n],u=e.createTreeWalker(l,q|K);for(;i=$(u,a);)if(a=!1,C(i)){const f=i.data.length;if(r+f>=s)return[i,s-r];r+=f}else if(L(i)){if(i.tagName===Ce){if(r+1>=s)return[i,0];r++}else if(X(i)){if(a=!0,r+1>=s)return[i,s-r];r++}}},Qe=e=>{const t=e.anchorNode.compareDocumentPosition(e.focusNode);return t===0?e.anchorOffset>e.focusOffset:(t&$e)!==0},j=(e,t,n,s,o)=>{let r=0,i,a=!1,l=n,u;if(o||t.childElementCount===0)l=t,u=0;else{for(;l.parentNode!==t;)l=l.parentNode;u=Array.prototype.indexOf.call(t.children,l)}const f=L(n);f&&(n=n.childNodes[s]);const d=e.createTreeWalker(l,q|K);for(;i=$(d,a);){if(a=!1,i===n){r+=f?0:s;break}C(i)?r+=i.data.length:L(i)&&(Oe(i)?(u++,r=0):X(i)&&(a=!0,r++))}return[u,r]},F=()=>[[0,0],[0,0]],De=(e,t,n)=>{const s=z(t),o=Ae(s,t);if(!o)return F();const r=Qe(s),{startOffset:i,startContainer:a,endOffset:l,endContainer:u}=o;let f,d;if(t===a&&!n)if(i===0&&l!==0&&t.children.length<=l)f=[0,0],d=j(e,t,t.lastElementChild,t.lastElementChild.textContent.length,n);else return F();else f=j(e,t,a,i,n),d=s.isCollapsed?f:j(e,t,u,l,n);return[r?d:f,r?f:d]},R=(e,t,n)=>{let s,o=null,r="",i=!1;const a=[],l=e.createTreeWalker(t,q|K),u=d=>{o||(o=[]),r&&(o.push(r),r=""),d&&o.push(d)},f=()=>{u(),o&&a.push(o),o=null};for(;s=$(l,i);)i=!1,C(s)?r+=s.data:L(s)&&(Le(s)&&Le(s.previousElementSibling)||Oe(s,n)?f():X(s)&&(i=!0,u(s)));return f(),a},Ze=e=>{const t=Ae(z(e),e);if(t)return t.cloneContents()},et=(e,t)=>{let n=!1;const s=[],o=a=>{n&&s.push(...a)},r=new MutationObserver(a=>{o(a),n||t()}),i=()=>{o(r.takeRecords())};return r.observe(e,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{_accept(a){!n&&a&&i(),n=a},_flush:()=>(i(),s.splice(0)),_dispose(){s.splice(0),r.disconnect()}}},A=e=>typeof e=="string",Y=e=>A(e)?e.length:1,be=e=>e.reduce((t,n)=>t+Y(n),0),tt=(e,t,n)=>{const s=e[t];A(n)&&A(s)?e[t]=s+n:e.splice(t+1,0,n)},m=(...e)=>{const t=[];for(let n=0;n<e.length;n++){const s=e[n];if(n===0)t.push(...s);else for(const o of s)tt(t,t.length-1,o)}return t},V=(e,[t,n])=>{const s=e[t];for(let o=0;o<s.length;o++){const r=s[o],i=Y(r);if(i>n){const a=s.slice(0,o),l=s.slice(o+1);return A(r)?(a.push(r.slice(0,n)),l.unshift(r.slice(n))):n===0?l.unshift(r):a.push(r),[a,l]}n-=i}return[s,[]]},Me=(e,t)=>{const[n,s]=t;if(!Re(n,s)){const o=me(n,s),r=o?s:n,i=o?n:s,a=r[0],l=i[0],u=V(e,r)[0],f=V(e,i)[1];e.splice(a,l-a+1,m(u,f)),t[0]=t[1]=r}},Pe=(e,t,n)=>{Me(e,t);const s=t[0],[o,r]=V(e,s),i=n.length,[a,l]=s;if(i===1)e[a]=m(o,n[0],r),t[0]=t[1]=[a,l+be(n[0])];else{const u=[],f=n[i-1];for(let d=1;d<i-1;d++)u.push(n[d]);e.splice(a,1,m(o,n[0]),...u,m(f,r)),t[0]=t[1]=[a+i-1,be(f)]}},nt=(e,t,n)=>{Pe(e,t,n.split(`
`).map(s=>[s]))},st=(e,[[t,n],[s,o]])=>{let r=0,i=0;for(let a=0;a<e.length;a++)for(const l of e[a]){const u=Y(l);a<t&&(r+=u),a<s&&(i+=u)}return[[m(...e)],[[0,r+n],[0,i+o]]]},xe=e=>e.reduce((t,n,s)=>(s!==0&&(t+=`
`),t+n.reduce((o,r)=>o+(typeof r=="string"?r:r.textContent),"")),""),it=(e,{multiline:t,readonly:n,serializer:s={data:xe},onChange:o})=>{const{contentEditable:r,role:i,ariaMultiLine:a,ariaReadOnly:l}=e,u=e.style.whiteSpace,f=()=>{e.contentEditable=n?"false":"true",e.ariaReadOnly=n?"true":null};f(),e.role="textbox",e.style.whiteSpace="pre-wrap",t&&(e.ariaMultiLine="true");let d=!1,p=!1,E=F(),P=!1,I=!1,O=null,b=!1,k=!1,x=!1;const B=[],y=!t,{data:J,plain:Ie=xe}=s,g=ke(e),w=qe([J(R(g,e)),E]),_=et(e,()=>{k&&(W(g,e,E,y),O!=null&&(clearTimeout(O),O=null))}),Q=()=>{const c=E;O=setTimeout(()=>{W(g,e,c,y)})},Z=(c,h,S)=>{if(!n){y&&([c,h]=st(c,h));const v=J(c);w.set([w.get()[0],S]),w.push([v,h]),E=h,o(v)}Q()},ee=()=>{E=De(g,e,y)},H=()=>{P||(P=!0,Se(()=>{P=!1;const c=_._flush();if(_._accept(!1),c.length){const h=De(g,e,y),S=R(g,e);let v;for(;v=c.pop();)if(v.type==="characterData")v.target.nodeValue=v.oldValue;else if(v.type==="childList"){const{target:D,removedNodes:ve,addedNodes:U,nextSibling:Be}=v;for(let T=ve.length-1;T>=0;T--)D.insertBefore(ve[T],Be);for(let T=U.length-1;T>=0;T--)U[T].parentNode&&D.removeChild(U[T])}_._flush();const N=E;p=W(g,e,N,y),Z(S,h,N)}}))},G=(c,...h)=>{B.unshift([c,h]),I||(I=!0,Se(()=>{if(I=!1,B.length){const S=E,v=[...E],N=R(g,e);let D;for(;D=B.pop();)D[0](N,v,...D[1]);Z(N,v,S)}}))},te=c=>{if(!b&&(c.metaKey||c.ctrlKey)&&!c.altKey&&c.code==="KeyZ"&&(c.preventDefault(),!n)){const h=c.shiftKey?w.redo():w.undo();h&&(_._accept(!1),E=h[1],o(h[0]),Q())}},ne=()=>{b||x||H()},se=c=>{switch(c.inputType){case"historyUndo":{c.preventDefault();return}case"historyRedo":{c.preventDefault();return}case"insertLineBreak":case"insertParagraph":if(y){c.preventDefault();return}}_._accept(!0)},re=()=>{b=!0},oe=()=>{b=!1,H()},ie=()=>{if(p){p=!1;return}k&&!b&&!x&&ee()},ae=c=>{const h=Ze(e);if(!h)return;const S=Ie(R(g,h)),v=g.createElement("div");v.appendChild(h),c.setData("text/html",v.innerHTML),c.setData("text/plain",S)},ce=c=>{c.preventDefault(),ae(c.clipboardData)},le=c=>{c.preventDefault(),n||(ae(c.clipboardData),G(Me))},fe=c=>{c.preventDefault();const h=c.clipboardData,S=h.getData("text/html");if(S)try{G(Pe,R(g,new DOMParser().parseFromString(S,"text/html").body,!0));return}catch{}G(nt,h.getData("text/plain"))},ue=()=>{k=!0,ee()},de=()=>{k=!1},pe=()=>{x=!0},he=()=>{x&&(x=!1,H())};g.addEventListener("selectionchange",ie),e.addEventListener("keydown",te),e.addEventListener("input",ne),e.addEventListener("beforeinput",se),e.addEventListener("compositionstart",re),e.addEventListener("compositionend",oe),e.addEventListener("copy",ce),e.addEventListener("cut",le),e.addEventListener("paste",fe),e.addEventListener("focus",ue),e.addEventListener("blur",de),e.addEventListener("dragstart",pe),e.addEventListener("dragend",he);const Ee=()=>{d||(d=!0,e.contentEditable=r,e.role=i,e.ariaMultiLine=a,e.ariaReadOnly=l,e.style.whiteSpace=u,_._dispose(),g.removeEventListener("selectionchange",ie),e.removeEventListener("keydown",te),e.removeEventListener("input",ne),e.removeEventListener("beforeinput",se),e.removeEventListener("compositionstart",re),e.removeEventListener("compositionend",oe),e.removeEventListener("copy",ce),e.removeEventListener("cut",le),e.removeEventListener("paste",fe),e.removeEventListener("focus",ue),e.removeEventListener("blur",de),e.removeEventListener("dragstart",pe),e.removeEventListener("dragend",he))};return Ee.readonly=c=>{n=c,f()},Ee};export{it as e,ot as j};
