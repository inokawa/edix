(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const{min:Se}=Math,Ge=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},ye=(e,t)=>e[0]===t[0]&&e[1]===t[1],Oe="TEMPLATE",He=e=>{if(e.tagName!=="BR")return!1;let t=!1,n=!1,r=e;for(;r=r.previousSibling;){if(ae(r)){t=!0;break}if(F(r)&&r.tagName!==Oe)return!1}let a=e;for(;a=a.nextSibling;){if(ae(a)){n=!0;break}if(F(a)&&a.tagName!==Oe)return!1}return t&&n},Ie=e=>e.ownerDocument,ae=e=>e.nodeType===3,F=e=>e.nodeType===1,ze=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD"]),We=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","MAP","SVG","CANVAS","IFRAME"]),be=e=>e.contentEditable==="false"||We.has(e.tagName),Ae=e=>Ie(e).getSelection(),ke=(e,t)=>{if(!e.rangeCount)return;const n=e.getRangeAt(0);return t.contains(n.commonAncestorContainer)?n:void 0},De=(e,t,n)=>{const r=Ae(e);r.removeAllRanges(),r.addRange(t),n&&(r.collapseToEnd(),r.extend(t.startContainer,t.startOffset))},Te=(e,t)=>{if(t){const n=e.currentNode;let r;for(;(r=e.nextNode())&&n.contains(r););return r}return e.nextNode()},pe=(e,t,[n,r,a],i)=>{if(n[0]===0&&n[1]===0&&ye(n,r)&&!t.hasChildNodes()){const u=e.createRange();return u.setStart(t,0),u.setEnd(t,0),De(t,u),!0}const s=Ce(e,t,n,i);if(!s)return!1;const l=Ce(e,t,r,i);if(!l)return!1;const f=e.createRange();{const[u,p]=s;F(u)?p<1?f.setStartBefore(u):f.setStartAfter(u):f.setStart(u,Se(p,u.data.length))}{const[u,p]=l;F(u)?p<1?f.setEndBefore(u):f.setEndAfter(u):f.setEnd(u,Se(p,u.data.length))}return De(t,f,a),!0},Ce=(e,t,[n,r],a)=>{let i,s=0,l=!1;const f=a||t.childElementCount===0?t:t.children[n],u=e.createTreeWalker(f,5);for(;i=Te(u,l);)if(l=!1,ae(i)){const p=i.data.length;if(s+p>=r)return[i,r-s];s+=p}else if(F(i)){if(i.tagName==="BR"){if(s+1>=r)return[i,0];s++}else if(be(i)){if(l=!0,s+1>=r)return[i,r-s];s++}}},Xe=e=>{const t=e.anchorNode.compareDocumentPosition(e.focusNode);return t===0?e.anchorOffset>e.focusOffset:!!(2&t)},he=(e,t,n,r,a)=>{let i,s=n;if(a||t.childElementCount===0)s=t,i=0;else{for(;s.parentNode!==t;)s=s.parentNode;i=Array.prototype.indexOf.call(t.children,s)}let l,f=0,u=!1;const p=F(n);p&&(n=n.childNodes[r]);const L=e.createTreeWalker(s,5);for(;l=Te(L,u);){if(u=!1,l===n){f+=p?0:r;break}ae(l)?f+=l.data.length:F(l)&&(He(l)?(i++,f=0):be(l)&&(u=!0,f++))}return[i,f]},we=(e,t,n)=>{const r=Ae(t),a=ke(r,t);if(!a)return[[0,0],[0,0],!1];const{startOffset:i,startContainer:s,endOffset:l,endContainer:f}=a;let u,p;if(t!==s||n)u=he(e,t,s,i,n),p=he(e,t,f,l,n);else{if(!(i===0&&l!==0&&t.children.length<=l))return[[0,0],[0,0],!1];u=[0,0],p=he(e,t,t.lastElementChild,t.lastElementChild.textContent.length,n)}return[u,p,Xe(r)]},de=(e,t)=>{const n=[],r=e.createTreeWalker(t,5),a=L=>{l||(l=[]),f&&(l.push(f),f=""),L&&l.push(L)},i=()=>{a(),l&&n.push(l),l=null};let s,l=null,f="",u=!0,p=!1;for(;s=Te(r,p);)p=!1,ae(s)?f+=s.data:F(s)&&(ze.has(s.tagName)&&s.parentNode===t?(u||i(),u=!1):He(s)?i():be(s)&&(p=!0,a(s)));return i(),n},ve=e=>typeof e=="string",_e=e=>ve(e)?e.length:1,fe=e=>{for(let t=0;t<e.length-1;){const n=e[t],r=e[t+1];ve(n)&&r!=null&&ve(r)?(e[t]=n+r,e.splice(t+1,1)):t++}return e},ge=(e,[t,n])=>{const r=e[t];for(let a=0;a<r.length;a++){const i=r[a],s=_e(i);if(s>n){const l=r.slice(0,a),f=r.slice(a+1);return ve(i)?(l.push(i.slice(0,n)),f.unshift(i.slice(n))):n===0?f.unshift(i):l.push(i),[l,f]}n-=s}return[r,[]]},xe=(e,t,n,r,a)=>{const i=a.split(`
`),s=i.length,[l,f]=r;if(s===1)return e[l]=fe([...t,a,...n]),[l,f+a.length];{const u=[],p=i[s-1];e[l]=fe([...t,i[0]]);for(let L=1;L<s-1;L++)u.push([i[L]]);return e.splice(l+1,0,...u),e.splice(l+s-1,0,fe([p,...n])),[l+s-1,p.length]}},Ke=(e,[t,n],r)=>{const a=e.map(s=>[...s]);let i;if(ye(t,n)){const[s,l]=ge(a,t);i=xe(a,s,l,t,r)}else{const s=t[0],l=n[0],[f]=ge(a,t),[,u]=ge(a,n);if(i=xe(a,f,u,t,r),s!==l){const p=r.split(`
`);a.splice(s+p.length,l-s)}}return[a,[i,i,!1]]},qe=(e,t)=>ye(t[0],t[1])?[e,t]:Ke(e,t,""),Re=e=>e.reduce((t,n,r)=>(r!==0&&(t+=`
`),t+n.reduce((a,i)=>a+(typeof i=="string"?i:i.textContent),"")),""),$e=(e,{multiline:t,readonly:n,serializer:r={data:Re},onChange:a})=>{const{contentEditable:i,role:s,ariaMultiLine:l,ariaReadOnly:f}=e,u=e.style.whiteSpace;e.contentEditable="true",e.role="textbox",e.style.whiteSpace="pre-wrap",t&&(e.ariaMultiLine="true");let p=!1,L=!1,N=[[0,0],[0,0],!1],Q=!1,j=null,H=!1,I=!1,O=!1;const D=!t,{data:G,plain:ie=Re}=r,z=()=>{e.ariaReadOnly=n?"true":null};z();const T=Ie(e),U=(c=>{let g=0;const y=[c],A=()=>y[g];return{get:A,set:S=>{y[g]=S},undo:()=>g>0?(g--,A()):void 0,redo:()=>g<y.length-1?(g++,A()):void 0,push:S=>{y[++g]=S,y.splice(g+1),g>500&&(g--,y.shift())}}})([G(de(T,e)),N]),k=((c,g)=>{let y=!1;const A=[],S=M=>{y&&A.push(...M)},w=new MutationObserver(M=>{S(M),y||g()}),$=()=>{S(w.takeRecords())};return w.observe(c,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{t(M){!y&&M&&$(),y=M},o:()=>($(),A.splice(0)),i(){A.splice(0),w.disconnect()}}})(e,()=>{I&&(pe(T,e,N,D),j!=null&&(clearTimeout(j),j=null))}),W=()=>{const c=N;j=setTimeout(()=>{pe(T,e,c,D)})},se=(c,g,y)=>{if(!n){D&&([c,g]=((S,[[w,$],[M,te]])=>{const oe=[];let P=0,Le=0;for(let ne=0;ne<S.length;ne++)for(const Ee of S[ne]){oe.push(Ee);const Ne=_e(Ee);ne<w&&(P+=Ne),ne<M&&(Le+=Ne)}return[[fe(oe)],[[0,P+$],[0,Le+te],!1]]})(c,g));const A=G(c);U.set([U.get()[0],y]),U.push([A,g]),N=g,a(A)}W()},b=()=>{N=we(T,e,D)},_=()=>{Q||(Q=!0,Ge(()=>{Q=!1;const c=k.o();if(k.t(!1),c.length){const g=we(T,e,D),y=de(T,e);(S=>{let w;for(;w=S.pop();)if(w.type==="characterData")w.target.nodeValue=w.oldValue;else if(w.type==="childList"){const{target:$,removedNodes:M,addedNodes:te,nextSibling:oe}=w;for(let P=M.length-1;P>=0;P--)$.insertBefore(M[P],oe);for(let P=te.length-1;P>=0;P--)te[P].parentNode&&$.removeChild(te[P])}})(c),k.o();const A=N;L=pe(T,e,A,D),se(y,g,A)}}))},ee=c=>{const g=(y=>{const A=ke(Ae(y),y);if(A)return A.cloneContents()})(e);g&&c.setData("text/plain",ie(de(T,g)))},Y=(c,...g)=>{const y=N,[A,S]=c(de(T,e),y,...g);se(A,S,y)},le=c=>{H||!c.metaKey&&!c.ctrlKey||c.altKey||c.code!=="KeyZ"||(c.preventDefault(),(g=>{if(n)return;const y=g?U.redo():U.undo();y&&(k.t(!1),N=y[1],a(y[0]),W())})(c.shiftKey))},Z=()=>{H||O||_()},o=c=>{switch(c.inputType){case"historyUndo":case"historyRedo":return void c.preventDefault();case"insertLineBreak":case"insertParagraph":if(D)return void c.preventDefault()}k.t(!0)},d=()=>{H=!0},m=()=>{H=!1,_()},v=()=>{L?L=!1:!I||H||O||b()},h=c=>{c.preventDefault(),ee(c.clipboardData)},V=c=>{c.preventDefault(),ee(c.clipboardData),Y(qe)},C=c=>{c.preventDefault();const g=c.clipboardData;Y(Ke,g.getData("text/plain"))},B=()=>{I=!0,b()},X=()=>{I=!1},x=()=>{O=!0},q=()=>{O&&(O=!1,_())};T.addEventListener("selectionchange",v),e.addEventListener("keydown",le),e.addEventListener("input",Z),e.addEventListener("beforeinput",o),e.addEventListener("compositionstart",d),e.addEventListener("compositionend",m),e.addEventListener("copy",h),e.addEventListener("cut",V),e.addEventListener("paste",C),e.addEventListener("focus",B),e.addEventListener("blur",X),e.addEventListener("dragstart",x),e.addEventListener("dragend",q);const R=()=>{p||(p=!0,e.contentEditable=i,e.role=s,e.ariaMultiLine=l,e.ariaReadOnly=f,e.style.whiteSpace=u,k.i(),T.removeEventListener("selectionchange",v),e.removeEventListener("keydown",le),e.removeEventListener("input",Z),e.removeEventListener("beforeinput",o),e.removeEventListener("compositionstart",d),e.removeEventListener("compositionend",m),e.removeEventListener("copy",h),e.removeEventListener("cut",V),e.removeEventListener("paste",C),e.removeEventListener("focus",B),e.removeEventListener("blur",X),e.removeEventListener("dragstart",x),e.removeEventListener("dragend",q))};return R.readonly=c=>{n=c,z()},R};var Me=11;function je(e,t){var n=t.attributes,r,a,i,s,l;if(!(t.nodeType===Me||e.nodeType===Me)){for(var f=n.length-1;f>=0;f--)r=n[f],a=r.name,i=r.namespaceURI,s=r.value,i?(a=r.localName||a,l=e.getAttributeNS(i,a),l!==s&&(r.prefix==="xmlns"&&(a=r.name),e.setAttributeNS(i,a,s))):(l=e.getAttribute(a),l!==s&&e.setAttribute(a,s));for(var u=e.attributes,p=u.length-1;p>=0;p--)r=u[p],a=r.name,i=r.namespaceURI,i?(a=r.localName||a,t.hasAttributeNS(i,a)||e.removeAttributeNS(i,a)):t.hasAttribute(a)||e.removeAttribute(a)}}var ce,Ye="http://www.w3.org/1999/xhtml",E=typeof document>"u"?void 0:document,Ze=!!E&&"content"in E.createElement("template"),Je=!!E&&E.createRange&&"createContextualFragment"in E.createRange();function Qe(e){var t=E.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function et(e){ce||(ce=E.createRange(),ce.selectNode(E.body));var t=ce.createContextualFragment(e);return t.childNodes[0]}function tt(e){var t=E.createElement("body");return t.innerHTML=e,t.childNodes[0]}function nt(e){return e=e.trim(),Ze?Qe(e):Je?et(e):tt(e)}function ue(e,t){var n=e.nodeName,r=t.nodeName,a,i;return n===r?!0:(a=n.charCodeAt(0),i=r.charCodeAt(0),a<=90&&i>=97?n===r.toUpperCase():i<=90&&a>=97?r===n.toUpperCase():!1)}function rt(e,t){return!t||t===Ye?E.createElement(e):E.createElementNS(t,e)}function at(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function me(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var Pe={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();r==="OPTGROUP"&&(n=n.parentNode,r=n&&n.nodeName.toUpperCase()),r==="SELECT"&&!n.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}me(e,t,"selected")},INPUT:function(e,t){me(e,t,"checked"),me(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var a=r.nodeValue;if(a==n||!n&&a==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n=-1,r=0,a=e.firstChild,i,s;a;)if(s=a.nodeName&&a.nodeName.toUpperCase(),s==="OPTGROUP")i=a,a=i.firstChild;else{if(s==="OPTION"){if(a.hasAttribute("selected")){n=r;break}r++}a=a.nextSibling,!a&&i&&(a=i.nextSibling,i=null)}e.selectedIndex=n}}},re=1,Ue=11,Ve=3,Be=8;function K(){}function it(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function st(e){return function(n,r,a){if(a||(a={}),typeof r=="string")if(n.nodeName==="#document"||n.nodeName==="HTML"||n.nodeName==="BODY"){var i=r;r=E.createElement("html"),r.innerHTML=i}else r=nt(r);else r.nodeType===Ue&&(r=r.firstElementChild);var s=a.getNodeKey||it,l=a.onBeforeNodeAdded||K,f=a.onNodeAdded||K,u=a.onBeforeElUpdated||K,p=a.onElUpdated||K,L=a.onBeforeNodeDiscarded||K,N=a.onNodeDiscarded||K,Q=a.onBeforeElChildrenUpdated||K,j=a.skipFromChildren||K,H=a.addChild||function(o,d){return o.appendChild(d)},I=a.childrenOnly===!0,O=Object.create(null),D=[];function G(o){D.push(o)}function ie(o,d){if(o.nodeType===re)for(var m=o.firstChild;m;){var v=void 0;d&&(v=s(m))?G(v):(N(m),m.firstChild&&ie(m,d)),m=m.nextSibling}}function z(o,d,m){L(o)!==!1&&(d&&d.removeChild(o),N(o),ie(o,m))}function T(o){if(o.nodeType===re||o.nodeType===Ue)for(var d=o.firstChild;d;){var m=s(d);m&&(O[m]=d),T(d),d=d.nextSibling}}T(n);function U(o){f(o);for(var d=o.firstChild;d;){var m=d.nextSibling,v=s(d);if(v){var h=O[v];h&&ue(d,h)?(d.parentNode.replaceChild(h,d),W(h,d)):U(d)}else U(d);d=m}}function k(o,d,m){for(;d;){var v=d.nextSibling;(m=s(d))?G(m):z(d,o,!0),d=v}}function W(o,d,m){var v=s(d);if(v&&delete O[v],!m){var h=u(o,d);if(h===!1||(h instanceof HTMLElement&&(o=h,T(o)),e(o,d),p(o),Q(o,d)===!1))return}o.nodeName!=="TEXTAREA"?se(o,d):Pe.TEXTAREA(o,d)}function se(o,d){var m=j(o,d),v=d.firstChild,h=o.firstChild,V,C,B,X,x;e:for(;v;){for(X=v.nextSibling,V=s(v);!m&&h;){if(B=h.nextSibling,v.isSameNode&&v.isSameNode(h)){v=X,h=B;continue e}C=s(h);var q=h.nodeType,R=void 0;if(q===v.nodeType&&(q===re?(V?V!==C&&((x=O[V])?B===x?R=!1:(o.insertBefore(x,h),C?G(C):z(h,o,!0),h=x,C=s(h)):R=!1):C&&(R=!1),R=R!==!1&&ue(h,v),R&&W(h,v)):(q===Ve||q==Be)&&(R=!0,h.nodeValue!==v.nodeValue&&(h.nodeValue=v.nodeValue))),R){v=X,h=B;continue e}C?G(C):z(h,o,!0),h=B}if(V&&(x=O[V])&&ue(x,v))m||H(o,x),W(x,v);else{var c=l(v);c!==!1&&(c&&(v=c),v.actualize&&(v=v.actualize(o.ownerDocument||E)),H(o,v),U(v))}v=X,h=B}k(o,h,C);var g=Pe[o.nodeName];g&&g(o,d)}var b=n,_=b.nodeType,ee=r.nodeType;if(!I){if(_===re)ee===re?ue(n,r)||(N(n),b=at(n,rt(r.nodeName,r.namespaceURI))):b=r;else if(_===Ve||_===Be){if(ee===_)return b.nodeValue!==r.nodeValue&&(b.nodeValue=r.nodeValue),b;b=r}}if(b===r)N(n);else{if(r.isSameNode&&r.isSameNode(b))return;if(W(b,r,I),D)for(var Y=0,le=D.length;Y<le;Y++){var Z=O[D[Y]];Z&&z(Z,Z.parentNode,!1)}}return!I&&b!==n&&n.parentNode&&(b.actualize&&(b=b.actualize(n.ownerDocument||E)),n.parentNode.replaceChild(b,n)),b}}var lt=st(je);const ot=document.getElementById("root"),J=document.createElement("div");J.style.backgroundColor="white";J.style.border="solid 1px darkgray";J.style.padding="8px";ot.appendChild(J);const Fe=e=>{let t="";for(const n of e.split(`
`))t+=`<div>${n||"<br />"}</div>`;lt(J,`<div>${t}</div>`,{childrenOnly:!0})};Fe(`Hello World.
こんにちは。
👍❤️🧑‍🧑‍🧒`);$e(J,{multiline:!0,onChange:e=>{Fe(e)}});
