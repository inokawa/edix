(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const Sn="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Sn);const An=1,In=2,Mn=16,Pn=2,M=Symbol(),Fn=!1;var vt=Array.isArray,dt=Array.from,qn=Object.defineProperty,be=Object.getOwnPropertyDescriptor,Bn=Object.prototype,Vn=Array.prototype,Hn=Object.getPrototypeOf;function Kn(e){for(var t=0;t<e.length;t++)e[t]()}const J=2,Qt=4,Ze=8,_t=16,j=32,Ge=64,nt=128,me=256,Ve=512,F=1024,ue=2048,Le=4096,W=8192,ye=16384,Un=32768,ht=65536,Yn=1<<19,Wn=1<<20,Fe=Symbol("$state");function $n(e){return e===this.v}function jn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Zn(e){return!jn(e,this.v)}function Gn(e){throw new Error("effect_in_teardown")}function Jn(){throw new Error("effect_in_unowned_derived")}function Xn(e){throw new Error("effect_orphan")}function Qn(){throw new Error("effect_update_depth_exceeded")}function zn(){throw new Error("state_descriptors_fixed")}function er(){throw new Error("state_prototype_fixed")}function tr(){throw new Error("state_unsafe_local_read")}function nr(){throw new Error("state_unsafe_mutation")}let rr=!1;function B(e){return{f:0,v:e,reactions:null,equals:$n,version:0}}function qt(e){return lr(B(e))}function ir(e,t=!1){const n=B(e);return t||(n.equals=Zn),n}function lr(e){return N!==null&&N.f&J&&($===null?yr([e]):$.push(e)),e}function U(e,t){return N!==null&&br()&&N.f&(J|_t)&&($===null||!$.includes(e))&&nr(),zt(e,t)}function zt(e,t){return e.equals(t)||(e.v=t,e.version=gn(),en(e,ue),b!==null&&b.f&F&&!(b.f&j)&&(C!==null&&C.includes(e)?(X(b,ue),Qe(b)):re===null?wr([e]):re.push(e))),t}function en(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var l=n[i],u=l.f;u&ue||(X(l,t),u&(F|me)&&(u&J?en(l,Le):Qe(l)))}}let or=!1;function de(e,t=null,n){if(typeof e!="object"||e===null||Fe in e)return e;const r=Hn(e);if(r!==Bn&&r!==Vn)return e;var i=new Map,l=vt(e),u=B(0);l&&i.set("length",B(e.length));var _;return new Proxy(e,{defineProperty(f,o,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&zn();var c=i.get(o);return c===void 0?(c=B(s.value),i.set(o,c)):U(c,de(s.value,_)),!0},deleteProperty(f,o){var s=i.get(o);if(s===void 0)o in f&&i.set(o,B(M));else{if(l&&typeof o=="string"){var c=i.get("length"),a=Number(o);Number.isInteger(a)&&a<c.v&&U(c,a)}U(s,M),Bt(u)}return!0},get(f,o,s){var p;if(o===Fe)return e;var c=i.get(o),a=o in f;if(c===void 0&&(!a||(p=be(f,o))!=null&&p.writable)&&(c=B(de(a?f[o]:M,_)),i.set(o,c)),c!==void 0){var v=Y(c);return v===M?void 0:v}return Reflect.get(f,o,s)},getOwnPropertyDescriptor(f,o){var s=Reflect.getOwnPropertyDescriptor(f,o);if(s&&"value"in s){var c=i.get(o);c&&(s.value=Y(c))}else if(s===void 0){var a=i.get(o),v=a==null?void 0:a.v;if(a!==void 0&&v!==M)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return s},has(f,o){var v;if(o===Fe)return!0;var s=i.get(o),c=s!==void 0&&s.v!==M||Reflect.has(f,o);if(s!==void 0||b!==null&&(!c||(v=be(f,o))!=null&&v.writable)){s===void 0&&(s=B(c?de(f[o],_):M),i.set(o,s));var a=Y(s);if(a===M)return!1}return c},set(f,o,s,c){var V;var a=i.get(o),v=o in f;if(l&&o==="length")for(var p=s;p<a.v;p+=1){var x=i.get(p+"");x!==void 0?U(x,M):p in f&&(x=B(M),i.set(p+"",x))}a===void 0?(!v||(V=be(f,o))!=null&&V.writable)&&(a=B(void 0),U(a,de(s,_)),i.set(o,a)):(v=a.v!==M,U(a,de(s,_)));var D=Reflect.getOwnPropertyDescriptor(f,o);if(D!=null&&D.set&&D.set.call(c,s),!v){if(l&&typeof o=="string"){var g=i.get("length"),L=Number(o);Number.isInteger(L)&&L>=g.v&&U(g,L+1)}Bt(u)}return!0},ownKeys(f){Y(u);var o=Reflect.ownKeys(f).filter(a=>{var v=i.get(a);return v===void 0||v.v!==M});for(var[s,c]of i)c.v!==M&&!(s in f)&&o.push(s);return o},setPrototypeOf(){er()}})}function Bt(e,t=1){U(e,e.v+t)}var Vt,tn,nn;function sr(){if(Vt===void 0){Vt=window;var e=Element.prototype,t=Node.prototype;tn=be(t,"firstChild").get,nn=be(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function pt(e=""){return document.createTextNode(e)}function rn(e){return tn.call(e)}function ln(e){return nn.call(e)}function ur(e,t){return rn(e)}function ar(e){e.textContent=""}function on(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&J?gt(r):ae(r)}}}function fr(e){for(var t=e.parent;t!==null;){if(!(t.f&J))return t;t=t.parent}return null}function sn(e){var t,n=b;Ee(fr(e));try{on(e),t=En(e)}finally{Ee(n)}return t}function un(e){var t=sn(e),n=(_e||e.f&me)&&e.deps!==null?Le:F;X(e,n),e.equals(t)||(e.v=t,e.version=gn())}function gt(e){on(e),Te(e,0),X(e,ye),e.v=e.children=e.deps=e.ctx=e.reactions=null}function cr(e){b===null&&N===null&&Xn(),N!==null&&N.f&me&&Jn(),wt&&Gn()}function vr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ke(e,t,n,r=!0){var i=(e&Ge)!==0,l=b,u={ctx:A,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|ue,first:null,fn:t,last:null,next:null,parent:i?null:l,prev:null,teardown:null,transitions:null,version:0};if(n){var _=pe;try{Ht(!0),Xe(u),u.f|=Un}catch(s){throw ae(u),s}finally{Ht(_)}}else t!==null&&Qe(u);var f=n&&u.deps===null&&u.first===null&&u.nodes_start===null&&u.teardown===null&&(u.f&Wn)===0;if(!f&&!i&&r&&(l!==null&&vr(u,l),N!==null&&N.f&J)){var o=N;(o.children??(o.children=[])).push(u)}return u}function dr(e){cr();var t=b!==null&&(b.f&j)!==0&&A!==null&&!A.m;if(t){var n=A;(n.e??(n.e=[])).push({fn:e,effect:b,reaction:N})}else{var r=Et(e);return r}}function _r(e){const t=ke(Ge,e,!0);return()=>{ae(t)}}function Et(e){return ke(Qt,e,!1)}function hr(e){return ke(Ze,e,!0)}function pr(e){return mt(e)}function mt(e,t=0){return ke(Ze|_t|t,e,!0)}function Ne(e,t=!0){return ke(Ze|j,e,!0,t)}function an(e){var t=e.teardown;if(t!==null){const n=wt,r=N;Kt(!0),ge(null);try{t.call(null)}finally{Kt(n),ge(r)}}}function fn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)gt(t[n])}}function cn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;ae(n,t),n=r}}function gr(e){for(var t=e.first;t!==null;){var n=t.next;t.f&j||ae(t),t=n}}function ae(e,t=!0){var n=!1;if((t||e.f&Yn)&&e.nodes_start!==null){for(var r=e.nodes_start,i=e.nodes_end;r!==null;){var l=r===i?null:ln(r);r.remove(),r=l}n=!0}cn(e,t&&!n),fn(e),Te(e,0),X(e,ye);var u=e.transitions;if(u!==null)for(const f of u)f.stop();an(e);var _=e.parent;_!==null&&_.first!==null&&vn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function vn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function rt(e,t){var n=[];yt(e,n,!0),dn(n,()=>{ae(e),t&&t()})}function dn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function yt(e,t,n){if(!(e.f&W)){if(e.f^=W,e.transitions!==null)for(const u of e.transitions)(u.is_global||n)&&t.push(u);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&ht)!==0||(r.f&j)!==0;yt(r,t,l?n:!1),r=i}}}function He(e){_n(e,!0)}function _n(e,t){if(e.f&W){Oe(e)&&Xe(e),e.f^=W;for(var n=e.first;n!==null;){var r=n.next,i=(n.f&ht)!==0||(n.f&j)!==0;_n(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let it=!1,lt=[];function Er(){it=!1;const e=lt.slice();lt=[],Kn(e)}function mr(e){it||(it=!0,queueMicrotask(Er)),lt.push(e)}function hn(e){throw new Error("lifecycle_outside_component")}let qe=!1,Ke=!1,Ue=null,pe=!1,wt=!1;function Ht(e){pe=e}function Kt(e){wt=e}let ot=[],xe=0;let N=null;function ge(e){N=e}let b=null;function Ee(e){b=e}let $=null;function yr(e){$=e}let C=null,P=0,re=null;function wr(e){re=e}let pn=0,_e=!1,A=null;function gn(){return++pn}function br(){return!rr}function Oe(e){var u,_;var t=e.f;if(t&ue)return!0;if(t&Le){var n=e.deps,r=(t&me)!==0;if(n!==null){var i;if(t&Ve){for(i=0;i<n.length;i++)((u=n[i]).reactions??(u.reactions=[])).push(e);e.f^=Ve}for(i=0;i<n.length;i++){var l=n[i];if(Oe(l)&&un(l),r&&b!==null&&!_e&&!((_=l==null?void 0:l.reactions)!=null&&_.includes(e))&&(l.reactions??(l.reactions=[])).push(e),l.version>e.version)return!0}}r||X(e,F)}return!1}function xr(e,t){for(var n=t;n!==null;){if(n.f&nt)try{n.fn(e);return}catch{n.f^=nt}n=n.parent}throw qe=!1,e}function Nr(e){return(e.f&ye)===0&&(e.parent===null||(e.parent.f&nt)===0)}function Je(e,t,n,r){if(qe){if(n===null&&(qe=!1),Nr(t))throw e;return}n!==null&&(qe=!0);{xr(e,t);return}}function En(e){var a;var t=C,n=P,r=re,i=N,l=_e,u=$,_=A,f=e.f;C=null,P=0,re=null,N=f&(j|Ge)?null:e,_e=!pe&&(f&me)!==0,$=null,A=e.ctx;try{var o=(0,e.fn)(),s=e.deps;if(C!==null){var c;if(Te(e,P),s!==null&&P>0)for(s.length=P+C.length,c=0;c<C.length;c++)s[P+c]=C[c];else e.deps=s=C;if(!_e)for(c=P;c<s.length;c++)((a=s[c]).reactions??(a.reactions=[])).push(e)}else s!==null&&P<s.length&&(Te(e,P),s.length=P);return o}finally{C=t,P=n,re=r,N=i,_e=l,$=u,A=_}}function Tr(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&J&&(C===null||!C.includes(t))&&(X(t,Le),t.f&(me|Ve)||(t.f^=Ve),Te(t,0))}function Te(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Tr(e,n[r])}function Xe(e){var t=e.f;if(!(t&ye)){X(e,F);var n=b,r=A;b=e;try{t&_t?gr(e):cn(e),fn(e),an(e);var i=En(e);e.teardown=typeof i=="function"?i:null,e.version=pn}catch(l){Je(l,e,n,r||e.ctx)}finally{b=n}}}function Dr(){if(xe>1e3){xe=0;try{Qn()}catch(e){if(Ue!==null)Je(e,Ue,null);else throw e}}xe++}function Lr(e){var t=e.length;if(t!==0){Dr();var n=pe;pe=!0;try{for(var r=0;r<t;r++){var i=e[r];i.f&F||(i.f^=F);var l=[];mn(i,l),kr(l)}}finally{pe=n}}}function kr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(ye|W)))try{Oe(r)&&(Xe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?vn(r):r.fn=null))}catch(i){Je(i,r,null,r.ctx)}}}function Or(){if(Ke=!1,xe>1001)return;const e=ot;ot=[],Lr(e),Ke||(xe=0,Ue=null)}function Qe(e){Ke||(Ke=!0,queueMicrotask(Or)),Ue=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(Ge|j)){if(!(n&F))return;t.f^=F}}ot.push(t)}function mn(e,t){var n=e.first,r=[];e:for(;n!==null;){var i=n.f,l=(i&j)!==0,u=l&&(i&F)!==0,_=n.next;if(!u&&!(i&W))if(i&Ze){if(l)n.f^=F;else try{Oe(n)&&Xe(n)}catch(c){Je(c,n,null,n.ctx)}var f=n.first;if(f!==null){n=f;continue}}else i&Qt&&r.push(n);if(_===null){let c=n.parent;for(;c!==null;){if(e===c)break e;var o=c.next;if(o!==null){n=o;continue e}c=c.parent}}n=_}for(var s=0;s<r.length;s++)f=r[s],t.push(f),mn(f,t)}function Y(e){var s;var t=e.f,n=(t&J)!==0;if(n&&t&ye){var r=sn(e);return gt(e),r}if(N!==null){$!==null&&$.includes(e)&&tr();var i=N.deps;C===null&&i!==null&&i[P]===e?P++:C===null?C=[e]:C.push(e),re!==null&&b!==null&&b.f&F&&!(b.f&j)&&re.includes(e)&&(X(b,ue),Qe(b))}else if(n&&e.deps===null)for(var l=e,u=l.parent,_=l;u!==null;)if(u.f&J){var f=u;_=f,u=f.parent}else{var o=u;(s=o.deriveds)!=null&&s.includes(_)||(o.deriveds??(o.deriveds=[])).push(_);break}return n&&(l=e,Oe(l)&&un(l)),e.v}function bt(e){const t=N;try{return N=null,e()}finally{N=t}}const Rr=~(ue|Le|F);function X(e,t){e.f=e.f&Rr|t}function yn(e,t=!1,n){A={p:A,c:null,e:null,m:!1,s:e,x:null,l:null}}function wn(e){const t=A;if(t!==null){const u=t.e;if(u!==null){var n=b,r=N;t.e=null;try{for(var i=0;i<u.length;i++){var l=u[i];Ee(l.effect),ge(l.reaction),Et(l.fn)}}finally{Ee(n),ge(r)}}A=t.p,t.m=!0}return{}}const Cr=new Set,Ut=new Set;function Ae(e){var L;var t=this,n=t.ownerDocument,r=e.type,i=((L=e.composedPath)==null?void 0:L.call(e))||[],l=i[0]||e.target,u=0,_=e.__root;if(_){var f=i.indexOf(_);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;f<=o&&(u=f)}if(l=i[u]||e.target,l!==t){qn(e,"currentTarget",{configurable:!0,get(){return l||n}});var s=N,c=b;ge(null),Ee(null);try{for(var a,v=[];l!==null;){var p=l.assignedSlot||l.parentNode||l.host||null;try{var x=l["__"+r];if(x!==void 0&&!l.disabled)if(vt(x)){var[D,...g]=x;D.apply(l,[e,...g])}else x.call(l,e)}catch(V){a?v.push(V):a=V}if(e.cancelBubble||p===t||p===null)break;l=p}if(a){for(let V of v)queueMicrotask(()=>{throw V});throw a}}finally{e.__root=t,delete e.currentTarget,ge(s),Ee(c)}}}function Sr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function bn(e,t){var n=b;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function xt(e,t){var n=(t&Pn)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=Sr(i?e:"<!>"+e),r=rn(r));var l=n?document.importNode(r,!0):r.cloneNode(!0);return bn(l,l),l}}function Ar(e=""){{var t=pt(e+"");return bn(t,t),t}}function Ie(e,t){e!==null&&e.before(t)}const Ir=["touchstart","touchmove"];function Mr(e){return Ir.includes(e)}function Pr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function Fr(e,t){return qr(e,t)}const ve=new Map;function qr(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:u=!0}){sr();var _=new Set,f=c=>{for(var a=0;a<c.length;a++){var v=c[a];if(!_.has(v)){_.add(v);var p=Mr(v);t.addEventListener(v,Ae,{passive:p});var x=ve.get(v);x===void 0?(document.addEventListener(v,Ae,{passive:p}),ve.set(v,1)):ve.set(v,x+1)}}};f(dt(Cr)),Ut.add(f);var o=void 0,s=_r(()=>{var c=n??t.appendChild(pt());return Ne(()=>{if(l){yn({});var a=A;a.c=l}i&&(r.$$events=i),o=e(c,r)||{},l&&wn()}),()=>{var p;for(var a of _){t.removeEventListener(a,Ae);var v=ve.get(a);--v===0?(document.removeEventListener(a,Ae),ve.delete(a)):ve.set(a,v)}Ut.delete(f),Yt.delete(o),c!==n&&((p=c.parentNode)==null||p.removeChild(c))}});return Yt.set(o,s),o}let Yt=new WeakMap;function Br(e,t,n=!1){var r=e,i=null,l=null,u=null,_=n?ht:0,f=!1;const o=(c,a=!0)=>{f=!0,s(a,c)},s=(c,a)=>{u!==(u=c)&&(u?(i?He(i):a&&(i=Ne(()=>a(r))),l&&rt(l,()=>{l=null})):(l?He(l):a&&(l=Ne(()=>a(r))),i&&rt(i,()=>{i=null})))};mt(()=>{f=!1,t(o),f||s(null,null)},_)}function Vr(e,t){return t}function Hr(e,t,n,r){for(var i=[],l=t.length,u=0;u<l;u++)yt(t[u].e,i,!0);var _=l>0&&i.length===0&&n!==null;if(_){var f=n.parentNode;ar(f),f.append(n),r.clear(),te(e,t[0].prev,t[l-1].next)}dn(i,()=>{for(var o=0;o<l;o++){var s=t[o];_||(r.delete(s.k),te(e,s.prev,s.next)),ae(s.e,!_)}})}function Kr(e,t,n,r,i,l=null){var u=e,_={flags:t,items:new Map,first:null};{var f=e;u=f.appendChild(pt())}var o=null,s=!1;mt(()=>{var c=n(),a=vt(c)?c:c==null?[]:dt(c),v=a.length;if(!(s&&v===0)){s=v===0;{var p=N;Ur(a,_,u,i,t,(p.f&W)!==0,r)}l!==null&&(v===0?o?He(o):o=Ne(()=>l(u)):o!==null&&rt(o,()=>{o=null})),n()}})}function Ur(e,t,n,r,i,l,u){var _=e.length,f=t.items,o=t.first,s=o,c,a=null,v=[],p=[],x,D,g,L;for(L=0;L<_;L+=1){if(x=e[L],D=u(x,L),g=f.get(D),g===void 0){var V=s?s.e.nodes_start:n;a=Wr(V,t,a,a===null?t.first:a.next,x,D,L,r,i),f.set(D,a),v=[],p=[],s=a.next;continue}if(Yr(g,x,L),g.e.f&W&&He(g.e),g!==s){if(c!==void 0&&c.has(g)){if(v.length<p.length){var d=p[0],y;a=d.prev;var S=v[0],q=v[v.length-1];for(y=0;y<v.length;y+=1)Wt(v[y],d,n);for(y=0;y<p.length;y+=1)c.delete(p[y]);te(t,S.prev,q.next),te(t,a,S),te(t,q,d),s=d,a=q,L-=1,v=[],p=[]}else c.delete(g),Wt(g,s,n),te(t,g.prev,g.next),te(t,g,a===null?t.first:a.next),te(t,a,g),a=g;continue}for(v=[],p=[];s!==null&&s.k!==D;)(l||!(s.e.f&W))&&(c??(c=new Set)).add(s),p.push(s),s=s.next;if(s===null)continue;g=s}v.push(g),a=g,s=g.next}if(s!==null||c!==void 0){for(var O=c===void 0?[]:dt(c);s!==null;)(l||!(s.e.f&W))&&O.push(s),s=s.next;var H=O.length;if(H>0){var K=_===0?n:null;Hr(t,O,K,f)}}b.first=t.first&&t.first.e,b.last=a&&a.e}function Yr(e,t,n,r){zt(e.v,t),e.i=n}function Wr(e,t,n,r,i,l,u,_,f){var o=(f&An)!==0,s=(f&Mn)===0,c=o?s?ir(i):B(i):i,a=f&In?B(u):u,v={i:a,v:c,k:l,a:null,e:null,prev:n,next:r};try{return v.e=Ne(()=>_(e,c,a),or),v.e.prev=n&&n.e,v.e.next=r&&r.e,n===null?t.first=v:(n.next=v,n.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function Wt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==r;){var u=ln(l);i.before(l),l=u}}function te(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function $t(e,t){return e===t||(e==null?void 0:e[Fe])===t}function $r(e={},t,n,r){return Et(()=>{var i,l;return hr(()=>{i=l,l=[],bt(()=>{e!==n(...l)&&(t(e,...l),i&&$t(n(...i),e)&&t(null,...i))})}),()=>{mr(()=>{l&&$t(n(...l),e)&&t(null,...l)})}}),e}function xn(e){A===null&&hn(),dr(()=>{const t=bt(e);if(typeof t=="function")return t})}function jr(e){A===null&&hn(),xn(()=>()=>bt(e))}const Ye=([e],[t])=>e===t?0:e<t?1:-1,ie=(e,t)=>{const n=Ye(e,t);return n===0?e[1]===t[1]?0:e[1]<t[1]?1:-1:n},Me=([e,t])=>ie(e,t)===-1?[t,e]:[e,t],st=(e,t)=>e.reduce((n,r,i)=>(i!==0&&(n+=`
`),n+r.reduce((l,u)=>l+(De(u)?u.text:t?t(u):""),"")),""),ut=e=>e.split(`
`).map(t=>t?[{text:t}]:[]),Nn=e=>e.t!==3;class se extends Array{static from(t){return new se(...t)}insert(t,n){return this.push({t:2,o:t,i:n}),this}delete(t,n){return this.push({t:1,l:t,u:n}),this}select(t,n){return this.push({t:3,p:t,h:n}),this}rebasePos(t){return this.reduce((n,r)=>Nn(r)?at(n,r):n,t)}}const De=e=>"text"in e,Tn=e=>De(e)?e.text.length:1,Zr=e=>e.reduce((t,n)=>t+Tn(n),0),Be=(e,t)=>{const n=[...e];if(n.length)for(const r of t){const i=n.length-1,l=n[i];De(r)&&De(l)?n[i]={text:l.text+r.text}:n.push(r)}else n.push(...t);return n},he=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n],i=Tn(r);if(i>t){const l=e.slice(0,n),u=e.slice(n+1);if(De(r)){const _=r.text.slice(0,t),f=r.text.slice(t);_&&l.push({text:_}),f&&u.unshift({text:f})}else u.unshift(r);return[l,u]}t-=i}return[e,[]]},jt=(e,t,n,r)=>{const[i]=n,[l]=r||n,u=he(e[n[0]],n[1]),_=u[0],f=r?he(e[r[0]],r[1])[1]:u[1],o=[...t];o.length?(o[0]=Be(_,o[0]),o[o.length-1]=Be(o[o.length-1],f)):o.push(Be(_,f)),e.splice(i,l-i+1,...o)},Gr=e=>{switch(e.t){case 1:return ie(e.l,e.u)===1;case 2:return!!st(e.i)}return!0},Jr=(e,t)=>{switch(t.t){case 1:jt(e,[],t.l,t.u);break;case 2:jt(e,t.i,t.o)}},at=(e,t)=>{switch(t.t){case 1:{const{l:n,u:r}=t;if(ie(e,n)!==1)return ie(r,e)===1?[e[0]+n[0]-r[0],e[1]+(Ye(r,e)===0?n[1]-r[1]:0)]:n;break}case 2:{const{o:n,i:r}=t,i=r.length,l=i-1;if(ie(e,n)!==1)return[e[0]+l,e[1]+(Ye(e,n)===0?Zr(r[i-1])-(l===0?0:n[1]):0)];break}}return e},Xr=(e,t,n)=>{const r=[...e],i=[...t];try{for(const l of n)Gr(l)&&(Nn(l)?(Jr(e,l),t[0]=at(t[0],l),t[1]=at(t[1],l)):(l.p&&(t[0]=l.p),l.h&&(t[1]=l.h)))}catch(l){console.error("rollback transaction:",l),e.length=0,e.push(...r),t[0]=i[0],t[1]=i[1]}};let ne,k,G,We,Dn,ft=!1,ct=!1;const Qr=e=>e.nodeType===3,$e=e=>e.nodeType===1,zr=e=>e.nodeType===8,ei=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),Ln=e=>e.contentEditable==="false"||ei.has(e.tagName),ti=()=>k,kn=()=>G===1?k.data.length:G===2?1:0,ni=e=>{ne.currentNode=ne.currentNode.parentNode.children[e]},Zt=e=>{const t=e.nextSibling;return!!t&&!zr(t)},ri=()=>{for(;;){if(G===2){const e=k;for(;(k=ne.nextNode())&&e.contains(k););}else k=ne.nextNode();if(G=null,!k)break;if(We){if(We.contains(k)){if(ft=!0,ct)break}else if(ft)break}if(Qr(k)){const e=k.data;if(e)return G=e===`
`?Zt(k)?3:6:1}else if($e(k)){if(k.tagName==="BR")return G=Zt(k)?3:5;if(Ln(k))return G=2;if(Dn(k))return G=4}}},On=(e,t,{m:n,_:r},i)=>{try{return Dn=r,ne=n.createTreeWalker(t,5),i&&(i.k&&(ne.currentNode=i.k,ne.previousNode()),i.D&&(We=i.D),ct=i.v||!1),e(ri)}finally{ne=k=G=We=null,ft=ct=!1}},ii=Math.min,li=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},oi=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),si=e=>oi.has(e.tagName),Rn=e=>e.ownerDocument,Cn=e=>Rn(e).getSelection(),ui=(e,t)=>{if(e.rangeCount){const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n}},Gt=(e,t,n)=>{const r=Cn(e);r.removeAllRanges(),r.addRange(t),n&&(r.collapseToEnd(),r.extend(t.startContainer,t.startOffset))},tt=(e,t,[n,r],i)=>{const l=ie(n,r),u=l===0,_=l===-1,f=_?r:n,o=_?n:r;if(f[0]===0&&f[1]===0&&u&&!t.hasChildNodes()){const g=e.createRange();return g.setStart(t,0),g.setEnd(t,0),Gt(t,g),!0}const s=Jt(t,f,i);if(!s)return!1;const c=u?s:Jt(t,o,i);if(!c)return!1;const a=e.createRange(),[v,p]=s,[x,D]=c;return $e(v)?p<1?a.setStartBefore(v):a.setStartAfter(v):a.setStart(v,p),$e(x)?D<1?a.setEndBefore(x):a.setEndAfter(x):a.setEnd(x,D),Gt(t,a,_),!0},Jt=(e,[t,n],r)=>On(i=>{let l,u=!1;for(;l=i();)if(l===4)u||(u=!0,t!==0&&ni(t));else{const _=kn();if(n<=_)return[ti(),n];n-=_}},e,r),je=(e,t,n,r)=>{let i,l,u=!0;if(e===t&&!t.hasChildNodes())return[0,0];if($e(t)&&!Ln(t)&&t.hasChildNodes()){const f=ii(n,t.childNodes.length-1);t=t.childNodes[f],u=f===n,n=0}const _=((f,o)=>{let s=o;for(;;){const c=s.parentElement;if(c===f)break;s=c}return s})(e,t);return r._(_)?(i=_,l=(f=>{let o=0;for(;f=f.previousElementSibling;)o++;return o})(i)):(i=e,l=0),On(f=>{let o,s=0;for(;o=f();)o===3?(l++,s=0):s+=kn();return[l,s+n]},i,r,{D:t,v:u})},Xt=(e,t,{startOffset:n,startContainer:r,endOffset:i,endContainer:l})=>{const u=je(e,r,n,t);return[u,r===l&&n===i?u:je(e,l,i,t)]},ai=e=>se.from(e.map(t=>t.t===2?{...t,i:[t.i.reduce((n,r)=>Be(n,r),[])]}:t)),Pe=()=>{},fi=({schema:{single:e,js:t,doc:n,copy:r,paste:i},doc:l,isBlock:u=si,onChange:_,onKeyDown:f})=>{let o=[[0,0],[0,0]],s=!1,c=Pe,a=Pe;const v=()=>p.get()[0],p=(d=>{let y=0,S=0;const q=Date.now,O=[d],H=()=>O[y];return{get:H,set:K=>{O[y]=K},undo:()=>y>0?(y--,H()):void 0,redo:()=>y<O.length-1?(y++,H()):void 0,push:K=>{const Q=q();y!==0&&Q-S<500&&y--,S=Q,O[++y]=K,O.splice(y+1),y>500&&(y--,O.shift())}}})([n(l),o]),x=[],D=d=>{s||(x.unshift(d),L(V))},g=new Set,L=d=>{g.has(d)||(g.add(d),li(()=>{g.delete(d),d()}))},V=()=>{if(x.length){let S,q=[...v()],O=[...o];for(;S=x.pop();)e&&(S=ai(S)),Xr(q,O,S);const H=v();y=H,(d=q).length===y.length&&d.every((K,Q)=>K===y[Q])||(p.set([H,o]),p.push([q,O]),_(t(q))),a(O)}var d,y};return{input:d=>{if(!window.InputEvent||typeof InputEvent.prototype.getTargetRanges!="function")return console.error("beforeinput event is not supported."),Pe;const{contentEditable:y,role:S,ariaMultiLine:q,ariaReadOnly:O}=d,H=d.style.whiteSpace;d.role="textbox",d.style.whiteSpace="pre-wrap",e||(d.ariaMultiLine="true");let K=!1,Q=!1,fe=null,Re=null,z=!1,Ce=!1,Se=!1;const le=Rn(d),ee={m:le,_:u};c=()=>{d.contentEditable=s?"false":"true",d.ariaReadOnly=s?"true":null},c();const ce=((h,E)=>{let m=!1;const w=[],T=Z=>{m&&w.push(...Z)},I=new MutationObserver(Z=>{T(Z),m||E()}),R=()=>{T(I.takeRecords())};return I.observe(h,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{M(Z){!m&&Z&&R(),m=Z},O:()=>(R(),w.splice(0)),I(){w.splice(0),I.disconnect()}}})(d,()=>{Ce&&(tt(le,d,o,ee),Re!=null&&(clearTimeout(Re),Re=null))});a=h=>{o=h,Re=setTimeout(()=>{tt(le,d,h,ee)})};const we=()=>{o=((h,E)=>{const m=Cn(h),w=ui(m,h);if(!w)return[[0,0],[0,0]];const T=Xt(h,E,w);return(m.anchorNode===m.focusNode?m.anchorOffset>m.focusOffset:2&(I=m.anchorNode,R=m.focusNode,I.compareDocumentPosition(R)))?[T[1],T[0]]:T;var I,R})(d,ee)},ze=()=>{const h=ce.O();if(ce.M(!1),h.length){let E;for(;E=h.pop();)if(E.type==="childList"){const{target:m,removedNodes:w,addedNodes:T,nextSibling:I}=E;for(let R=w.length-1;R>=0;R--)m.insertBefore(w[R],I);for(let R=T.length-1;R>=0;R--)m.removeChild(T[R])}else E.target.nodeValue=E.oldValue;ce.O()}D(fe),z=!1,fe=null,Q=tt(le,d,o,ee)},Nt=h=>{if(!z){if(f&&f(h))h.preventDefault();else if((h.metaKey||h.ctrlKey)&&!h.altKey&&h.code==="KeyZ"&&(h.preventDefault(),ce.M(!1),!s)){const E=h.shiftKey?p.redo():p.undo();E&&(_(t(E[0])),a(E[1]))}}},Tt=()=>{z||ze()},Dt=h=>{h.preventDefault();const E=h.inputType;if(E.startsWith("format")||E==="historyUndo"||E==="historyRedo")return;z?ce.M(!0):we();const m=h.getTargetRanges()[0];if(m){const w=Xt(d,ee,m);let T=E==="insertParagraph"||E==="insertLineBreak"?`
`:h.data;if(T==null){const I=h.dataTransfer;I&&(T=I.getData("text/plain"))}fe||(fe=new se().select(...o)),ie(...w)!==0&&fe.delete(...w),T&&fe.insert(w[0],ut(T))}z||ze()},Lt=()=>{z||we(),z=!0},kt=()=>{ze()},Ot=()=>{Ce=!0,we()},Rt=()=>{Ce=!1},Ct=()=>{Q?Q=!1:!Ce||z||Se||we()},et=h=>{we(),ie(...o)!==0&&r(h,((E,m,w)=>Ye(m,w)===0?[he(he(E[m[0]],w[1])[0],m[1])[1]]:[he(E[m[0]],m[1])[1],...E.slice(m[0]+1,w[0]),he(E[w[0]],w[1])[0]])(v(),...Me(o)),d)},St=h=>{h.preventDefault(),et(h.clipboardData)},At=h=>{h.preventDefault(),s||(et(h.clipboardData),D(new se().delete(...Me(o))))},It=h=>{h.preventDefault();const[E,m]=Me(o);D(new se().delete(E,m).insert(E,i(h.clipboardData,ee)))},Mt=h=>{h.preventDefault();const E=h.dataTransfer,m=((w,T,{clientX:I,clientY:R},Z)=>{if(w.caretPositionFromPoint){const oe=w.caretPositionFromPoint(I,R);if(oe)return je(T,oe.offsetNode,oe.offset,Z)}else if(w.caretRangeFromPoint){const oe=w.caretRangeFromPoint(I,R);if(oe)return je(T,oe.startContainer,oe.startOffset,Z)}})(le,d,h,ee);if(E&&m){const w=new se;Se&&w.delete(...Me(o));const T=w.rebasePos(m);w.select(T,T).insert(T,i(E,ee)).select(T),D(w),d.focus({preventScroll:!0})}},Pt=h=>{Se=!0,et(h.dataTransfer)},Ft=()=>{Se=!1};return le.addEventListener("selectionchange",Ct),d.addEventListener("keydown",Nt),d.addEventListener("input",Tt),d.addEventListener("beforeinput",Dt),d.addEventListener("compositionstart",Lt),d.addEventListener("compositionend",kt),d.addEventListener("focus",Ot),d.addEventListener("blur",Rt),d.addEventListener("copy",St),d.addEventListener("cut",At),d.addEventListener("paste",It),d.addEventListener("drop",Mt),d.addEventListener("dragstart",Pt),d.addEventListener("dragend",Ft),()=>{K||(K=!0,c=a=Pe,d.contentEditable=y,d.role=S,d.ariaMultiLine=q,d.ariaReadOnly=O,d.style.whiteSpace=H,ce.I(),le.removeEventListener("selectionchange",Ct),d.removeEventListener("keydown",Nt),d.removeEventListener("input",Tt),d.removeEventListener("beforeinput",Dt),d.removeEventListener("compositionstart",Lt),d.removeEventListener("compositionend",kt),d.removeEventListener("focus",Ot),d.removeEventListener("blur",Rt),d.removeEventListener("copy",St),d.removeEventListener("cut",At),d.removeEventListener("paste",It),d.removeEventListener("drop",Mt),d.removeEventListener("dragstart",Pt),d.removeEventListener("dragend",Ft))}},command:(d,...y)=>{const S=d(v(),o,...y);S&&D(S)},readonly:d=>{s=d,c()}}},ci=({multiline:e}={})=>({single:!e,js:st,doc:ut,copy:(t,n)=>{t.setData("text/plain",st(n))},paste:t=>ut(t.getData("text/plain"))});var vi=xt("<br>"),di=xt("<div><!></div>"),_i=xt('<div class="editor svelte-1aueghe"></div>');function hi(e,t){yn(t,!0);let n=qt(`Hello world.
こんにちは。
👍❤️🧑‍🧑‍🧒`),r=qt(void 0),i=null;xn(()=>{i=fi({doc:Y(n),schema:ci({multiline:!0}),onChange:u=>{U(n,de(u))}}).input(Y(r))}),jr(()=>{i==null||i()});var l=_i();Kr(l,21,()=>Y(n).split(`
`),Vr,(u,_)=>{var f=di(),o=ur(f);{var s=a=>{var v=Ar();pr(()=>Pr(v,Y(_))),Ie(a,v)},c=a=>{var v=vi();Ie(a,v)};Br(o,a=>{Y(_)?a(s):a(c,!1)})}Ie(u,f)}),$r(l,u=>U(r,u),()=>Y(r)),Ie(e,l),wn()}Fr(hi,{target:document.getElementById("app")});
