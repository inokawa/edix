(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const It=!1,kt=(e,t)=>e===t,Bt=Symbol("solid-track"),he={equals:kt};let ct=vt;const W=1,pe=2,dt={owned:null,cleanups:null,context:null,owner:null};var N=null;let Ne=null,Ft=null,C=null,M=null,j=null,Se=0;function de(e,t){const n=C,s=N,r=e.length===0,o=t===void 0?s:t,l=r?dt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},i=r?e:()=>e(()=>se(()=>ie(l)));N=l,C=null;try{return fe(i,!0)}finally{C=n,N=s}}function ht(e,t){t=t?Object.assign({},he,t):he;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),mt(n,r));return[yt.bind(n),s]}function Re(e,t,n){const s=_e(e,t,!1,W);le(s)}function _t(e,t,n){ct=Kt;const s=_e(e,t,!1,W);s.user=!0,j?j.push(s):le(s)}function pt(e,t,n){n=n?Object.assign({},he,n):he;const s=_e(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,le(s),yt.bind(s)}function se(e){if(C===null)return e();const t=C;C=null;try{return e()}finally{C=t}}function Vt(e){_t(()=>se(e))}function gt(e){return N===null||(N.cleanups===null?N.cleanups=[e]:N.cleanups.push(e)),e}function yt(){if(this.sources&&this.state)if(this.state===W)le(this);else{const e=M;M=null,fe(()=>ye(this),!1),M=e}if(C){const e=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(e)):(C.sources=[this],C.sourceSlots=[e]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function mt(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&fe(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],l=Ne&&Ne.running;l&&Ne.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?M.push(o):j.push(o),o.observers&&wt(o)),l||(o.state=W)}if(M.length>1e6)throw M=[],new Error},!1)),t}function le(e){if(!e.fn)return;ie(e);const t=Se;Ut(e,e.value,t)}function Ut(e,t,n){let s;const r=N,o=C;C=N=e;try{s=e.fn(t)}catch(l){return e.pure&&(e.state=W,e.owned&&e.owned.forEach(ie),e.owned=null),e.updatedAt=n+1,Et(l)}finally{C=o,N=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?mt(e,s):e.value=s,e.updatedAt=n)}function _e(e,t,n,s=W,r){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:N,context:N?N.context:null,pure:n};return N===null||N!==dt&&(N.owned?N.owned.push(o):N.owned=[o]),o}function ge(e){if(e.state===0)return;if(e.state===pe)return ye(e);if(e.suspense&&se(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Se);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===W)le(e);else if(e.state===pe){const s=M;M=null,fe(()=>ye(e,t[0]),!1),M=s}}function fe(e,t){if(M)return e();let n=!1;t||(M=[]),j?n=!0:j=[],Se++;try{const s=e();return Ht(n),s}catch(s){n||(j=null),M=null,Et(s)}}function Ht(e){if(M&&(vt(M),M=null),e)return;const t=j;j=null,t.length&&fe(()=>ct(t),!1)}function vt(e){for(let t=0;t<e.length;t++)ge(e[t])}function Kt(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:ge(s)}for(t=0;t<n;t++)ge(e[t])}function ye(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===W?s!==t&&(!s.updatedAt||s.updatedAt<Se)&&ge(s):r===pe&&ye(s,t)}}}function wt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=pe,n.pure?M.push(n):j.push(n),n.observers&&wt(n))}}function ie(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),l=n.observerSlots.pop();s<r.length&&(o.sourceSlots[l]=s,r[s]=o,n.observerSlots[s]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ie(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ie(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function jt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Et(e,t=N){throw jt(e)}const $t=Symbol("fallback");function nt(e){for(let t=0;t<e.length;t++)e[t]()}function qt(e,t,n={}){let s=[],r=[],o=[],l=0,i=t.length>1?[]:null;return gt(()=>nt(o)),()=>{let c=e()||[],a=c.length,d,u;return c[Bt],se(()=>{let x,P,O,_,V,B,k,I,U;if(a===0)l!==0&&(nt(o),o=[],s=[],r=[],l=0,i&&(i=[])),n.fallback&&(s=[$t],r[0]=de(xe=>(o[0]=xe,n.fallback())),l=1);else if(l===0){for(r=new Array(a),u=0;u<a;u++)s[u]=c[u],r[u]=de(A);l=a}else{for(O=new Array(a),_=new Array(a),i&&(V=new Array(a)),B=0,k=Math.min(l,a);B<k&&s[B]===c[B];B++);for(k=l-1,I=a-1;k>=B&&I>=B&&s[k]===c[I];k--,I--)O[I]=r[k],_[I]=o[k],i&&(V[I]=i[k]);for(x=new Map,P=new Array(I+1),u=I;u>=B;u--)U=c[u],d=x.get(U),P[u]=d===void 0?-1:d,x.set(U,u);for(d=B;d<=k;d++)U=s[d],u=x.get(U),u!==void 0&&u!==-1?(O[u]=r[d],_[u]=o[d],i&&(V[u]=i[d]),u=P[u],x.set(U,u)):o[d]();for(u=B;u<a;u++)u in O?(r[u]=O[u],o[u]=_[u],i&&(i[u]=V[u],i[u](u))):r[u]=de(A);r=r.slice(0,l=a),s=c.slice(0)}return r});function A(x){if(o[u]=x,i){const[P,O]=ht(u);return i[u]=O,t(c[u],P)}return t(c[u])}}}function bt(e,t){return se(()=>e(t||{}))}function Gt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return pt(qt(()=>e.each,e.children,t||void 0))}function Wt(e,t,n){let s=n.length,r=t.length,o=s,l=0,i=0,c=t[r-1].nextSibling,a=null;for(;l<r||i<o;){if(t[l]===n[i]){l++,i++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===l){const d=o<s?i?n[i-1].nextSibling:n[o-i]:c;for(;i<o;)e.insertBefore(n[i++],d)}else if(o===i)for(;l<r;)(!a||!a.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[i]===t[r-1]){const d=t[--r].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--o],d),t[r]=n[o]}else{if(!a){a=new Map;let u=i;for(;u<o;)a.set(n[u],u++)}const d=a.get(t[l]);if(d!=null)if(i<d&&d<o){let u=l,A=1,x;for(;++u<r&&u<o&&!((x=a.get(t[u]))==null||x!==d+A);)A++;if(A>d-i){const P=t[l];for(;i<d;)e.insertBefore(n[i++],P)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}function Xt(e,t,n,s={}){let r;return de(o=>{r=o,t===document?e():Me(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function St(e,t,n,s){let r;const o=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},l=()=>(r||(r=o())).cloneNode(!0);return l.cloneNode=l,l}function Zt(e,t,n){return se(()=>e(t,n))}function Me(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return me(e,t,s,n);Re(r=>me(e,t(),r,n),s)}function me(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=s!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(l){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=z(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=z(e,n,s);else{if(o==="function")return Re(()=>{let i=t();for(;typeof i=="function";)i=i();n=me(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(Pe(i,t,n,r))return Re(()=>n=me(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=z(e,n,s),l)return n}else c?n.length===0?st(e,i,s):Wt(e,n,i):(n&&z(e),st(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=z(e,n,s,t);z(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Pe(e,t,n,s){let r=!1;for(let o=0,l=t.length;o<l;o++){let i=t[o],c=n&&n[e.length],a;if(!(i==null||i===!0||i===!1))if((a=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Pe(e,i,c)||r;else if(a==="function")if(s){for(;typeof i=="function";)i=i();r=Pe(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const d=String(i);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return r}function st(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function z(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(r!==i){const c=i.parentNode===e;!o&&!l?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}const ve=([e],[t])=>e===t?0:e<t?1:-1,G=(e,t)=>{const n=ve(e,t);return n===0?e[1]===t[1]?0:e[1]<t[1]?1:-1:n},ce=([e,t])=>G(e,t)===-1?[t,e]:[e,t],Jt=Math.min,{keys:rt,is:Qt}=Object,Ie=e=>typeof e=="string",Yt=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},Ve=(e,t=n=>ne(n)?n.text:"")=>e.reduce((n,s,r)=>(r!==0&&(n+=`
`),n+s.reduce((o,l)=>o+t(l),"")),""),Ue=(e,t)=>e.split(`
`).map(n=>n?[{...t,text:n}]:[]),xt=e=>e.t!==4;class oe{constructor(t){this.unsafe=!1,this.o=t?t.slice():[]}get ops(){return this.o}insert(t,n){return this.o.push({t:2,i:t,u:n}),this}insertFragment(t,n){return this.unsafe=!0,this.o.push({t:3,i:t,l:n}),this}delete(t,n){return this.o.push({t:1,p:t,h:n}),this}select(t,n){return this.o.push({t:4,m:t,_:n}),this}transform(t){return this.o.reduce((n,s)=>xt(s)?ke(n,s):n,t)}}const ne=e=>"text"in e,zt=(e,t)=>{const n=rt(e);return n.length===rt(t).length&&n.every(s=>s in t&&(s==="text"||Qt(e[s],t[s])))},At=e=>ne(e)?e.text.length:1,Lt=e=>e.reduce((t,n)=>t+At(n),0),Ct=(e,t)=>{if(t.length){const n=e.length;e.push(...t),n&&((s,r=0,o=s.length-1)=>{let l=r+1;for(;l<=o;){const i=s[l-1],c=s[l];ne(i)&&ne(c)&&zt(i,c)?(s[l-1]={...i,text:i.text+c.text},s.splice(l,1),o--):l++}})(e,n-1,n)}},Oe=(...e)=>{const t=[];return e.forEach(n=>{Ct(t,n)}),t},te=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n],r=At(s);if(r>t){const o=e.slice(0,n),l=e.slice(n+1);if(ne(s)){const i=s.text.slice(0,t),c=s.text.slice(t);i&&o.push({...s,text:i}),c&&l.unshift({...s,text:c})}else l.unshift(s);return[o,l]}t-=r}return[e,[]]},De=(e,t,n,s)=>{const[r]=n,[o]=s||n,[l,i]=te(e[n[0]],n[1]),c=s?te(e[s[0]],s[1])[1]:i;if(Ie(t)){const u=l.length;let A;if(u){const x=l[u-1];ne(x)&&(A=x)}t=Ue(t,A)}let a;t.length?(a=[...t],a[0]=Oe(l,a[0]),a[a.length-1]=Oe(a[a.length-1],c)):a=[Oe(l,c)];const d=e.slice();return d.splice(r,o-r+1,...a),d},ee=(e,[t,n])=>t>=0&&t<e.length&&n>=0&&n<=Lt(e[t]),en=(e,t)=>{switch(t.t){case 1:{const{p:n,h:s}=t;return ee(e,n)&&ee(e,s)&&G(n,s)===1}case 2:return ee(e,t.i)&&!!t.u;case 3:return ee(e,t.i)&&!!Ve(t.l);case 4:return(!t.m||ee(e,t.m))&&(!t._||ee(e,t._))}},ke=(e,t)=>{switch(t.t){case 1:{const{p:n,h:s}=t;if(G(e,n)!==1)return G(s,e)===1?[e[0]+n[0]-s[0],e[1]+(ve(s,e)===0?n[1]-s[1]:0)]:n;break}case 2:case 3:{const n=t.i,s=t.t===2?Ue(t.u):t.l,r=s.length,o=r-1;if(G(e,n)!==1)return[e[0]+o,e[1]+(ve(e,n)===0?Lt(s[r-1])-(o===0?0:n[1]):0)];break}}return e};let q,D,K,we,Nt,Be=!1,Fe=!1;const tn=e=>e.nodeType===3,Ee=e=>e.nodeType===1,nn=e=>e.nodeType===8,sn=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),Ot=e=>e.contentEditable==="false"||sn.has(e.tagName),rn=()=>D,Dt=()=>K===1?D.data.length:K===2?1:0,on=e=>{q.currentNode=q.currentNode.parentNode.children[e]},ot=e=>{const t=e.nextSibling;return!!t&&!nn(t)},ln=()=>{for(;;){if(K===2){const e=D;for(;(D=q.nextNode())&&e.contains(D););}else D=q.nextNode();if(K=null,!D)break;if(we){if(we.contains(D)){if(Be=!0,Fe)break}else if(Be)break}if(tn(D)){const e=D.data;if(e)return K=e===`
`?ot(D)?3:6:1}else if(Ee(D)){if(D.tagName==="BR")return K=ot(D)?3:5;if(Ot(D))return K=2;if(Nt(D))return K=4}}},Tt=(e,t,{k:n,v:s},r)=>{try{return Nt=s,q=n.createTreeWalker(t,5),r&&(r.D&&(q.currentNode=r.D,q.previousNode()),r.M&&(we=r.M),Fe=r.O||!1),e(ln)}finally{q=D=K=we=null,Be=Fe=!1}},fn=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),un=e=>fn.has(e.tagName),Rt=e=>e.ownerDocument,Mt=e=>Rt(e).getSelection(),an=(e,t)=>{if(e.rangeCount){const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n}},it=(e,t,n)=>{const s=Mt(e);s.removeAllRanges(),s.addRange(t),n&&(s.collapseToEnd(),s.extend(t.startContainer,t.startOffset))},lt=(e,t,[n,s],r)=>{const o=G(n,s),l=o===0,i=o===-1,c=i?s:n,a=i?n:s;if(c[0]===0&&c[1]===0&&l&&!t.hasChildNodes()){const V=e.createRange();return V.setStart(t,0),V.setEnd(t,0),it(t,V),!0}const d=ft(t,c,r);if(!d)return!1;const u=l?d:ft(t,a,r);if(!u)return!1;const A=e.createRange(),[x,P]=d,[O,_]=u;return Ee(x)?P<1?A.setStartBefore(x):A.setStartAfter(x):A.setStart(x,P),Ee(O)?_<1?A.setEndBefore(O):A.setEndAfter(O):A.setEnd(O,_),it(t,A,i),!0},ft=(e,[t,n],s)=>Tt(r=>{let o,l=!1;for(;o=r();)if(o===4)l||(l=!0,t!==0&&on(t));else{const i=Dt();if(n<=i)return[rn(),n];n-=i}},e,s),be=(e,t,n,s)=>{let r,o,l=!0;if(e===t&&!t.hasChildNodes())return[0,0];if(Ee(t)&&!Ot(t)&&t.hasChildNodes()){const c=Jt(n,t.childNodes.length-1);t=t.childNodes[c],l=c===n,n=0}const i=((c,a)=>{let d=a;for(;;){const u=d.parentElement;if(u===c)break;d=u}return d})(e,t);return s.v(i)?(r=i,o=(c=>{let a=0;for(;c=c.previousElementSibling;)a++;return a})(r)):(r=e,o=0),Tt(c=>{let a,d=0;for(;a=c();)a===3?(o++,d=0):d+=Dt();return[o,d+n]},r,s,{M:t,O:l})},ut=(e,t,{startOffset:n,startContainer:s,endOffset:r,endContainer:o})=>{const l=be(e,s,n,t);return[l,s===o&&n===r?l:be(e,o,r,t)]},cn=e=>(t,n)=>{t.setData("text/plain",Ve(n,e))},Te=()=>{},dn=({doc:e,schema:t,singleline:n,copy:s=[cn()],paste:r=[a=>a.getData("text/plain")],isBlock:o=un,onChange:l,onKeyDown:i,onError:c=console.error})=>{let a=[[0,0],[0,0]],d=!1,u=Te;const A=(f,y)=>{if(!t)return y("An unsafe operation was detected. We recommened using schema option."),!0;const S=t["~standard"].validate(f);if(S instanceof Promise)y("async validate is not supported.");else{if(!S.issues)return!0;y(S.issues.map(E=>E.message).join(`
`))}return!1};let x;if(!A(e,f=>{x=f})&&x)throw Error(x);const P=()=>O.get()[0],O=(f=>{let y=0,S=0;const E=Date.now,b=[f],F=()=>b[y];return{get:F,set:T=>{b[y]=T},undo:()=>y>0?(y--,F()):void 0,redo:()=>y<b.length-1?(y++,F()):void 0,push:T=>{const v=E();y!==0&&v-S<500&&y--,S=v,b[++y]=T,b.splice(y+1),y>500&&(y--,b.shift())}}})([e,a]),_=[];n&&_.push({mount:f=>{f.ariaMultiLine=null},apply:(f,y)=>f(new oe(y.ops.map(S=>S.t===2?{...S,u:S.u.replaceAll(`
`,"")}:S.t===3?{...S,l:[S.l.reduce((E,b)=>(Ct(E,b),E),[])]}:S)))});const V=[f=>{if((f.metaKey||f.ctrlKey)&&!f.altKey&&f.code==="KeyZ"&&!d){const y=f.shiftKey?O.redo():O.undo();return y&&(l(y[0]),a=y[1]),!0}}];i&&V.push(i);const B=_.reduceRight((f,{apply:y})=>y?(S,E,b)=>y(F=>f(S,E,F),b):f,(f,y,S)=>((E,b,F,T)=>{try{for(const v of F.ops)if(en(E,v)){switch(v.t){case 1:E=De(E,[],v.p,v.h);break;case 2:E=De(E,v.u,v.i);break;case 3:E=De(E,v.l,v.i);break;case 4:(v.m||v._)&&(b=[v.m||b[0],v._||b[1]])}xt(v)&&(b=[ke(b[0],v),ke(b[1],v)])}return[E,b]}catch(v){return void(T&&T("rollback transaction: "+v))}})(f,y,S,c)),k=[],I=f=>{d||(k.unshift(f),xe(Pt))},U=new Set,xe=f=>{U.has(f)||(U.add(f),Yt(()=>{U.delete(f),f()}))},Pt=()=>{if(k.length){let S,E=P(),b=a;for(;S=k.pop();){const T=B(E,b,S);!T||S.unsafe&&!A(T[0],c)||(E=T[0],b=T[1])}const F=P();y=F,(f=E).length===y.length&&f.every((T,v)=>T===y[v])||(O.set([F,a]),O.push([E,b]),l(E)),a=b}var f,y},Ae={get doc(){return P()},get selection(){return a},get readonly(){return d},set readonly(f){d=f,u()},apply:(f,...y)=>(typeof f=="function"?f.call(Ae,...y):I(f),Ae),input:f=>{if(!window.InputEvent||typeof InputEvent.prototype.getTargetRanges!="function")return c("beforeinput event is not supported."),Te;const{contentEditable:y,role:S,ariaMultiLine:E,ariaReadOnly:b}=f,F=f.style.whiteSpace;f.role="textbox",f.style.whiteSpace="pre-wrap",f.ariaMultiLine="true",_.forEach(({mount:h})=>{h&&h(f)});let T=!1,v=!1,Z=null,$=!1,ue=!1,ae=!1;const J=Rt(f),Q={k:J,v:o};u=()=>{f.contentEditable=d?"false":"true",f.ariaReadOnly=d?"true":null},u();const He=h=>{for(const m of r){const p=m(h,Q);if(p)return p}c("failed to serialize pasted data")},Y=((h,m)=>{let p=!1;const g=[],w=H=>{p&&g.push(...H)},L=new MutationObserver(H=>{w(H),p||m()}),R=()=>{w(L.takeRecords())};return L.observe(h,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{C(H){!p&&H&&R(),p=H},I:()=>(R(),g.splice(0)),S(){g.splice(0),L.disconnect()}}})(f,()=>{ue&&lt(J,f,a,Q)}),re=()=>{a=((h,m)=>{const p=Mt(h),g=an(p,h);if(!g)return[[0,0],[0,0]];const w=ut(h,m,g);return(p.anchorNode===p.focusNode?p.anchorOffset>p.focusOffset:2&(L=p.anchorNode,R=p.focusNode,L.compareDocumentPosition(R)))?[w[1],w[0]]:w;var L,R})(f,Q)},Le=()=>{const h=Y.I();if(Y.C(!1),h.length){let m;for(;m=h.pop();)if(m.type==="childList"){const{target:p,removedNodes:g,addedNodes:w,nextSibling:L}=m;for(let R=g.length-1;R>=0;R--)p.insertBefore(g[R],L);for(let R=w.length-1;R>=0;R--)p.removeChild(w[R])}else m.target.nodeValue=m.oldValue;Y.I(),v=lt(J,f,a,Q)}I(Z),$=!1,Z=null},Ke=h=>{if(!$){for(const m of V)if(m(h))return h.preventDefault(),void Y.C(!1)}},je=()=>{$||Le()},$e=h=>{h.preventDefault();const m=h.inputType;if(m.startsWith("format")||m==="historyUndo"||m==="historyRedo")return;$?Y.C(!0):re();const p=h.getTargetRanges()[0];if(p){const g=ut(f,Q,p);let w=m==="insertParagraph"||m==="insertLineBreak"?`
`:h.data;if(w==null){const L=h.dataTransfer;L&&(w=L.getData("text/plain"))}Z||(Z=new oe().select(...a)),G(...g)!==0&&Z.delete(...g),w&&Z.insert(g[0],w)}$||Le()},qe=()=>{$||re(),$=!0},Ge=()=>{Le()},We=()=>{ue=!0,re()},Xe=()=>{ue=!1},Ze=()=>{v?v=!1:!ue||$||ae||re()},Ce=h=>{re(),G(...a)!==0&&((m,p)=>{for(const g of s)g(m,p,f)})(h,((m,p,g)=>ve(p,g)===0?[te(te(m[p[0]],g[1])[0],p[1])[1]]:[te(m[p[0]],p[1])[1],...m.slice(p[0]+1,g[0]),te(m[g[0]],g[1])[0]])(P(),...ce(a)))},Je=h=>{h.preventDefault(),Ce(h.clipboardData)},Qe=h=>{h.preventDefault(),d||(Ce(h.clipboardData),I(new oe().delete(...ce(a))))},Ye=h=>{h.preventDefault();const m=He(h.clipboardData);if(m){const[p,g]=ce(a),w=new oe().delete(p,g);Ie(m)?w.insert(p,m):w.insertFragment(p,m),I(w)}},ze=h=>{h.preventDefault();const m=h.dataTransfer,p=((g,w,{clientX:L,clientY:R},H)=>{if(g.caretPositionFromPoint){const X=g.caretPositionFromPoint(L,R);if(X)return be(w,X.offsetNode,X.offset,H)}else if(g.caretRangeFromPoint){const X=g.caretRangeFromPoint(L,R);if(X)return be(w,X.startContainer,X.startOffset,H)}})(J,f,h,Q);if(m&&p){const g=new oe;ae&&g.delete(...ce(a));const w=He(m);if(w){const L=g.transform(p);g.select(L,L),Ie(w)?g.insert(L,w):g.insertFragment(L,w),g.select(L)}I(g),f.focus({preventScroll:!0})}},et=h=>{ae=!0,Ce(h.dataTransfer)},tt=()=>{ae=!1};return J.addEventListener("selectionchange",Ze),f.addEventListener("keydown",Ke),f.addEventListener("input",je),f.addEventListener("beforeinput",$e),f.addEventListener("compositionstart",qe),f.addEventListener("compositionend",Ge),f.addEventListener("focus",We),f.addEventListener("blur",Xe),f.addEventListener("copy",Je),f.addEventListener("cut",Qe),f.addEventListener("paste",Ye),f.addEventListener("drop",ze),f.addEventListener("dragstart",et),f.addEventListener("dragend",tt),()=>{T||(T=!0,u=Te,f.contentEditable=y,f.role=S,f.ariaMultiLine=E,f.ariaReadOnly=b,f.style.whiteSpace=F,Y.S(),J.removeEventListener("selectionchange",Ze),f.removeEventListener("keydown",Ke),f.removeEventListener("input",je),f.removeEventListener("beforeinput",$e),f.removeEventListener("compositionstart",qe),f.removeEventListener("compositionend",Ge),f.removeEventListener("focus",We),f.removeEventListener("blur",Xe),f.removeEventListener("copy",Je),f.removeEventListener("cut",Qe),f.removeEventListener("paste",Ye),f.removeEventListener("drop",ze),f.removeEventListener("dragstart",et),f.removeEventListener("dragend",tt))}}};return Ae},hn=({text:e,onChange:t,...n})=>dn({...n,doc:Ue(e),onChange:s=>{t(Ve(s))}});var at=St("<div>"),pn=St("<br>");function gn(){let e;const[t,n]=ht(`Hello world.
ã“ã‚“ã«ã¡ã¯ã€‚
ðŸ‘â¤ï¸ðŸ§‘â€ðŸ§‘â€ðŸ§’`);return Vt(()=>{const r=hn({text:t(),onChange:n}).input(e);gt(()=>{r()})}),(()=>{var s=at(),r=e;return typeof r=="function"?Zt(r,s):e=s,s.style.setProperty("background-color","white"),s.style.setProperty("border","solid 1px darkgray"),s.style.setProperty("padding","8px"),Me(s,bt(Gt,{get each(){return pt(()=>t().split(`
`))()},children:o=>(()=>{var l=at();return Me(l,o||pn()),l})()})),s})()}const yn=document.getElementById("root");Xt(()=>bt(gn,{}),yn);
