(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Pt=!1,Rt=(e,t)=>e===t,It=Symbol("solid-track"),ie={equals:Rt};let at=vt;const H=1,le=2,dt={owned:null,cleanups:null,context:null,owner:null};var x=null;let Ae=null,kt=null,E=null,O=null,B=null,ge=0;function re(e,t){const n=E,s=x,r=e.length===0,o=t===void 0?s:t,l=r?dt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},i=r?e:()=>e(()=>W(()=>X(l)));x=l,E=null;try{return ee(i,!0)}finally{E=n,x=s}}function ht(e,t){t=t?Object.assign({},ie,t):ie;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),mt(n,r));return[yt.bind(n),s]}function Se(e,t,n){const s=Ie(e,t,!1,H);z(s)}function Bt(e,t,n){at=Ht;const s=Ie(e,t,!1,H);s.user=!0,B?B.push(s):z(s)}function pt(e,t,n){n=n?Object.assign({},ie,n):ie;const s=Ie(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,z(s),yt.bind(s)}function W(e){if(E===null)return e();const t=E;E=null;try{return e()}finally{E=t}}function Vt(e){Bt(()=>W(e))}function gt(e){return x===null||(x.cleanups===null?x.cleanups=[e]:x.cleanups.push(e)),e}function yt(){if(this.sources&&this.state)if(this.state===H)z(this);else{const e=O;O=null,ee(()=>ce(this),!1),O=e}if(E){const e=this.observers?this.observers.length:0;E.sources?(E.sources.push(this),E.sourceSlots.push(e)):(E.sources=[this],E.sourceSlots=[e]),this.observers?(this.observers.push(E),this.observerSlots.push(E.sources.length-1)):(this.observers=[E],this.observerSlots=[E.sources.length-1])}return this.value}function mt(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&ee(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],l=Ae&&Ae.running;l&&Ae.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?O.push(o):B.push(o),o.observers&&wt(o)),l||(o.state=H)}if(O.length>1e6)throw O=[],new Error},!1)),t}function z(e){if(!e.fn)return;X(e);const t=ge;Ut(e,e.value,t)}function Ut(e,t,n){let s;const r=x,o=E;E=x=e;try{s=e.fn(t)}catch(l){return e.pure&&(e.state=H,e.owned&&e.owned.forEach(X),e.owned=null),e.updatedAt=n+1,bt(l)}finally{E=o,x=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?mt(e,s):e.value=s,e.updatedAt=n)}function Ie(e,t,n,s=H,r){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:x,context:x?x.context:null,pure:n};return x===null||x!==dt&&(x.owned?x.owned.push(o):x.owned=[o]),o}function fe(e){if(e.state===0)return;if(e.state===le)return ce(e);if(e.suspense&&W(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ge);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===H)z(e);else if(e.state===le){const s=O;O=null,ee(()=>ce(e,t[0]),!1),O=s}}function ee(e,t){if(O)return e();let n=!1;t||(O=[]),B?n=!0:B=[],ge++;try{const s=e();return Ft(n),s}catch(s){n||(B=null),O=null,bt(s)}}function Ft(e){if(O&&(vt(O),O=null),e)return;const t=B;B=null,t.length&&ee(()=>at(t),!1)}function vt(e){for(let t=0;t<e.length;t++)fe(e[t])}function Ht(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:fe(s)}for(t=0;t<n;t++)fe(e[t])}function ce(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===H?s!==t&&(!s.updatedAt||s.updatedAt<ge)&&fe(s):r===le&&ce(s,t)}}}function wt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=le,n.pure?O.push(n):B.push(n),n.observers&&wt(n))}}function X(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),l=n.observerSlots.pop();s<r.length&&(o.sourceSlots[l]=s,r[s]=o,n.observerSlots[s]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)X(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)X(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Kt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function bt(e,t=x){throw Kt(e)}const _t=Symbol("fallback");function nt(e){for(let t=0;t<e.length;t++)e[t]()}function jt(e,t,n={}){let s=[],r=[],o=[],l=0,i=t.length>1?[]:null;return gt(()=>nt(o)),()=>{let a=e()||[],h=a.length,p,c;return a[It],W(()=>{let L,S,T,R,w,C,M,A,I;if(h===0)l!==0&&(nt(o),o=[],s=[],r=[],l=0,i&&(i=[])),n.fallback&&(s=[_t],r[0]=re(j=>(o[0]=j,n.fallback())),l=1);else if(l===0){for(r=new Array(h),c=0;c<h;c++)s[c]=a[c],r[c]=re(D);l=h}else{for(T=new Array(h),R=new Array(h),i&&(w=new Array(h)),C=0,M=Math.min(l,h);C<M&&s[C]===a[C];C++);for(M=l-1,A=h-1;M>=C&&A>=C&&s[M]===a[A];M--,A--)T[A]=r[M],R[A]=o[M],i&&(w[A]=i[M]);for(L=new Map,S=new Array(A+1),c=A;c>=C;c--)I=a[c],p=L.get(I),S[c]=p===void 0?-1:p,L.set(I,c);for(p=C;p<=M;p++)I=s[p],c=L.get(I),c!==void 0&&c!==-1?(T[c]=r[p],R[c]=o[p],i&&(w[c]=i[p]),c=S[c],L.set(I,c)):o[p]();for(c=C;c<h;c++)c in T?(r[c]=T[c],o[c]=R[c],i&&(i[c]=w[c],i[c](c))):r[c]=re(D);r=r.slice(0,l=h),s=a.slice(0)}return r});function D(L){if(o[c]=L,i){const[S,T]=ht(c);return i[c]=T,t(a[c],S)}return t(a[c])}}}function Et(e,t){return W(()=>e(t||{}))}function $t(e){const t="fallback"in e&&{fallback:()=>e.fallback};return pt(jt(()=>e.each,e.children,t||void 0))}function Gt(e,t,n){let s=n.length,r=t.length,o=s,l=0,i=0,a=t[r-1].nextSibling,h=null;for(;l<r||i<o;){if(t[l]===n[i]){l++,i++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===l){const p=o<s?i?n[i-1].nextSibling:n[o-i]:a;for(;i<o;)e.insertBefore(n[i++],p)}else if(o===i)for(;l<r;)(!h||!h.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[i]===t[r-1]){const p=t[--r].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--o],p),t[r]=n[o]}else{if(!h){h=new Map;let c=i;for(;c<o;)h.set(n[c],c++)}const p=h.get(t[l]);if(p!=null)if(i<p&&p<o){let c=l,D=1,L;for(;++c<r&&c<o&&!((L=h.get(t[c]))==null||L!==p+D);)D++;if(D>p-i){const S=t[l];for(;i<p;)e.insertBefore(n[i++],S)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}function qt(e,t,n,s={}){let r;return re(o=>{r=o,t===document?e():Ce(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function xt(e,t,n,s){let r;const o=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},l=()=>(r||(r=o())).cloneNode(!0);return l.cloneNode=l,l}function Wt(e,t,n){return W(()=>e(t,n))}function Ce(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return ue(e,t,s,n);Se(r=>ue(e,t(),r,n),s)}function ue(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=s!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(l){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=G(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=G(e,n,s);else{if(o==="function")return Se(()=>{let i=t();for(;typeof i=="function";)i=i();n=ue(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],a=n&&Array.isArray(n);if(Ne(i,t,n,r))return Se(()=>n=ue(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=G(e,n,s),l)return n}else a?n.length===0?st(e,i,s):Gt(e,n,i):(n&&G(e),st(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=G(e,n,s,t);G(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ne(e,t,n,s){let r=!1;for(let o=0,l=t.length;o<l;o++){let i=t[o],a=n&&n[e.length],h;if(!(i==null||i===!0||i===!1))if((h=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Ne(e,i,a)||r;else if(h==="function")if(s){for(;typeof i=="function";)i=i();r=Ne(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||r}else e.push(i),r=!0;else{const p=String(i);a&&a.nodeType===3&&a.data===p?e.push(a):e.push(document.createTextNode(p))}}return r}function st(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function G(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(r!==i){const a=i.parentNode===e;!o&&!l?a?e.replaceChild(r,i):e.insertBefore(r,n):a&&i.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}const ae=([e],[t])=>e===t?0:e<t?1:-1,F=(e,t)=>{const n=ae(e,t);return n===0?e[1]===t[1]?0:e[1]<t[1]?1:-1:n},se=([e,t])=>F(e,t)===-1?[t,e]:[e,t],De=(e,t)=>e.reduce((n,s,r)=>(r!==0&&(n+=`
`),n+s.reduce((o,l)=>o+(Y(l)?l.text:t?t(l):""),"")),""),At=e=>e.split(`
`).map(t=>t?[{text:t}]:[]),Lt=e=>e.t!==3;class _ extends Array{static from(t){return new _(...t)}insert(t,n){return this.push({t:2,o:t,i:n}),this}delete(t,n){return this.push({t:1,l:t,u:n}),this}select(t,n){return this.push({t:3,p:t,m:n}),this}rebasePos(t){return this.reduce((n,s)=>Lt(s)?Oe(n,s):n,t)}}const Y=e=>"text"in e,St=e=>Y(e)?e.text.length:1,Zt=e=>e.reduce((t,n)=>t+St(n),0),oe=(e,t)=>{const n=[...e];if(n.length)for(const s of t){const r=n.length-1,o=n[r];Y(s)&&Y(o)?n[r]={text:o.text+s.text}:n.push(s)}else n.push(...t);return n},q=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n],r=St(s);if(r>t){const o=e.slice(0,n),l=e.slice(n+1);if(Y(s)){const i=s.text.slice(0,t),a=s.text.slice(t);i&&o.push({text:i}),a&&l.unshift({text:a})}else l.unshift(s);return[o,l]}t-=r}return[e,[]]},rt=(e,t,n,s)=>{const[r]=n,[o]=s||n,l=q(e[n[0]],n[1]),i=l[0],a=s?q(e[s[0]],s[1])[1]:l[1],h=[...t];h.length?(h[0]=oe(i,h[0]),h[h.length-1]=oe(h[h.length-1],a)):h.push(oe(i,a)),e.splice(r,o-r+1,...h)},Jt=e=>{switch(e.t){case 1:return F(e.l,e.u)===1;case 2:return!!De(e.i)}return!0},Qt=(e,t)=>{switch(t.t){case 1:rt(e,[],t.l,t.u);break;case 2:rt(e,t.i,t.o)}},Oe=(e,t)=>{switch(t.t){case 1:{const{l:n,u:s}=t;if(F(e,n)!==1)return F(s,e)===1?[e[0]+n[0]-s[0],e[1]+(ae(s,e)===0?n[1]-s[1]:0)]:n;break}case 2:{const{o:n,i:s}=t,r=s.length,o=r-1;if(F(e,n)!==1)return[e[0]+o,e[1]+(ae(e,n)===0?Zt(s[r-1])-(o===0?0:n[1]):0)];break}}return e},Xt=(e,t,n)=>{const s=[...e],r=[...t];try{for(const o of n)Jt(o)&&(Lt(o)?(Qt(e,o),t[0]=Oe(t[0],o),t[1]=Oe(t[1],o)):(o.p&&(t[0]=o.p),o.m&&(t[1]=o.m)))}catch(o){console.error("rollback transaction:",o),e.length=0,e.push(...s),t[0]=r[0],t[1]=r[1]}};let U,N,k,de,Ct,Te=!1,Me=!1;const Yt=e=>e.nodeType===3,he=e=>e.nodeType===1,zt=e=>e.nodeType===8,en=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),Nt=e=>e.contentEditable==="false"||en.has(e.tagName),Pe=()=>N,Dt=()=>k===1?N.data.length:k===2?1:0,ot=e=>{const t=e.nextSibling;return!!t&&!zt(t)},tn=()=>{for(;;){if(k===2){const e=N;for(;(N=U.nextNode())&&e.contains(N););}else N=U.nextNode();if(k=null,!N)break;if(de){if(de.contains(N)){if(Te=!0,Me)break}else if(Te)break}if(Yt(N)){const e=N.data;if(e)return k=e===`
`?ot(N)?3:6:1}else if(he(N)){if(N.tagName==="BR")return k=ot(N)?3:5;if(Nt(N))return k=2;if(Ct(N))return k=4}}},ke=(e,t,{h:n,_:s},r)=>{try{return Ct=s,U=n.createTreeWalker(t,5),r&&(r.k&&(U.currentNode=r.k,U.previousNode()),r.v&&(de=r.v),Me=r.D||!1),e(tn)}finally{U=N=k=de=null,Te=Me=!1}},nn=Math.min,sn=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},rn=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),on=e=>rn.has(e.tagName),Ot=e=>e.ownerDocument,Re=e=>Ot(e).getSelection(),it=(e,t)=>{if(e.rangeCount){const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n}},lt=(e,t,n)=>{const s=Re(e);s.removeAllRanges(),s.addRange(t),n&&(s.collapseToEnd(),s.extend(t.startContainer,t.startOffset))},Le=(e,t,[n,s],r)=>{const o=F(n,s),l=o===0,i=o===-1,a=i?s:n,h=i?n:s;if(a[0]===0&&a[1]===0&&l&&!t.hasChildNodes()){const w=e.createRange();return w.setStart(t,0),w.setEnd(t,0),lt(t,w),!0}const p=ft(t,a,r);if(!p)return!1;const c=l?p:ft(t,h,r);if(!c)return!1;const D=e.createRange(),[L,S]=p,[T,R]=c;return he(L)?S<1?D.setStartBefore(L):D.setStartAfter(L):D.setStart(L,S),he(T)?R<1?D.setEndBefore(T):D.setEndAfter(T):D.setEnd(T,R),lt(t,D,i),!0},ft=(e,[t,n],s)=>ke(r=>{let o,l=!1;for(;o=r();)if(o===4)l||(l=!0,t!==0&&(i=t,U.currentNode=U.currentNode.parentNode.children[i]));else{const a=Dt();if(n<=a)return[Pe(),n];n-=a}var i},e,s),pe=(e,t,n,s)=>{let r,o,l=!0;if(e===t&&!t.hasChildNodes())return[0,0];if(he(t)&&!Nt(t)&&t.hasChildNodes()){const a=nn(n,t.childNodes.length-1);t=t.childNodes[a],l=a===n,n=0}const i=((a,h)=>{let p=h;for(;;){const c=p.parentElement;if(c===a)break;p=c}return p})(e,t);return s._(i)?(r=i,o=Array.prototype.indexOf.call(e.children,r)):(r=e,o=0),ke(a=>{let h,p=0;for(;h=a();)h===3?(o++,p=0):p+=Dt();return[o,p+n]},r,s,{v:t,D:l})},ct=(e,t,{startOffset:n,startContainer:s,endOffset:r,endContainer:o})=>{const l=pe(e,s,n,t);return[l,s===o&&n===r?l:pe(e,o,r,t)]},ln=e=>_.from(e.map(t=>t.t===2?{...t,i:[t.i.reduce((n,s)=>oe(n,s),[])]}:t)),fn=(e,{schema:{single:t,js:n,void:s,copy:r,paste:o},isBlock:l=on,onChange:i,onKeyDown:a})=>{if(!window.InputEvent||typeof InputEvent.prototype.getTargetRanges!="function"){console.error("beforeinput event is not supported.");const f=()=>{};return{dispose:f,command:f,readonly:f}}const{contentEditable:h,role:p,ariaMultiLine:c,ariaReadOnly:D}=e,L=e.style.whiteSpace;e.role="textbox",e.style.whiteSpace="pre-wrap",t||(e.ariaMultiLine="true");let S=!1,T=!1,R=!1,w=[[0,0],[0,0]],C=null,M=null,A=!1,I=!1,j=!1;const K=Ot(e),V={h:K,_:l},Be=()=>{e.contentEditable=S?"false":"true",e.ariaReadOnly=S?"true":null};Be();const Ve=(f,u)=>((d,g,y)=>ke(b=>{let m,v=null,P="",be=!1;const ne=[],et=()=>{P&&(v||(v=[]),v.push({text:P}),P="")},Ee=()=>{et(),!v&&be&&(v=[]),v&&ne.push(v),v=null,be=!1};for(;m=b();)if(m===4)Ee();else if(be=!0,m===1){let xe=Pe().data;P+=xe}else if(m===2){et();const xe=Pe(),tt=y(xe);tt&&v.push({data:tt})}else m===3&&Ee();return Ee(),ne.length||ne.push([]),ne},d,g,void 0))(f,u,s),te=()=>J.get()[0],ye=[],Z=f=>{S||(ye.unshift(f),Tt(Mt))},J=(f=>{let u=0,d=0;const g=Date.now,y=[f],b=()=>y[u];return{get:b,set:m=>{y[u]=m},undo:()=>u>0?(u--,b()):void 0,redo:()=>u<y.length-1?(u++,b()):void 0,push:m=>{const v=g();u!==0&&v-d<500&&u--,d=v,y[++u]=m,y.splice(u+1),u>500&&(u--,y.shift())}}})([Ve(e,V),w]),$=((f,u)=>{let d=!1;const g=[],y=v=>{d&&g.push(...v)},b=new MutationObserver(v=>{y(v),d||u()}),m=()=>{y(b.takeRecords())};return b.observe(f,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{M(v){!d&&v&&m(),d=v},O:()=>(m(),g.splice(0)),I(){g.splice(0),b.disconnect()}}})(e,()=>{I&&(Le(K,e,w,V),M!=null&&(clearTimeout(M),M=null))}),me=new Set,Tt=f=>{me.has(f)||(me.add(f),sn(()=>{me.delete(f),f()}))},Ue=f=>{w=f,M=setTimeout(()=>{Le(K,e,f,V)})},Q=()=>{w=((f,u)=>{const d=Re(f),g=it(d,f);if(!g)return[[0,0],[0,0]];const y=ct(f,u,g);return(d.anchorNode===d.focusNode?d.anchorOffset>d.focusOffset:2&(b=d.anchorNode,m=d.focusNode,b.compareDocumentPosition(m)))?[y[1],y[0]]:y;var b,m})(e,V)},ve=()=>{const f=$.O();if($.M(!1),f.length){let u;for(;u=f.pop();)if(u.type==="childList"){const{target:d,removedNodes:g,addedNodes:y,nextSibling:b}=u;for(let m=g.length-1;m>=0;m--)d.insertBefore(g[m],b);for(let m=y.length-1;m>=0;m--)d.removeChild(y[m])}else u.target.nodeValue=u.oldValue;$.O()}Z(C),A=!1,C=null,R=Le(K,e,w,V)},Mt=()=>{if(ye.length){let d,g=[...te()],y=[...w];for(;d=ye.pop();)t&&(d=ln(d)),Xt(g,y,d);const b=te(),m=w;u=b,(f=g).length===u.length&&f.every((v,P)=>v===u[P])||(J.set([b,m]),J.push([g,y]),i(n(g))),Ue(y)}var f,u},Fe=f=>{if(!A){if(a&&a(f))f.preventDefault();else if((f.metaKey||f.ctrlKey)&&!f.altKey&&f.code==="KeyZ"&&(f.preventDefault(),$.M(!1),!S)){const u=f.shiftKey?J.redo():J.undo();u&&(i(n(u[0])),Ue(u[1]))}}},He=()=>{A||ve()},Ke=f=>{f.preventDefault();const u=f.inputType;if(u.startsWith("format")||u==="historyUndo"||u==="historyRedo")return;A?$.M(!0):Q();const d=f.getTargetRanges()[0];if(d){const g=ct(e,V,d);let y=u==="insertParagraph"||u==="insertLineBreak"?`
`:f.data;if(y==null){const b=f.dataTransfer;b&&(y=b.getData("text/plain"))}C||(C=new _().select(...w)),F(...g)!==0&&C.delete(...g),y&&C.insert(g[0],At(y))}A||ve()},_e=()=>{A||Q(),A=!0},je=()=>{ve()},$e=()=>{I=!0,Q()},Ge=()=>{I=!1},qe=()=>{R?R=!1:!I||A||j||Q()},we=f=>{Q(),F(...w)!==0&&r(f,((u,d,g)=>ae(d,g)===0?[q(q(u[d[0]],g[1])[0],d[1])[1]]:[q(u[d[0]],d[1])[1],...u.slice(d[0]+1,g[0]),q(u[g[0]],g[1])[0]])(te(),...se(w)),()=>it(Re(e),e).cloneContents())},We=f=>o(f,u=>Ve(u,V)),Ze=f=>{f.preventDefault(),we(f.clipboardData)},Je=f=>{f.preventDefault(),S||(we(f.clipboardData),Z(new _().delete(...se(w))))},Qe=f=>{f.preventDefault();const[u,d]=se(w);Z(new _().delete(u,d).insert(u,We(f.clipboardData)))},Xe=f=>{f.preventDefault();const u=f.dataTransfer,d=((g,y,{clientX:b,clientY:m},v)=>{if(g.caretPositionFromPoint){const P=g.caretPositionFromPoint(b,m);if(P)return pe(y,P.offsetNode,P.offset,v)}else if(g.caretRangeFromPoint){const P=g.caretRangeFromPoint(b,m);if(P)return pe(y,P.startContainer,P.startOffset,v)}})(K,e,f,V);if(u&&d){const g=new _;j&&g.delete(...se(w));const y=g.rebasePos(d);g.select(y,y).insert(y,We(u)).select(y),Z(g),e.focus({preventScroll:!0})}},Ye=f=>{j=!0,we(f.dataTransfer)},ze=()=>{j=!1};return K.addEventListener("selectionchange",qe),e.addEventListener("keydown",Fe),e.addEventListener("input",He),e.addEventListener("beforeinput",Ke),e.addEventListener("compositionstart",_e),e.addEventListener("compositionend",je),e.addEventListener("focus",$e),e.addEventListener("blur",Ge),e.addEventListener("copy",Ze),e.addEventListener("cut",Je),e.addEventListener("paste",Qe),e.addEventListener("drop",Xe),e.addEventListener("dragstart",Ye),e.addEventListener("dragend",ze),{dispose:()=>{T||(T=!0,e.contentEditable=h,e.role=p,e.ariaMultiLine=c,e.ariaReadOnly=D,e.style.whiteSpace=L,$.I(),K.removeEventListener("selectionchange",qe),e.removeEventListener("keydown",Fe),e.removeEventListener("input",He),e.removeEventListener("beforeinput",Ke),e.removeEventListener("compositionstart",_e),e.removeEventListener("compositionend",je),e.removeEventListener("focus",$e),e.removeEventListener("blur",Ge),e.removeEventListener("copy",Ze),e.removeEventListener("cut",Je),e.removeEventListener("paste",Qe),e.removeEventListener("drop",Xe),e.removeEventListener("dragstart",Ye),e.removeEventListener("dragend",ze))},command:(f,...u)=>{const d=f(te(),w,...u);d&&Z(d)},readonly:f=>{S=f,Be()}}},cn=({multiline:e}={})=>({single:!e,js:De,void:()=>{},copy:(t,n)=>{t.setData("text/plain",De(n))},paste:t=>At(t.getData("text/plain"))});var ut=xt("<div>"),un=xt("<br>");function an(){let e;const[t,n]=ht(`Hello world.
こんにちは。
👍❤️🧑‍🧑‍🧒`);return Vt(()=>{const s=fn(e,{schema:cn({multiline:!0}),onChange:n});gt(()=>{s.dispose()})}),(()=>{var s=ut(),r=e;return typeof r=="function"?Wt(r,s):e=s,s.style.setProperty("background-color","white"),s.style.setProperty("border","solid 1px darkgray"),s.style.setProperty("padding","8px"),Ce(s,Et($t,{get each(){return pt(()=>t().split(`
`))()},children:o=>(()=>{var l=ut();return Ce(l,o||un()),l})()})),s})()}const dn=document.getElementById("root");qt(()=>Et(an,{}),dn);
