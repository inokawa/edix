(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))r(_);new MutationObserver(_=>{for(const o of _)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(_){const o={};return _.integrity&&(o.integrity=_.integrity),_.referrerPolicy&&(o.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?o.credentials="include":_.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(_){if(_.ep)return;_.ep=!0;const o=n(_);fetch(_.href,o)}})();var fe,b,Et,K,et,$t,ve,kt,Le,me,ge,Z={},Lt=[],It=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,we=Array.isArray;function W(e,t){for(var n in t)e[n]=t[n];return e}function Ce(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Bt(e,t,n){var r,_,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?_=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?fe.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return ne(e,s,r,_,null)}function ne(e,t,n,r,_){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:_??++Et,__i:-1,__u:0};return _==null&&b.vnode!=null&&b.vnode(o),o}function ee(e){return e.children}function re(e,t){this.props=e,this.context=t}function z(e,t){if(t==null)return e.__?z(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?z(e):null}function wt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return wt(e)}}function tt(e){(!e.__d&&(e.__d=!0)&&K.push(e)&&!se.__r++||et!==b.debounceRendering)&&((et=b.debounceRendering)||$t)(se)}function se(){var e,t,n,r,_,o,s,c;for(K.sort(ve);e=K.shift();)e.__d&&(t=K.length,r=void 0,o=(_=(n=e).__v).__e,s=[],c=[],n.__P&&((r=W({},_)).__v=_.__v+1,b.vnode&&b.vnode(r),Pe(n.__P,r,_,n.__n,n.__P.namespaceURI,32&_.__u?[o]:null,s,o??z(_),!!(32&_.__u),c),r.__v=_.__v,r.__.__k[r.__i]=r,St(s,r,c),r.__e!=o&&wt(r)),K.length>t&&K.sort(ve));se.__r=0}function Ct(e,t,n,r,_,o,s,c,a,l,d){var i,p,u,v,y,$,m=r&&r.__k||Lt,g=t.length;for(a=Wt(n,t,m,a),i=0;i<g;i++)(u=n.__k[i])!=null&&(p=u.__i===-1?Z:m[u.__i]||Z,u.__i=i,$=Pe(e,u,p,_,o,s,c,a,l,d),v=u.__e,u.ref&&p.ref!=u.ref&&(p.ref&&Se(p.ref,null,u),d.push(u.ref,u.__c||v,u)),y==null&&v!=null&&(y=v),4&u.__u||p.__k===u.__k?a=Pt(u,a,e):typeof u.type=="function"&&$!==void 0?a=$:v&&(a=v.nextSibling),u.__u&=-7);return n.__e=y,a}function Wt(e,t,n,r){var _,o,s,c,a,l=t.length,d=n.length,i=d,p=0;for(e.__k=[],_=0;_<l;_++)(o=t[_])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=_+p,(o=e.__k[_]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ne(null,o,null,null,null):we(o)?ne(ee,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?ne(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,s=null,(a=o.__i=Vt(o,n,c,i))!==-1&&(i--,(s=n[a])&&(s.__u|=2)),s==null||s.__v===null?(a==-1&&p--,typeof o.type!="function"&&(o.__u|=4)):a!==c&&(a==c-1?p--:a==c+1?p++:(a>c?p--:p++,o.__u|=4))):o=e.__k[_]=null;if(i)for(_=0;_<d;_++)(s=n[_])!=null&&!(2&s.__u)&&(s.__e==r&&(r=z(s)),Dt(s,s));return r}function Pt(e,t,n){var r,_;if(typeof e.type=="function"){for(r=e.__k,_=0;r&&_<r.length;_++)r[_]&&(r[_].__=e,t=Pt(r[_],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=z(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Vt(e,t,n,r){var _=e.key,o=e.type,s=n-1,c=n+1,a=t[n];if(a===null||a&&_==a.key&&o===a.type&&!(2&a.__u))return n;if((typeof o!="function"||o===ee||_)&&r>(a!=null&&!(2&a.__u)?1:0))for(;s>=0||c<t.length;){if(s>=0){if((a=t[s])&&!(2&a.__u)&&_==a.key&&o===a.type)return s;s--}if(c<t.length){if((a=t[c])&&!(2&a.__u)&&_==a.key&&o===a.type)return c;c++}}return-1}function nt(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||It.test(t)?n:n+"px"}function te(e,t,n,r,_){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||nt(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||nt(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(kt,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Le,e.addEventListener(t,o?ge:me,o)):e.removeEventListener(t,o?ge:me,o);else{if(_=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function rt(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Le++;else if(t.t<n.u)return;return n(b.event?b.event(t):t)}}}function Pe(e,t,n,r,_,o,s,c,a,l){var d,i,p,u,v,y,$,m,g,O,w,V,I,D,R,F,q,N=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(a=!!(32&n.__u),o=[c=t.__e=n.__e]),(d=b.__b)&&d(t);e:if(typeof N=="function")try{if(m=t.props,g="prototype"in N&&N.prototype.render,O=(d=N.contextType)&&r[d.__c],w=d?O?O.props.value:d.__:r,n.__c?$=(i=t.__c=n.__c).__=i.__E:(g?t.__c=i=new N(m,w):(t.__c=i=new re(m,w),i.constructor=N,i.render=Kt),O&&O.sub(i),i.props=m,i.state||(i.state={}),i.context=w,i.__n=r,p=i.__d=!0,i.__h=[],i._sb=[]),g&&i.__s==null&&(i.__s=i.state),g&&N.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=W({},i.__s)),W(i.__s,N.getDerivedStateFromProps(m,i.__s))),u=i.props,v=i.state,i.__v=t,p)g&&N.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),g&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(g&&N.getDerivedStateFromProps==null&&m!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(m,w),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(m,i.__s,w)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(i.props=m,i.state=i.__s,i.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(B){B&&(B.__=t)}),V=0;V<i._sb.length;V++)i.__h.push(i._sb[V]);i._sb=[],i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(m,i.__s,w),g&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,v,y)})}if(i.context=w,i.props=m,i.__P=e,i.__e=!1,I=b.__r,D=0,g){for(i.state=i.__s,i.__d=!1,I&&I(t),d=i.render(i.props,i.state,i.context),R=0;R<i._sb.length;R++)i.__h.push(i._sb[R]);i._sb=[]}else do i.__d=!1,I&&I(t),d=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++D<25);i.state=i.__s,i.getChildContext!=null&&(r=W(W({},r),i.getChildContext())),g&&!p&&i.getSnapshotBeforeUpdate!=null&&(y=i.getSnapshotBeforeUpdate(u,v)),c=Ct(e,we(F=d!=null&&d.type===ee&&d.key==null?d.props.children:d)?F:[F],t,n,r,_,o,s,c,a,l),i.base=t.__e,t.__u&=-161,i.__h.length&&s.push(i),$&&(i.__E=i.__=null)}catch(B){if(t.__v=null,a||o!=null)if(B.then){for(t.__u|=a?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else for(q=o.length;q--;)Ce(o[q]);else t.__e=n.__e,t.__k=n.__k;b.__e(B,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=qt(n.__e,t,n,r,_,o,s,a,l);return(d=b.diffed)&&d(t),128&t.__u?void 0:c}function St(e,t,n){for(var r=0;r<n.length;r++)Se(n[r],n[++r],n[++r]);b.__c&&b.__c(t,e),e.some(function(_){try{e=_.__h,_.__h=[],e.some(function(o){o.call(_)})}catch(o){b.__e(o,_.__v)}})}function qt(e,t,n,r,_,o,s,c,a){var l,d,i,p,u,v,y,$=n.props,m=t.props,g=t.type;if(g==="svg"?_="http://www.w3.org/2000/svg":g==="math"?_="http://www.w3.org/1998/Math/MathML":_||(_="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((u=o[l])&&"setAttribute"in u==!!g&&(g?u.localName===g:u.nodeType===3)){e=u,o[l]=null;break}}if(e==null){if(g===null)return document.createTextNode(m);e=document.createElementNS(_,g,m.is&&m),c&&(b.__m&&b.__m(t,o),c=!1),o=null}if(g===null)$===m||c&&e.data===m||(e.data=m);else{if(o=o&&fe.call(e.childNodes),$=n.props||Z,!c&&o!=null)for($={},l=0;l<e.attributes.length;l++)$[(u=e.attributes[l]).name]=u.value;for(l in $)if(u=$[l],l!="children"){if(l=="dangerouslySetInnerHTML")i=u;else if(!(l in m)){if(l=="value"&&"defaultValue"in m||l=="checked"&&"defaultChecked"in m)continue;te(e,l,null,u,_)}}for(l in m)u=m[l],l=="children"?p=u:l=="dangerouslySetInnerHTML"?d=u:l=="value"?v=u:l=="checked"?y=u:c&&typeof u!="function"||$[l]===u||te(e,l,u,$[l],_);if(d)c||i&&(d.__html===i.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(i&&(e.innerHTML=""),Ct(e,we(p)?p:[p],t,n,r,g==="foreignObject"?"http://www.w3.org/1999/xhtml":_,o,s,o?o[0]:n.__k&&z(n,0),c,a),o!=null)for(l=o.length;l--;)Ce(o[l]);c||(l="value",g==="progress"&&v==null?e.removeAttribute("value"):v!==void 0&&(v!==e[l]||g==="progress"&&!v||g==="option"&&v!==$[l])&&te(e,l,v,$[l],_),l="checked",y!==void 0&&y!==e[l]&&te(e,l,y,$[l],_))}return e}function Se(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(_){b.__e(_,n)}}function Dt(e,t,n){var r,_;if(b.unmount&&b.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Se(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){b.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(_=0;_<r.length;_++)r[_]&&Dt(r[_],t,n||typeof e.type!="function");n||Ce(e.__e),e.__c=e.__=e.__e=void 0}function Kt(e,t,n){return this.constructor(e,n)}function jt(e,t,n){var r,_,o,s;t===document&&(t=document.documentElement),b.__&&b.__(e,t),_=(r=typeof n=="function")?null:t.__k,o=[],s=[],Pe(t,e=(!r&&n||t).__k=Bt(ee,null,[e]),_||Z,Z,t.namespaceURI,!r&&n?[n]:_?null:t.firstChild?fe.call(t.childNodes):null,o,!r&&n?n:_?_.__e:t.firstChild,r,s),St(o,e,s)}fe=Lt.slice,b={__e:function(e,t,n,r){for(var _,o,s;t=t.__;)if((_=t.__c)&&!_.__)try{if((o=_.constructor)&&o.getDerivedStateFromError!=null&&(_.setState(o.getDerivedStateFromError(e)),s=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(e,r||{}),s=_.__d),s)return _.__E=_}catch(c){e=c}throw e}},Et=0,re.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=W({},this.state),typeof e=="function"&&(e=e(W({},n),this.props)),e&&W(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),tt(this))},re.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),tt(this))},re.prototype.render=ee,K=[],$t=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve=function(e,t){return e.__v.__b-t.__v.__b},se.__r=0,kt=/(PointerCapture)$|Capture$/i,Le=0,me=rt(!1),ge=rt(!0);var zt=0;function oe(e,t,n,r,_,o){t||(t={});var s,c,a=t;"ref"in t&&(s=t.ref,delete t.ref);var l={type:e,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--zt,__i:-1,__u:0,__source:_,__self:o};if(typeof e=="function"&&(s=e.defaultProps))for(c in s)a[c]===void 0&&(a[c]=s[c]);return b.vnode&&b.vnode(l),l}var Q,L,pe,ot,le=0,Ht=[],C=b,_t=C.__b,it=C.__r,st=C.diffed,lt=C.__c,ct=C.unmount,at=C.__;function De(e,t){C.__h&&C.__h(L,e,le||t),le=0;var n=L.__H||(L.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Gt(e){return le=1,Jt(Nt,e)}function Jt(e,t,n){var r=De(Q++,2);if(r.t=e,!r.__c&&(r.__=[Nt(void 0,t),function(c){var a=r.__N?r.__N[0]:r.__[0],l=r.t(a,c);a!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=L,!L.u)){var _=function(c,a,l){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!o||o.call(this,c,a,l);var i=r.__c.props!==c;return d.forEach(function(p){if(p.__N){var u=p.__[0];p.__=p.__N,p.__N=void 0,u!==p.__[0]&&(i=!0)}}),o&&o.call(this,c,a,l)||i};L.u=!0;var o=L.shouldComponentUpdate,s=L.componentWillUpdate;L.componentWillUpdate=function(c,a,l){if(this.__e){var d=o;o=void 0,_(c,a,l),o=d}s&&s.call(this,c,a,l)},L.shouldComponentUpdate=_}return r.__N||r.__}function Xt(e,t){var n=De(Q++,3);!C.__s&&xt(n.__H,t)&&(n.__=e,n.i=t,L.__H.__h.push(n))}function Yt(e){return le=5,Zt(function(){return{current:e}},[])}function Zt(e,t){var n=De(Q++,7);return xt(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Qt(){for(var e;e=Ht.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(_e),e.__H.__h.forEach(ye),e.__H.__h=[]}catch(t){e.__H.__h=[],C.__e(t,e.__v)}}C.__b=function(e){L=null,_t&&_t(e)},C.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),at&&at(e,t)},C.__r=function(e){it&&it(e),Q=0;var t=(L=e.__c).__H;t&&(pe===L?(t.__h=[],L.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(_e),t.__h.forEach(ye),t.__h=[],Q=0)),pe=L},C.diffed=function(e){st&&st(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ht.push(t)!==1&&ot===C.requestAnimationFrame||((ot=C.requestAnimationFrame)||en)(Qt)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),pe=L=null},C.__c=function(e,t){t.some(function(n){try{n.__h.forEach(_e),n.__h=n.__h.filter(function(r){return!r.__||ye(r)})}catch(r){t.some(function(_){_.__h&&(_.__h=[])}),t=[],C.__e(r,n.__v)}}),lt&&lt(e,t)},C.unmount=function(e){ct&&ct(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{_e(r)}catch(_){t=_}}),n.__H=void 0,t&&C.__e(t,n.__v))};var ut=typeof requestAnimationFrame=="function";function en(e){var t,n=function(){clearTimeout(r),ut&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ut&&(t=requestAnimationFrame(n))}function _e(e){var t=L,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),L=t}function ye(e){var t=L;e.__c=e.__(),L=t}function xt(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Nt(e,t){return typeof t=="function"?t(e):t}let ce,S,M,be,Ee=!1;const tn=e=>e.nodeType===3,ae=e=>e.nodeType===1,nn=e=>e.nodeType===8,rn=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),on=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),_n=e=>rn.has(e.tagName),$e=()=>S,Tt=()=>M===1?S.data.length:M===2?1:0,ft=e=>{const t=e.nextSibling;return!!t&&!nn(t)},sn=e=>{for(;;){if(M===2){const t=S;for(;(S=ce.nextNode())&&t.contains(S););}else S=ce.nextNode();if(M=null,!S||e&&S===e)break;if(tn(S)){if(S.data!==`
`)return M=1;if(ft(S))return M=3}else if(ae(S)){const t=S.tagName;if(t==="BR"){const n=Ee;if(Ee=!0,ft(S))return M=3;if(!n)return M=5}else{if(S.contentEditable==="false"||on.has(t))return M=2;if(be(S)){const n=S.previousElementSibling;if(n&&be(n))return M=4}}}}},He=(e,t,n,r)=>{try{return be=r.t||_n,ce=t.createTreeWalker(n,5),e(sn)}finally{ce=S=M=null,Ee=!1}},xe=([e],[t])=>e===t?0:e<t?1:-1,j=(e,t)=>{const n=xe(e,t);return n===0?e[1]===t[1]?0:e[1]<t[1]?1:-1:n},{min:dt}=Math,ln=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},At=e=>e.ownerDocument,Ne=e=>At(e).getSelection(),Mt=(e,t)=>{if(e.rangeCount){const n=e.getRangeAt(0);if(t.contains(n.commonAncestorContainer))return n}},pt=(e,t,n)=>{const r=Ne(e);r.removeAllRanges(),r.addRange(t),n&&(r.collapseToEnd(),r.extend(t.startContainer,t.startOffset))},he=(e,t,[n,r],_,o)=>{const s=j(n,r),c=s===0,a=s===-1,l=a?r:n,d=a?n:r;if(l[0]===0&&l[1]===0&&c&&!t.hasChildNodes()){const v=e.createRange();return v.setStart(t,0),v.setEnd(t,0),pt(t,v),!0}const i=ht(e,t,l,_,o);if(!i)return!1;const p=c?i:ht(e,t,d,_,o);if(!p)return!1;const u=e.createRange();{const[v,y]=i;ae(v)?y<1?u.setStartBefore(v):u.setStartAfter(v):u.setStart(v,dt(y,v.data.length))}{const[v,y]=p;ae(v)?y<1?u.setEndBefore(v):u.setEndAfter(v):u.setEnd(v,dt(y,v.data.length))}return pt(t,u,a),!0},ht=(e,t,[n,r],_,o)=>He(s=>{for(;s();){const c=Tt();if(r<=c)return[$e(),r];r-=c}},e,_||t.childElementCount===0?t:t.children[n],o),Y=(e,t,n,r,_,o)=>{let s,c=n;if(_||t.childElementCount===0)c=t,s=0;else{for(;;){const a=c.parentElement;if(a===t)break;c=a}s=Array.prototype.indexOf.call(t.children,c)}return ae(n)&&(n=n.childNodes[r],r=0),He(a=>{let l,d=0;for(;l=a(n);)l===3?(s++,d=0):d+=Tt();return[s,d+r]},e,c,o)},vt=(e,t,n,r)=>{const _=Ne(t),o=Mt(_,t);if(!o)return[[0,0],[0,0]];const{startOffset:s,startContainer:c,endOffset:a,endContainer:l}=o,d=c===l?_.anchorOffset>_.focusOffset:!!(2&_.anchorNode.compareDocumentPosition(_.focusNode));let i,p;if(t!==c||n)i=Y(e,t,c,s,n,r),p=_.isCollapsed?i:Y(e,t,l,a,n,r);else{if(!(s===0&&a!==0&&t.children.length<=a))return[[0,0],[0,0]];i=[0,0],p=Y(e,t,t.lastElementChild,t.lastElementChild.textContent.length,n,r)}return[d?p:i,d?i:p]},X=(e,t,n)=>He(r=>{let _,o=null,s="";const c=[],a=d=>{o||(o=[]),s&&(o.push(s),s=""),d&&o.push(d)},l=()=>{a(),o&&c.push(o),o=null};for(;_=r();)_===1?s+=$e().data:_===2?a($e()):_!==3&&_!==4||l();return l(),c},e,t,n),ue=e=>typeof e=="string",Te=e=>ue(e)?e.length:1,cn=(e,t,n)=>{const r=e[t];ue(n)&&ue(r)?e[t]=r+n:e.splice(t+1,0,n)},ie=(...e)=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(n===0)t.push(...r);else for(const _ of r)cn(t,t.length-1,_)}return t},mt=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n],_=Te(r);if(_>t){const o=e.slice(0,n),s=e.slice(n+1);return ue(r)?(o.push(r.slice(0,t)),s.unshift(r.slice(t))):t===0?s.unshift(r):o.push(r),[o,s]}t-=_}return[e,[]]},gt=(e,t,n,r)=>[e[0]+n,e[1]+(xe(e,t)===0?r-(n===0?0:t[1]):0)],yt=(e,t,n)=>j(n,e)===1?[e[0]-n[0]-t[0],e[1]+(xe(n,e)===0?t[1]-n[1]:0)]:t,Ot=(e,t,n,r)=>{const[_]=n,[o]=r||n,s=mt(e[n[0]],n[1]),c=s[0],a=r?mt(e[r[0]],r[1])[1]:s[1],l=[...t];l.length?(l[0]=ie(c,l[0]),l[l.length-1]=ie(l[l.length-1],a)):l.push(ie(c,a)),e.splice(_,o-_+1,...l)},ke=(e,t,[n,r]=t)=>{const _=j(n,r);if(_!==0){const o=_===-1;((s,c,a,l)=>{const[d,i]=c;Ot(s,[],a,l),j(d,a)!==1&&(c[0]=yt(d,a,l)),j(i,a)!==1&&(c[1]=yt(i,a,l))})(e,t,o?r:n,o?n:r)}},Rt=(e,t,n)=>{ke(e,t),((r,_,o,s)=>{const[c,a]=_,l=o.length,d=l-1,i=o[l-1].reduce((p,u)=>p+Te(u),0);Ot(r,o,s),j(c,s)!==1&&(_[0]=gt(c,s,d,i)),j(a,s)!==1&&(_[1]=gt(a,s,d,i))})(e,t,n,t[0])},an=(e,t,n)=>{Rt(e,t,n.split(`
`).map(r=>[r]))},un=(e,t,n)=>{t[0]=t[1]=n},fn=(e,{schema:{single:t,data:n,copy:r,paste:_},isBlock:o,onChange:s})=>{const{contentEditable:c,role:a,ariaMultiLine:l,ariaReadOnly:d}=e,i=e.style.whiteSpace;e.role="textbox",e.style.whiteSpace="pre-wrap",t||(e.ariaMultiLine="true");let p=!1,u=!1,v=!1,y=[[0,0],[0,0]],$=null,m=!1,g=!1,O=!1;const w={t:o},V=()=>{e.contentEditable=p?"false":"true",e.ariaReadOnly=p?"true":null};V();const I=[],D=At(e),R=(f=>{let h=0,k=0;const E=Date.now,P=[f],x=()=>P[h];return{get:x,set:T=>{P[h]=T},undo:()=>h>0?(h--,x()):void 0,redo:()=>h<P.length-1?(h++,x()):void 0,push:T=>{const H=E();h!==0&&H-k<500&&h--,k=H,P[++h]=T,P.splice(h+1),h>500&&(h--,P.shift())}}})([n(X(D,e,w)),y]),F=((f,h)=>{let k=!1;const E=[],P=H=>{k&&E.push(...H)},x=new MutationObserver(H=>{P(H),k||h()}),T=()=>{P(x.takeRecords())};return x.observe(f,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{o(H){!k&&H&&T(),k=H},i:()=>(T(),E.splice(0)),l(){E.splice(0),x.disconnect()}}})(e,()=>{g&&(he(D,e,y,t,w),$!=null&&(clearTimeout($),$=null))}),q=new Set,N=f=>{q.has(f)||(q.add(f),ln(()=>{q.delete(f),f()}))},B=()=>{const f=y;$=setTimeout(()=>{he(D,e,f,t,w)})},Ae=(f,h,k)=>{if(!p){t&&([f,h]=((P,[[x,T],[H,A]])=>{let U=0,Ze=0;for(let J=0;J<P.length;J++)for(const Ut of P[J]){const Qe=Te(Ut);J<x&&(U+=Qe),J<H&&(Ze+=Qe)}return[[ie(...P)],[[0,U+T],[0,Ze+A]]]})(f,h));const E=n(f);R.set([R.get()[0],k]),R.push([E,h]),y=h,s(E)}B()},Me=()=>{y=vt(D,e,t,w)},Oe=()=>{const f=F.i();if(F.o(!1),f.length){const h=vt(D,e,t,w),k=X(D,e,w);let E;for(;E=f.pop();)if(E.type==="childList"){const{target:P,removedNodes:x,addedNodes:T,nextSibling:H}=E;for(let A=x.length-1;A>=0;A--)P.insertBefore(x[A],H);for(let A=T.length-1;A>=0;A--)P.removeChild(T[A])}else E.target.nodeValue=E.oldValue;F.i(),v=he(D,e,y,t,w),Ae(k,h,y)}},Ft=()=>{if(I.length){const f=[...y],h=X(D,e,w);let k;for(;k=I.pop();)k[0](h,f,...k[1]);Ae(h,f,y)}},G=(f,...h)=>{I.unshift([f,h]),N(Ft)},Re=f=>{if(!m&&(f.metaKey||f.ctrlKey)&&!f.altKey&&f.code==="KeyZ"&&(f.preventDefault(),F.o(!1),!p)){const h=f.shiftKey?R.redo():R.undo();h&&(y=h[1],s(h[0]),B())}},Fe=()=>{m||N(Oe)},Ue=f=>{switch(f.inputType){case"historyUndo":case"historyRedo":return void f.preventDefault();case"insertLineBreak":case"insertParagraph":if(t)return void f.preventDefault()}F.o(!0)},Ie=()=>{m=!0},Be=()=>{m=!1,N(Oe)},We=()=>{g=!0,Me()},Ve=()=>{g=!1},qe=()=>{v?v=!1:!g||m||O||Me()},de=f=>{const h=(k=>{const E=Mt(Ne(k),k);if(E)return E.cloneContents()})(e);h&&r(f,X(D,h,w),h)},Ke=f=>{const h=_(f);typeof h=="string"?G(an,h):G(Rt,X(D,h,w))},je=f=>{f.preventDefault(),de(f.clipboardData)},ze=f=>{f.preventDefault(),p||(de(f.clipboardData),G(ke))},Ge=f=>{f.preventDefault(),Ke(f.clipboardData)},Je=f=>{f.preventDefault();const h=f.dataTransfer,k=((E,P,{clientX:x,clientY:T},H,A)=>{if(E.caretPositionFromPoint){const U=E.caretPositionFromPoint(x,T);if(U)return Y(E,P,U.offsetNode,U.offset,H,A)}else if(E.caretRangeFromPoint){const U=E.caretRangeFromPoint(x,T);if(U)return Y(E,P,U.startContainer,U.startOffset,H,A)}})(D,e,f,t,w);h&&k&&(G(un,k),O?G(ke,y):e.focus(),Ke(h))},Xe=f=>{O=!0,de(f.dataTransfer)},Ye=()=>{O=!1};return D.addEventListener("selectionchange",qe),e.addEventListener("keydown",Re),e.addEventListener("input",Fe),e.addEventListener("beforeinput",Ue),e.addEventListener("compositionstart",Ie),e.addEventListener("compositionend",Be),e.addEventListener("focus",We),e.addEventListener("blur",Ve),e.addEventListener("copy",je),e.addEventListener("cut",ze),e.addEventListener("paste",Ge),e.addEventListener("drop",Je),e.addEventListener("dragstart",Xe),e.addEventListener("dragend",Ye),{dispose:()=>{u||(u=!0,e.contentEditable=c,e.role=a,e.ariaMultiLine=l,e.ariaReadOnly=d,e.style.whiteSpace=i,F.l(),D.removeEventListener("selectionchange",qe),e.removeEventListener("keydown",Re),e.removeEventListener("input",Fe),e.removeEventListener("beforeinput",Ue),e.removeEventListener("compositionstart",Ie),e.removeEventListener("compositionend",Be),e.removeEventListener("focus",We),e.removeEventListener("blur",Ve),e.removeEventListener("copy",je),e.removeEventListener("cut",ze),e.removeEventListener("paste",Ge),e.removeEventListener("drop",Je),e.removeEventListener("dragstart",Xe),e.removeEventListener("dragend",Ye))},readonly:f=>{p=f,V()}}},bt=e=>e.reduce((t,n,r)=>(r!==0&&(t+=`
`),t+n.reduce((_,o)=>_+(typeof o=="string"?o:""),"")),""),dn=({multiline:e}={})=>({single:!e,data:bt,copy:(t,n)=>{t.setData("text/plain",bt(n))},paste:t=>t.getData("text/plain")});function pn(){const e=Yt(null),[t,n]=Gt(`Hello World.
ã“ã‚“ã«ã¡ã¯ã€‚
ðŸ‘â¤ï¸ðŸ§‘â€ðŸ§‘â€ðŸ§’`);return Xt(()=>{if(e.current)return fn(e.current,{schema:dn({multiline:!0}),onChange:n}).dispose},[]),oe("div",{ref:e,style:{backgroundColor:"white",border:"solid 1px darkgray",padding:8},children:t.split(`
`).map((r,_)=>oe("div",{children:r||oe("br",{})},_))})}jt(oe(pn,{}),document.getElementById("app"));
