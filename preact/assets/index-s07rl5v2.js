(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))r(_);new MutationObserver(_=>{for(const o of _)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(_){const o={};return _.integrity&&(o.integrity=_.integrity),_.referrerPolicy&&(o.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?o.credentials="include":_.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(_){if(_.ep)return;_.ep=!0;const o=n(_);fetch(_.href,o)}})();var ke,w,wt,G,it,Lt,xt,Nt,Fe,De,Pe,_e={},St=[],Gt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ee=Array.isArray;function W(t,e){for(var n in e)t[n]=e[n];return t}function Ie(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Yt(t,e,n){var r,_,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?_=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?ke.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return ue(t,s,r,_,null)}function ue(t,e,n,r,_){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:_??++wt,__i:-1,__u:0};return _==null&&w.vnode!=null&&w.vnode(o),o}function $e(t){return t.children}function fe(t,e){this.props=t,this.context=e}function te(t,e){if(e==null)return t.__?te(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?te(t):null}function Ct(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Ct(t)}}function st(t){(!t.__d&&(t.__d=!0)&&G.push(t)&&!he.__r++||it!=w.debounceRendering)&&((it=w.debounceRendering)||Lt)(he)}function he(){for(var t,e,n,r,_,o,s,c=1;G.length;)G.length>c&&G.sort(xt),t=G.shift(),c=G.length,t.__d&&(n=void 0,r=void 0,_=(r=(e=t).__v).__e,o=[],s=[],e.__P&&((n=W({},r)).__v=r.__v+1,w.vnode&&w.vnode(n),Ue(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[_]:null,o,_??te(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,Ht(o,n,s),r.__e=r.__=null,n.__e!=_&&Ct(n)));he.__r=0}function Dt(t,e,n,r,_,o,s,c,u,l,f){var i,p,d,N,A,S,g,k=r&&r.__k||St,F=e.length;for(u=Jt(n,e,k,u,F),i=0;i<F;i++)(d=n.__k[i])!=null&&(p=d.__i==-1?_e:k[d.__i]||_e,d.__i=i,S=Ue(t,d,p,_,o,s,c,u,l,f),N=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&Be(p.ref,null,d),f.push(d.ref,d.__c||N,d)),A==null&&N!=null&&(A=N),(g=!!(4&d.__u))||p.__k===d.__k?u=Pt(d,u,t,g):typeof d.type=="function"&&S!==void 0?u=S:N&&(u=N.nextSibling),d.__u&=-7);return n.__e=A,u}function Jt(t,e,n,r,_){var o,s,c,u,l,f=n.length,i=f,p=0;for(t.__k=new Array(_),o=0;o<_;o++)(s=e[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=t.__k[o]=ue(null,s,null,null,null):Ee(s)?s=t.__k[o]=ue($e,{children:s},null,null,null):s.constructor==null&&s.__b>0?s=t.__k[o]=ue(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):t.__k[o]=s,u=o+p,s.__=t,s.__b=t.__b+1,c=null,(l=s.__i=Qt(s,n,u,i))!=-1&&(i--,(c=n[l])&&(c.__u|=2)),c==null||c.__v==null?(l==-1&&(_>f?p--:_<f&&p++),typeof s.type!="function"&&(s.__u|=4)):l!=u&&(l==u-1?p--:l==u+1?p++:(l>u?p--:p++,s.__u|=4))):t.__k[o]=null;if(i)for(o=0;o<f;o++)(c=n[o])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=te(c)),Mt(c,c));return r}function Pt(t,e,n,r){var _,o;if(typeof t.type=="function"){for(_=t.__k,o=0;_&&o<_.length;o++)_[o]&&(_[o].__=t,e=Pt(_[o],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=te(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Qt(t,e,n,r){var _,o,s,c=t.key,u=t.type,l=e[n],f=l!=null&&(2&l.__u)==0;if(l===null&&c==null||f&&c==l.key&&u==l.type)return n;if(r>(f?1:0)){for(_=n-1,o=n+1;_>=0||o<e.length;)if((l=e[s=_>=0?_--:o++])!=null&&(2&l.__u)==0&&c==l.key&&u==l.type)return s}return-1}function lt(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Gt.test(e)?n:n+"px"}function ce(t,e,n,r,_){var o,s;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||lt(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||lt(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Nt,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=Fe,t.addEventListener(e,o?Pe:De,o)):t.removeEventListener(e,o?Pe:De,o);else{if(_=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ct(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Fe++;else if(e.t<n.u)return;return n(w.event?w.event(e):e)}}}function Ue(t,e,n,r,_,o,s,c,u,l){var f,i,p,d,N,A,S,g,k,F,I,V,a,y,C,E,$,D=e.type;if(e.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),o=[c=e.__e=n.__e]),(f=w.__b)&&f(e);e:if(typeof D=="function")try{if(g=e.props,k="prototype"in D&&D.prototype.render,F=(f=D.contextType)&&r[f.__c],I=f?F?F.props.value:f.__:r,n.__c?S=(i=e.__c=n.__c).__=i.__E:(k?e.__c=i=new D(g,I):(e.__c=i=new fe(g,I),i.constructor=D,i.render=Zt),F&&F.sub(i),i.state||(i.state={}),i.__n=r,p=i.__d=!0,i.__h=[],i._sb=[]),k&&i.__s==null&&(i.__s=i.state),k&&D.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=W({},i.__s)),W(i.__s,D.getDerivedStateFromProps(g,i.__s))),d=i.props,N=i.state,i.__v=e,p)k&&D.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),k&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(k&&D.getDerivedStateFromProps==null&&g!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(g,I),e.__v==n.__v||!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(g,i.__s,I)===!1){for(e.__v!=n.__v&&(i.props=g,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(P){P&&(P.__=e)}),V=0;V<i._sb.length;V++)i.__h.push(i._sb[V]);i._sb=[],i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(g,i.__s,I),k&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,N,A)})}if(i.context=I,i.props=g,i.__P=t,i.__e=!1,a=w.__r,y=0,k){for(i.state=i.__s,i.__d=!1,a&&a(e),f=i.render(i.props,i.state,i.context),C=0;C<i._sb.length;C++)i.__h.push(i._sb[C]);i._sb=[]}else do i.__d=!1,a&&a(e),f=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++y<25);i.state=i.__s,i.getChildContext!=null&&(r=W(W({},r),i.getChildContext())),k&&!p&&i.getSnapshotBeforeUpdate!=null&&(A=i.getSnapshotBeforeUpdate(d,N)),E=f,f!=null&&f.type===$e&&f.key==null&&(E=Tt(f.props.children)),c=Dt(t,Ee(E)?E:[E],e,n,r,_,o,s,c,u,l),i.base=e.__e,e.__u&=-161,i.__h.length&&s.push(i),S&&(i.__E=i.__=null)}catch(P){if(e.__v=null,u||o!=null)if(P.then){for(e.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else{for($=o.length;$--;)Ie(o[$]);He(e)}else e.__e=n.__e,e.__k=n.__k,P.then||He(e);w.__e(P,e,n)}else o==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):c=e.__e=Xt(n.__e,e,n,r,_,o,s,u,l);return(f=w.diffed)&&f(e),128&e.__u?void 0:c}function He(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(He)}function Ht(t,e,n){for(var r=0;r<n.length;r++)Be(n[r],n[++r],n[++r]);w.__c&&w.__c(e,t),t.some(function(_){try{t=_.__h,_.__h=[],t.some(function(o){o.call(_)})}catch(o){w.__e(o,_.__v)}})}function Tt(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Ee(t)?t.map(Tt):W({},t)}function Xt(t,e,n,r,_,o,s,c,u){var l,f,i,p,d,N,A,S=n.props||_e,g=e.props,k=e.type;if(k=="svg"?_="http://www.w3.org/2000/svg":k=="math"?_="http://www.w3.org/1998/Math/MathML":_||(_="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((d=o[l])&&"setAttribute"in d==!!k&&(k?d.localName==k:d.nodeType==3)){t=d,o[l]=null;break}}if(t==null){if(k==null)return document.createTextNode(g);t=document.createElementNS(_,k,g.is&&g),c&&(w.__m&&w.__m(e,o),c=!1),o=null}if(k==null)S===g||c&&t.data==g||(t.data=g);else{if(o=o&&ke.call(t.childNodes),!c&&o!=null)for(S={},l=0;l<t.attributes.length;l++)S[(d=t.attributes[l]).name]=d.value;for(l in S)if(d=S[l],l!="children"){if(l=="dangerouslySetInnerHTML")i=d;else if(!(l in g)){if(l=="value"&&"defaultValue"in g||l=="checked"&&"defaultChecked"in g)continue;ce(t,l,null,d,_)}}for(l in g)d=g[l],l=="children"?p=d:l=="dangerouslySetInnerHTML"?f=d:l=="value"?N=d:l=="checked"?A=d:c&&typeof d!="function"||S[l]===d||ce(t,l,d,S[l],_);if(f)c||i&&(f.__html==i.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(i&&(t.innerHTML=""),Dt(e.type=="template"?t.content:t,Ee(p)?p:[p],e,n,r,k=="foreignObject"?"http://www.w3.org/1999/xhtml":_,o,s,o?o[0]:n.__k&&te(n,0),c,u),o!=null)for(l=o.length;l--;)Ie(o[l]);c||(l="value",k=="progress"&&N==null?t.removeAttribute("value"):N!=null&&(N!==t[l]||k=="progress"&&!N||k=="option"&&N!=S[l])&&ce(t,l,N,S[l],_),l="checked",A!=null&&A!=t[l]&&ce(t,l,A,S[l],_))}return t}function Be(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(_){w.__e(_,n)}}function Mt(t,e,n){var r,_;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||Be(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){w.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(_=0;_<r.length;_++)r[_]&&Mt(r[_],e,n||typeof t.type!="function");n||Ie(t.__e),t.__c=t.__=t.__e=void 0}function Zt(t,e,n){return this.constructor(t,n)}function en(t,e,n){var r,_,o,s;e==document&&(e=document.documentElement),w.__&&w.__(t,e),_=(r=!1)?null:e.__k,o=[],s=[],Ue(e,t=e.__k=Yt($e,null,[t]),_||_e,_e,e.namespaceURI,_?null:e.firstChild?ke.call(e.childNodes):null,o,_?_.__e:e.firstChild,r,s),Ht(o,t,s)}ke=St.slice,w={__e:function(t,e,n,r){for(var _,o,s;e=e.__;)if((_=e.__c)&&!_.__)try{if((o=_.constructor)&&o.getDerivedStateFromError!=null&&(_.setState(o.getDerivedStateFromError(t)),s=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(t,r||{}),s=_.__d),s)return _.__E=_}catch(c){t=c}throw t}},wt=0,fe.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=W({},this.state),typeof t=="function"&&(t=t(W({},n),this.props)),t&&W(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),st(this))},fe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),st(this))},fe.prototype.render=$e,G=[],Lt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xt=function(t,e){return t.__v.__b-e.__v.__b},he.__r=0,Nt=/(PointerCapture)$|Capture$/i,Fe=0,De=ct(!1),Pe=ct(!0);var tn=0;function de(t,e,n,r,_,o){e||(e={});var s,c,u=e;if("ref"in u)for(c in u={},e)c=="ref"?s=e[c]:u[c]=e[c];var l={type:t,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--tn,__i:-1,__u:0,__source:_,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(c in s)u[c]===void 0&&(u[c]=s[c]);return w.vnode&&w.vnode(l),l}var ie,H,xe,at,ve=0,At=[],M=w,ut=M.__b,ft=M.__r,dt=M.diffed,pt=M.__c,ht=M.unmount,vt=M.__;function We(t,e){M.__h&&M.__h(H,t,ve||e),ve=0;var n=H.__H||(H.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function nn(t){return ve=1,rn(Rt,t)}function rn(t,e,n){var r=We(ie++,2);if(r.t=t,!r.__c&&(r.__=[Rt(void 0,e),function(c){var u=r.__N?r.__N[0]:r.__[0],l=r.t(u,c);u!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=H,!H.__f)){var _=function(c,u,l){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(p){return!!p.__c});if(f.every(function(p){return!p.__N}))return!o||o.call(this,c,u,l);var i=r.__c.props!==c;return f.forEach(function(p){if(p.__N){var d=p.__[0];p.__=p.__N,p.__N=void 0,d!==p.__[0]&&(i=!0)}}),o&&o.call(this,c,u,l)||i};H.__f=!0;var o=H.shouldComponentUpdate,s=H.componentWillUpdate;H.componentWillUpdate=function(c,u,l){if(this.__e){var f=o;o=void 0,_(c,u,l),o=f}s&&s.call(this,c,u,l)},H.shouldComponentUpdate=_}return r.__N||r.__}function on(t,e){var n=We(ie++,3);!M.__s&&Ot(n.__H,e)&&(n.__=t,n.u=e,H.__H.__h.push(n))}function _n(t){return ve=5,sn(function(){return{current:t}},[])}function sn(t,e){var n=We(ie++,7);return Ot(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function ln(){for(var t;t=At.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(pe),t.__H.__h.forEach(Te),t.__H.__h=[]}catch(e){t.__H.__h=[],M.__e(e,t.__v)}}M.__b=function(t){H=null,ut&&ut(t)},M.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),vt&&vt(t,e)},M.__r=function(t){ft&&ft(t),ie=0;var e=(H=t.__c).__H;e&&(xe===H?(e.__h=[],H.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(pe),e.__h.forEach(Te),e.__h=[],ie=0)),xe=H},M.diffed=function(t){dt&&dt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(At.push(e)!==1&&at===M.requestAnimationFrame||((at=M.requestAnimationFrame)||cn)(ln)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),xe=H=null},M.__c=function(t,e){e.some(function(n){try{n.__h.forEach(pe),n.__h=n.__h.filter(function(r){return!r.__||Te(r)})}catch(r){e.some(function(_){_.__h&&(_.__h=[])}),e=[],M.__e(r,n.__v)}}),pt&&pt(t,e)},M.unmount=function(t){ht&&ht(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{pe(r)}catch(_){e=_}}),n.__H=void 0,e&&M.__e(e,n.__v))};var mt=typeof requestAnimationFrame=="function";function cn(t){var e,n=function(){clearTimeout(r),mt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);mt&&(e=requestAnimationFrame(n))}function pe(t){var e=H,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),H=e}function Te(t){var e=H;t.__c=t.__(),H=e}function Ot(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Rt(t,e){return typeof e=="function"?e(t):e}const me=([t],[e])=>t===e?0:t<e?1:-1,j=(t,e)=>{const n=me(t,e);return n===0?t[1]===e[1]?0:t[1]<e[1]?1:-1:n},ae=([t,e])=>j(t,e)===-1?[e,t]:[t,e],an=Math.min,{keys:gt,is:un}=Object,Me=t=>typeof t=="string",fn=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)},Ve=(t,e=n=>ne(n)?n.text:"")=>t.reduce((n,r,_)=>(_!==0&&(n+=`
`),n+r.reduce((o,s)=>o+e(s),"")),""),qe=(t,e)=>t.split(`
`).map(n=>n?[{...e,text:n}]:[]),Ft=t=>t.t!==4;class oe{constructor(e){this.o=e?e.slice():[]}get ops(){return this.o}insert(e,n){return this.o.push({t:2,i:e,u:n}),this}insertFragment(e,n){return this.o.push({t:3,i:e,l:n}),this}delete(e,n){return this.o.push({t:1,p:e,h:n}),this}select(e,n){return this.o.push({t:4,_:e,m:n}),this}transform(e){return this.o.reduce((n,r)=>Ft(r)?Ae(n,r):n,e)}}const ne=t=>"text"in t,dn=(t,e)=>{const n=gt(t);return n.length===gt(e).length&&n.every(r=>r in e&&(r==="text"||un(t[r],e[r])))},It=t=>ne(t)?t.text.length:1,Ut=t=>t.reduce((e,n)=>e+It(n),0),Bt=(t,e)=>{if(e.length){const n=t.length;t.push(...e),n&&((r,_=0,o=r.length-1)=>{let s=_+1;for(;s<=o;){const c=r[s-1],u=r[s];ne(c)&&ne(u)&&dn(c,u)?(r[s-1]={...c,text:c.text+u.text},r.splice(s,1),o--):s++}})(t,n-1,n)}},Ne=(...t)=>{const e=[];return t.forEach(n=>{Bt(e,n)}),e},ee=(t,e)=>{for(let n=0;n<t.length;n++){const r=t[n],_=It(r);if(_>e){const o=t.slice(0,n),s=t.slice(n+1);if(ne(r)){const c=r.text.slice(0,e),u=r.text.slice(e);c&&o.push({...r,text:c}),u&&s.unshift({...r,text:u})}else s.unshift(r);return[o,s]}e-=_}return[t,[]]},Se=(t,e,n,r)=>{const[_]=n,[o]=r||n,[s,c]=ee(t[n[0]],n[1]),u=r?ee(t[r[0]],r[1])[1]:c;if(Me(e)){const i=s.length;let p;if(i){const d=s[i-1];ne(d)&&(p=d)}e=qe(e,p)}let l;e.length?(l=[...e],l[0]=Ne(s,l[0]),l[l.length-1]=Ne(l[l.length-1],u)):l=[Ne(s,u)];const f=t.slice();return f.splice(_,o-_+1,...l),f},Z=(t,[e,n])=>e>=0&&e<t.length&&n>=0&&n<=Ut(t[e]),pn=(t,e)=>{switch(e.t){case 1:{const{p:n,h:r}=e;return Z(t,n)&&Z(t,r)&&j(n,r)===1}case 2:return Z(t,e.i)&&!!e.u;case 3:return Z(t,e.i)&&!!Ve(e.l);case 4:return(!e._||Z(t,e._))&&(!e.m||Z(t,e.m))}},Ae=(t,e)=>{switch(e.t){case 1:{const{p:n,h:r}=e;if(j(t,n)!==1)return j(r,t)===1?[t[0]+n[0]-r[0],t[1]+(me(r,t)===0?n[1]-r[1]:0)]:n;break}case 2:case 3:{const n=e.i,r=e.t===2?qe(e.u):e.l,_=r.length,o=_-1;if(j(t,n)!==1)return[t[0]+o,t[1]+(me(t,n)===0?Ut(r[_-1])-(o===0?0:n[1]):0)];break}}return t};let K,O,B,ge,Wt,Oe=!1,Re=!1;const hn=t=>t.nodeType===3,ye=t=>t.nodeType===1,vn=t=>t.nodeType===8,mn=new Set(["EMBED","IMG","PICTURE","AUDIO","VIDEO","SVG","CANVAS","MATH","IFRAME","OBJECT"]),Vt=t=>t.contentEditable==="false"||mn.has(t.tagName),gn=()=>O,qt=()=>B===1?O.data.length:B===2?1:0,yn=t=>{K.currentNode=K.currentNode.parentNode.children[t]},yt=t=>{const e=t.nextSibling;return!!e&&!vn(e)},bn=()=>{for(;;){if(B===2){const t=O;for(;(O=K.nextNode())&&t.contains(O););}else O=K.nextNode();if(B=null,!O)break;if(ge){if(ge.contains(O)){if(Oe=!0,Re)break}else if(Oe)break}if(hn(O)){const t=O.data;if(t)return B=t===`
`?yt(O)?3:6:1}else if(ye(O)){if(O.tagName==="BR")return B=yt(O)?3:5;if(Vt(O))return B=2;if(Wt(O))return B=4}}},Kt=(t,e,{k:n,D:r},_)=>{try{return Wt=r,K=n.createTreeWalker(e,5),_&&(_.v&&(K.currentNode=_.v,K.previousNode()),_.M&&(ge=_.M),Re=_.O||!1),t(bn)}finally{K=O=B=ge=null,Oe=Re=!1}},kn=new Set(["DIV","H1","H2","H3","H4","H5","H6","P","PRE","LI","DT","DD","TR"]),En=t=>kn.has(t.tagName),jt=t=>t.ownerDocument,zt=t=>jt(t).getSelection(),$n=(t,e)=>{if(t.rangeCount){const n=t.getRangeAt(0);if(e.contains(n.commonAncestorContainer))return n}},bt=(t,e,n)=>{const r=zt(t);r.removeAllRanges(),r.addRange(e),n&&(r.collapseToEnd(),r.extend(e.startContainer,e.startOffset))},kt=(t,e,[n,r],_)=>{const o=j(n,r),s=o===0,c=o===-1,u=c?r:n,l=c?n:r;if(u[0]===0&&u[1]===0&&s&&!e.hasChildNodes()){const g=t.createRange();return g.setStart(e,0),g.setEnd(e,0),bt(e,g),!0}const f=Et(e,u,_);if(!f)return!1;const i=s?f:Et(e,l,_);if(!i)return!1;const p=t.createRange(),[d,N]=f,[A,S]=i;return ye(d)?N<1?p.setStartBefore(d):p.setStartAfter(d):p.setStart(d,N),ye(A)?S<1?p.setEndBefore(A):p.setEndAfter(A):p.setEnd(A,S),bt(e,p,c),!0},Et=(t,[e,n],r)=>Kt(_=>{let o,s=!1;for(;o=_();)if(o===4)s||(s=!0,e!==0&&yn(e));else{const c=qt();if(n<=c)return[gn(),n];n-=c}},t,r),be=(t,e,n,r)=>{let _,o,s=!0;if(t===e&&!e.hasChildNodes())return[0,0];if(ye(e)&&!Vt(e)&&e.hasChildNodes()){const u=an(n,e.childNodes.length-1);e=e.childNodes[u],s=u===n,n=0}const c=((u,l)=>{let f=l;for(;;){const i=f.parentElement;if(i===u)break;f=i}return f})(t,e);return r.D(c)?(_=c,o=(u=>{let l=0;for(;u=u.previousElementSibling;)l++;return l})(_)):(_=t,o=0),Kt(u=>{let l,f=0;for(;l=u();)l===3?(o++,f=0):f+=qt();return[o,f+n]},_,r,{M:e,O:s})},$t=(t,e,{startOffset:n,startContainer:r,endOffset:_,endContainer:o})=>{const s=be(t,r,n,e);return[s,r===o&&n===_?s:be(t,o,_,e)]},wn=t=>(e,n)=>{e.setData("text/plain",Ve(n,t))},Ce=()=>{},Ln=({doc:t,singleline:e,copy:n=[wn()],paste:r=[u=>u.getData("text/plain")],isBlock:_=En,onChange:o,onKeyDown:s,onError:c=console.error})=>{let u=[[0,0],[0,0]],l=!1,f=Ce;const i=()=>p.get()[0],p=(a=>{let y=0,C=0;const E=Date.now,$=[a],D=()=>$[y];return{get:D,set:P=>{$[y]=P},undo:()=>y>0?(y--,D()):void 0,redo:()=>y<$.length-1?(y++,D()):void 0,push:P=>{const L=E();y!==0&&L-C<500&&y--,C=L,$[++y]=P,$.splice(y+1),y>500&&(y--,$.shift())}}})([t,u]),d=[];e&&d.push({mount:a=>{a.ariaMultiLine=null},apply:(a,y)=>a(new oe(y.ops.map(C=>C.t===2?{...C,u:C.u.replaceAll(`
`,"")}:C.t===3?{...C,l:[C.l.reduce((E,$)=>(Bt(E,$),E),[])]}:C)))});const N=[a=>{if((a.metaKey||a.ctrlKey)&&!a.altKey&&a.code==="KeyZ"&&!l){const y=a.shiftKey?p.redo():p.undo();return y&&(o(y[0]),u=y[1]),!0}}];s&&N.push(s);const A=d.reduceRight((a,{apply:y})=>y?(C,E,$)=>y(D=>a(C,E,D),$):a,(a,y,C)=>((E,$,D,P)=>{try{for(const L of D.ops)if(pn(E,L)){switch(L.t){case 1:E=Se(E,[],L.p,L.h);break;case 2:E=Se(E,L.u,L.i);break;case 3:E=Se(E,L.l,L.i);break;case 4:(L._||L.m)&&($=[L._||$[0],L.m||$[1]])}Ft(L)&&($=[Ae($[0],L),Ae($[1],L)])}return[E,$]}catch(L){return void(P&&P("rollback transaction: "+L))}})(a,y,C,c)),S=[],g=a=>{l||(S.unshift(a),F(I))},k=new Set,F=a=>{k.has(a)||(k.add(a),fn(()=>{k.delete(a),a()}))},I=()=>{if(S.length){let C,E=i(),$=u;for(;C=S.pop();){const P=A(E,$,C);P&&(E=P[0],$=P[1])}const D=i();y=D,(a=E).length===y.length&&a.every((P,L)=>P===y[L])||(p.set([D,u]),p.push([E,$]),o(E)),u=$}var a,y},V={get doc(){return i()},get selection(){return u},get readonly(){return l},set readonly(a){l=a,f()},apply:(a,...y)=>(typeof a=="function"?a.call(V,...y):g(a),V),input:a=>{if(!window.InputEvent||typeof InputEvent.prototype.getTargetRanges!="function")return c("beforeinput event is not supported."),Ce;const{contentEditable:y,role:C,ariaMultiLine:E,ariaReadOnly:$}=a,D=a.style.whiteSpace;a.role="textbox",a.style.whiteSpace="pre-wrap",a.ariaMultiLine="true",d.forEach(({mount:h})=>{h&&h(a)});let P=!1,L=!1,Y=null,q=!1,se=!1,le=!1;const J=jt(a),Q={k:J,D:_};f=()=>{a.contentEditable=l?"false":"true",a.ariaReadOnly=l?"true":null},f();const Ke=h=>{for(const b of r){const v=b(h,Q);if(v)return v}c("failed to serialize pasted data")},X=((h,b)=>{let v=!1;const m=[],x=U=>{v&&m.push(...U)},T=new MutationObserver(U=>{x(U),v||b()}),R=()=>{x(T.takeRecords())};return T.observe(h,{characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{C(U){!v&&U&&R(),v=U},I:()=>(R(),m.splice(0)),S(){m.splice(0),T.disconnect()}}})(a,()=>{se&&kt(J,a,u,Q)}),re=()=>{u=((h,b)=>{const v=zt(h),m=$n(v,h);if(!m)return[[0,0],[0,0]];const x=$t(h,b,m);return(v.anchorNode===v.focusNode?v.anchorOffset>v.focusOffset:2&(T=v.anchorNode,R=v.focusNode,T.compareDocumentPosition(R)))?[x[1],x[0]]:x;var T,R})(a,Q)},we=()=>{const h=X.I();if(X.C(!1),h.length){let b;for(;b=h.pop();)if(b.type==="childList"){const{target:v,removedNodes:m,addedNodes:x,nextSibling:T}=b;for(let R=m.length-1;R>=0;R--)v.insertBefore(m[R],T);for(let R=x.length-1;R>=0;R--)v.removeChild(x[R])}else b.target.nodeValue=b.oldValue;X.I(),L=kt(J,a,u,Q)}g(Y),q=!1,Y=null},je=h=>{if(!q){for(const b of N)if(b(h))return h.preventDefault(),void X.C(!1)}},ze=()=>{q||we()},Ge=h=>{h.preventDefault();const b=h.inputType;if(b.startsWith("format")||b==="historyUndo"||b==="historyRedo")return;q?X.C(!0):re();const v=h.getTargetRanges()[0];if(v){const m=$t(a,Q,v);let x=b==="insertParagraph"||b==="insertLineBreak"?`
`:h.data;if(x==null){const T=h.dataTransfer;T&&(x=T.getData("text/plain"))}Y||(Y=new oe().select(...u)),j(...m)!==0&&Y.delete(...m),x&&Y.insert(m[0],x)}q||we()},Ye=()=>{q||re(),q=!0},Je=()=>{we()},Qe=()=>{se=!0,re()},Xe=()=>{se=!1},Ze=()=>{L?L=!1:!se||q||le||re()},Le=h=>{re(),j(...u)!==0&&((b,v)=>{for(const m of n)m(b,v,a)})(h,((b,v,m)=>me(v,m)===0?[ee(ee(b[v[0]],m[1])[0],v[1])[1]]:[ee(b[v[0]],v[1])[1],...b.slice(v[0]+1,m[0]),ee(b[m[0]],m[1])[0]])(i(),...ae(u)))},et=h=>{h.preventDefault(),Le(h.clipboardData)},tt=h=>{h.preventDefault(),l||(Le(h.clipboardData),g(new oe().delete(...ae(u))))},nt=h=>{h.preventDefault();const b=Ke(h.clipboardData);if(b){const[v,m]=ae(u),x=new oe().delete(v,m);Me(b)?x.insert(v,b):x.insertFragment(v,b),g(x)}},rt=h=>{h.preventDefault();const b=h.dataTransfer,v=((m,x,{clientX:T,clientY:R},U)=>{if(m.caretPositionFromPoint){const z=m.caretPositionFromPoint(T,R);if(z)return be(x,z.offsetNode,z.offset,U)}else if(m.caretRangeFromPoint){const z=m.caretRangeFromPoint(T,R);if(z)return be(x,z.startContainer,z.startOffset,U)}})(J,a,h,Q);if(b&&v){const m=new oe;le&&m.delete(...ae(u));const x=Ke(b);if(x){const T=m.transform(v);m.select(T,T),Me(x)?m.insert(T,x):m.insertFragment(T,x),m.select(T)}g(m),a.focus({preventScroll:!0})}},ot=h=>{le=!0,Le(h.dataTransfer)},_t=()=>{le=!1};return J.addEventListener("selectionchange",Ze),a.addEventListener("keydown",je),a.addEventListener("input",ze),a.addEventListener("beforeinput",Ge),a.addEventListener("compositionstart",Ye),a.addEventListener("compositionend",Je),a.addEventListener("focus",Qe),a.addEventListener("blur",Xe),a.addEventListener("copy",et),a.addEventListener("cut",tt),a.addEventListener("paste",nt),a.addEventListener("drop",rt),a.addEventListener("dragstart",ot),a.addEventListener("dragend",_t),()=>{P||(P=!0,f=Ce,a.contentEditable=y,a.role=C,a.ariaMultiLine=E,a.ariaReadOnly=$,a.style.whiteSpace=D,X.S(),J.removeEventListener("selectionchange",Ze),a.removeEventListener("keydown",je),a.removeEventListener("input",ze),a.removeEventListener("beforeinput",Ge),a.removeEventListener("compositionstart",Ye),a.removeEventListener("compositionend",Je),a.removeEventListener("focus",Qe),a.removeEventListener("blur",Xe),a.removeEventListener("copy",et),a.removeEventListener("cut",tt),a.removeEventListener("paste",nt),a.removeEventListener("drop",rt),a.removeEventListener("dragstart",ot),a.removeEventListener("dragend",_t))}}};return V},xn=({text:t,onChange:e,...n})=>Ln({...n,doc:qe(t),onChange:r=>{e(Ve(r))}});function Nn(){const t=_n(null),[e,n]=nn(`Hello world.
ã“ã‚“ã«ã¡ã¯ã€‚
ðŸ‘â¤ï¸ðŸ§‘â€ðŸ§‘â€ðŸ§’`);return on(()=>{if(t.current)return xn({text:e,onChange:n}).input(t.current)},[]),de("div",{ref:t,style:{backgroundColor:"white",border:"solid 1px darkgray",padding:8},children:e.split(`
`).map((r,_)=>de("div",{children:r||de("br",{})},_))})}en(de(Nn,{}),document.getElementById("app"));
